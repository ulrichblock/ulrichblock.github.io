{"componentChunkName":"component---src-templates-post-list-tsx","path":"/3","result":{"data":{"site":{"siteMetadata":{"title":"Ulrich Block","author":"Ulrich Block","labels":[{"tag":"react","tech":"React","name":"M12 9.861A2.139 2.139 0 1 0 12 14.139 2.139 2.139 0 1 0 12 9.861zM6.008 16.255l-.472-.12C2.018 15.246 0 13.737 0 11.996s2.018-3.25 5.536-4.139l.472-.119.133.468a23.53 23.53 0 0 0 1.363 3.578l.101.213-.101.213a23.307 23.307 0 0 0-1.363 3.578l-.133.467zM5.317 8.95c-2.674.751-4.315 1.9-4.315 3.046 0 1.145 1.641 2.294 4.315 3.046a24.95 24.95 0 0 1 1.182-3.046A24.752 24.752 0 0 1 5.317 8.95zM17.992 16.255l-.133-.469a23.357 23.357 0 0 0-1.364-3.577l-.101-.213.101-.213a23.42 23.42 0 0 0 1.364-3.578l.133-.468.473.119c3.517.889 5.535 2.398 5.535 4.14s-2.018 3.25-5.535 4.139l-.473.12zm-.491-4.259c.48 1.039.877 2.06 1.182 3.046 2.675-.752 4.315-1.901 4.315-3.046 0-1.146-1.641-2.294-4.315-3.046a24.788 24.788 0 0 1-1.182 3.046zM5.31 8.945l-.133-.467C4.188 4.992 4.488 2.494 6 1.622c1.483-.856 3.864.155 6.359 2.716l.34.349-.34.349a23.552 23.552 0 0 0-2.422 2.967l-.135.193-.235.02a23.657 23.657 0 0 0-3.785.61l-.472.119zm1.896-6.63c-.268 0-.505.058-.705.173-.994.573-1.17 2.565-.485 5.253a25.122 25.122 0 0 1 3.233-.501 24.847 24.847 0 0 1 2.052-2.544c-1.56-1.519-3.037-2.381-4.095-2.381zM16.795 22.677c-.001 0-.001 0 0 0-1.425 0-3.255-1.073-5.154-3.023l-.34-.349.34-.349a23.53 23.53 0 0 0 2.421-2.968l.135-.193.234-.02a23.63 23.63 0 0 0 3.787-.609l.472-.119.134.468c.987 3.484.688 5.983-.824 6.854a2.38 2.38 0 0 1-1.205.308zm-4.096-3.381c1.56 1.519 3.037 2.381 4.095 2.381h.001c.267 0 .505-.058.704-.173.994-.573 1.171-2.566.485-5.254a25.02 25.02 0 0 1-3.234.501 24.674 24.674 0 0 1-2.051 2.545zM18.69 8.945l-.472-.119a23.479 23.479 0 0 0-3.787-.61l-.234-.02-.135-.193a23.414 23.414 0 0 0-2.421-2.967l-.34-.349.34-.349C14.135 1.778 16.515.767 18 1.622c1.512.872 1.812 3.37.824 6.855l-.134.468zM14.75 7.24c1.142.104 2.227.273 3.234.501.686-2.688.509-4.68-.485-5.253-.988-.571-2.845.304-4.8 2.208A24.849 24.849 0 0 1 14.75 7.24zM7.206 22.677A2.38 2.38 0 0 1 6 22.369c-1.512-.871-1.812-3.369-.823-6.854l.132-.468.472.119c1.155.291 2.429.496 3.785.609l.235.02.134.193a23.596 23.596 0 0 0 2.422 2.968l.34.349-.34.349c-1.898 1.95-3.728 3.023-5.151 3.023zm-1.19-6.427c-.686 2.688-.509 4.681.485 5.254.987.563 2.843-.305 4.8-2.208a24.998 24.998 0 0 1-2.052-2.545 24.976 24.976 0 0 1-3.233-.501zM12 16.878c-.823 0-1.669-.036-2.516-.106l-.235-.02-.135-.193a30.388 30.388 0 0 1-1.35-2.122 30.354 30.354 0 0 1-1.166-2.228l-.1-.213.1-.213a30.3 30.3 0 0 1 1.166-2.228c.414-.716.869-1.43 1.35-2.122l.135-.193.235-.02a29.785 29.785 0 0 1 5.033 0l.234.02.134.193a30.006 30.006 0 0 1 2.517 4.35l.101.213-.101.213a29.6 29.6 0 0 1-2.517 4.35l-.134.193-.234.02c-.847.07-1.694.106-2.517.106zm-2.197-1.084c1.48.111 2.914.111 4.395 0a29.006 29.006 0 0 0 2.196-3.798 28.585 28.585 0 0 0-2.197-3.798 29.031 29.031 0 0 0-4.394 0 28.477 28.477 0 0 0-2.197 3.798 29.114 29.114 0 0 0 2.197 3.798z","size":20,"color":"deepskyblue","viewBox":null},{"tag":"nodejs","tech":"Node.js","name":"M11.177 25.3a1.94 1.94 0 0 1-.969-.259l-3.086-1.826c-.46-.257-.235-.349-.083-.402.614-.213.739-.262 1.394-.635.069-.038.159-.024.231.018l2.37 1.407a.304.304 0 0 0 .287 0l9.241-5.333a.292.292 0 0 0 .141-.25V7.355a.3.3 0 0 0-.143-.255l-9.237-5.329a.29.29 0 0 0-.285 0L1.803 7.102a.296.296 0 0 0-.146.253v10.666c0 .102.056.198.145.247l2.532 1.462c1.374.687 2.215-.122 2.215-.935V8.265c0-.149.12-.266.269-.266H7.99c.146 0 .267.117.267.266v10.53c0 1.833-.998 2.885-2.736 2.885-.534 0-.955 0-2.129-.579L.969 19.706A1.953 1.953 0 0 1 0 18.02V7.355c0-.693.371-1.339.969-1.684l9.242-5.34a2.023 2.023 0 0 1 1.942 0l9.241 5.34c.599.346.971.992.971 1.684V18.02c0 .693-.372 1.337-.971 1.686l-9.241 5.335a1.942 1.942 0 0 1-.973.259zm2.855-7.348c-4.045 0-4.892-1.857-4.892-3.414 0-.148.118-.266.266-.266h1.195c.133 0 .245.096.265.226.18 1.216.717 1.831 3.164 1.831 1.946 0 2.775-.441 2.775-1.473 0-.596-.234-1.037-3.26-1.334-2.528-.25-4.093-.809-4.093-2.831 0-1.865 1.572-2.977 4.207-2.977 2.961 0 4.425 1.027 4.611 3.233a.27.27 0 0 1-.267.291h-1.2a.266.266 0 0 1-.259-.209c-.288-1.28-.988-1.689-2.886-1.689-2.126 0-2.373.74-2.373 1.295 0 .673.292.869 3.161 1.248 2.84.375 4.19.907 4.19 2.902 0 2.014-1.678 3.167-4.606 3.167z","size":20,"color":"lightgreen","viewBox":"0 0 24 24"},{"tag":"git","tech":"Git","name":"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187","size":20,"color":"white","viewBox":"0 0 24 24"},{"tag":"github","tech":"GitHub","name":"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z","size":20,"color":"white","viewBox":"0 0 16 15"},{"tag":"javascript","tech":"JavaScript","name":"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z","size":20,"color":"yellow","viewBox":"0 0 24 24"},{"tag":"typescript","tech":"TypeScript","name":"M87.7 200.7V217h52v148h36.9V217h52v-16c0-9 0-16.3-.4-16.5 0-.3-31.7-.4-70.2-.4l-70 .3v16.4l-.3-.1zM321.4 184c10.2 2.4 18 7 25 14.3 3.7 4 9.2 11 9.6 12.8 0 .6-17.3 12.3-27.8 18.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20 5.5-20 16 0 3.2.6 5 1.8 7.6 2.7 5.5 7.7 8.8 23.2 15.6 28.6 12.3 41 20.4 48.5 32 8.5 13 10.4 33.4 4.7 48.7-6.4 16.7-22 28-44.3 31.7-7 1.2-23 1-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4 15-8.7 11.3-6.6 2.6 3.5c3.3 5.2 10.7 12.2 15 14.6 13 6.7 30.4 5.8 39-2 3.7-3.4 5.3-7 5.3-12 0-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7 4.3-20 19.4-34 41-38 7-1.4 23.5-.8 30.4 1l-.2.2z","size":20,"color":"white","viewBox":"0 50 400 300"},{"tag":"css","tech":"CSS","name":"M1.5 0h21l-1.91 21.563L11.977 24l-8.565-2.438L1.5 0zm17.09 4.413L5.41 4.41l.213 2.622 10.125.002-.255 2.716h-6.64l.24 2.573h6.182l-.366 3.523-2.91.804-2.956-.81-.188-2.11h-2.61l.29 3.855L12 19.288l5.373-1.53L18.59 4.414z","size":20,"color":"teal","viewBox":"0 0 24 24"},{"tag":"python","tech":"Python","name":"M14.31.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.83l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.23l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05L0 11.97l.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.24l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05 1.07.13zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09-.33.22zM21.1 6.11l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01.21.03zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08-.33.23z","size":20,"color":"deepskyblue","viewBox":null},{"tag":"ruby","tech":"Ruby","name":"M20.156.083c3.033.525 3.893 2.598 3.829 4.77L24 4.822 22.635 22.71 4.89 23.926h.016C3.433 23.864.15 23.729 0 19.139l1.645-3 2.819 6.586.503 1.172 2.805-9.144-.03.007.016-.03 9.255 2.956-1.396-5.431-.99-3.9 8.82-.569-.615-.51L16.5 2.114 20.159.073l-.003.01zM0 19.089v.026-.029.003zM5.13 5.073c3.561-3.533 8.157-5.621 9.922-3.84 1.762 1.777-.105 6.105-3.673 9.636-3.563 3.532-8.103 5.734-9.864 3.957-1.766-1.777.045-6.217 3.612-9.75l.003-.003z","size":20,"color":"crimson","viewBox":null},{"tag":"java","tech":"Java","name":"M8.851 18.56s-.917.534.653.714c1.902.218 2.874.187 4.969-.211 0 0 .552.346 1.321.646-4.699 2.013-10.633-.118-6.943-1.149M8.276 15.933s-1.028.761.542.924c2.032.209 3.636.227 6.413-.308 0 0 .384.389.987.602-5.679 1.661-12.007.13-7.942-1.218M13.116 11.475c1.158 1.333-.304 2.533-.304 2.533s2.939-1.518 1.589-3.418c-1.261-1.772-2.228-2.652 3.007-5.688 0-.001-8.216 2.051-4.292 6.573M19.33 20.504s.679.559-.747.991c-2.712.822-11.288 1.069-13.669.033-.856-.373.75-.89 1.254-.998.527-.114.828-.093.828-.093-.953-.671-6.156 1.317-2.643 1.887 9.58 1.553 17.462-.7 14.977-1.82M9.292 13.21s-4.362 1.036-1.544 1.412c1.189.159 3.561.123 5.77-.062 1.806-.152 3.618-.477 3.618-.477s-.637.272-1.098.587c-4.429 1.165-12.986.623-10.522-.568 2.082-1.006 3.776-.892 3.776-.892M17.116 17.584c4.503-2.34 2.421-4.589.968-4.285-.355.074-.515.138-.515.138s.132-.207.385-.297c2.875-1.011 5.086 2.981-.928 4.562 0-.001.07-.062.09-.118M14.401 0s2.494 2.494-2.365 6.33c-3.896 3.077-.888 4.832-.001 6.836-2.274-2.053-3.943-3.858-2.824-5.539 1.644-2.469 6.197-3.665 5.19-7.627M9.734 23.924c4.322.277 10.959-.153 11.116-2.198 0 0-.302.775-3.572 1.391-3.688.694-8.239.613-10.937.168 0-.001.553.457 3.393.639","size":20,"color":"wheat","viewBox":null},{"tag":"angular","tech":"Angular","name":"M9.93 12.645h4.134L11.996 7.74M11.996.009L.686 3.988l1.725 14.76 9.585 5.243 9.588-5.238L23.308 3.99 11.996.01zm7.058 18.297h-2.636l-1.42-3.501H8.995l-1.42 3.501H4.937l7.06-15.648 7.057 15.648z","size":20,"color":"red","viewBox":null},{"tag":"html","tech":"HTML","name":"M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157H8.531z","size":20,"color":"darkorange","viewBox":"0 0 24 24"},{"tag":"php","tech":"PHP","name":"M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.476 1.002.33 1.752a2.836 2.836 0 0 1-.305.847c-.143.255-.33.49-.561.703zm4.024.715l.543-2.799c.063-.318.039-.536-.068-.651-.107-.116-.336-.174-.687-.174H11.46l-.704 3.625H9.388l1.23-6.327h1.367l-.327 1.682h1.218c.767 0 1.295.134 1.586.401s.378.7.263 1.299l-.572 2.944h-1.389zm7.597-2.265a2.782 2.782 0 0 1-.305.847c-.143.255-.33.49-.561.703a2.44 2.44 0 0 1-.917.551c-.336.108-.765.164-1.286.164h-1.18l-.327 1.682h-1.378l1.23-6.326h2.649c.797 0 1.378.209 1.744.628.366.417.477 1.001.331 1.751zM17.766 10.207h-.943l-.516 2.648h.838c.557 0 .971-.105 1.242-.314.272-.21.455-.559.551-1.049.092-.47.049-.802-.125-.995s-.524-.29-1.047-.29z","size":20,"color":"violet","viewBox":"0 0 24 24"},{"tag":"mongodb","tech":"MongoDB","name":"M17.18 9.518c-1.263-5.56-4.242-7.387-4.562-8.086C12.266.939 11.885 0 11.885 0c-.002.019-.004.031-.005.049v.013h-.001c-.002.015-.003.025-.004.039v.015h-.002c0 .01-.002.018-.002.026v.026h-.003c-.001.008-.001.018-.003.025v.021h-.002c0 .007 0 .015-.002.021v.02h-.002c0 .01-.001.022-.002.032v.002c-.003.017-.006.034-.009.05v.008h-.002c-.001.004-.003.008-.003.012v.017h-.003v.022h-.005v.018h-.005v.021h-.004v.019h-.004v.017h-.006v.014h-.004v.018h-.004v.014h-.005v.013H11.8v.015h-.004c-.001.001-.001.003-.001.004v.01h-.003c-.001.002-.001.004-.001.006v.006h-.002c-.001.003-.002.008-.002.01-.003.007-.007.014-.01.021v.002c-.002.002-.004.005-.005.007v.008h-.004v.008h-.005v.008h-.003v.01h-.006v.014h-.004v.004h-.004v.008h-.004v.011h-.004v.008h-.006v.011h-.004v.008h-.005v.008h-.003v.01h-.005v.008h-.004v.006h-.004v.008h-.006V.76h-.004v.006h-.005v.008h-.004v.011h-.005v.004h-.003v.008h-.006v.004h-.004v.01h-.004v.004h-.004v.008h-.005v.006h-.003l-.002.004v.004h-.002c-.001.002-.002.002-.002.004v.001h-.001c-.001.003-.002.005-.004.007v.003h-.001c-.005.006-.008.012-.012.018v.001c-.002.002-.007.006-.009.01v.002h-.001c-.001.001-.003.002-.003.003v.003h-.002l-.003.003v.001h-.001c0 .001-.002.002-.003.004v.004h-.003l-.002.002v.002h-.002c0 .002-.002.002-.002.003v.003h-.004c0 .001-.001.002-.002.003V.92h-.003v.004h-.004V.93h-.004v.008h-.005V.93h-.005v.004h-.004V.94h-.005v.008h-.005v.004h-.004v.006h-.004v.004h-.004V.97h-.006v.004h-.004V.98h-.005v.004h-.004v.005h-.005v.01h-.002v.004h-.006v.005h-.004v.002h-.004v.004h-.005v.01h-.004v.004h-.005v.004h-.004v.006h-.005v.004h-.005v.004h-.004v.004h-.004v.01h-.004v.005h-.006v.004h-.004v.004h-.005v.006h-.004v.004h-.005v.007h-.004v.004h-.006V1.1h-.002v.004h-.004v.004h-.005v.004h-.004v.006h-.005v.004h-.003c-.001.001-.001.002-.001.002v.002h-.002l-.004.004s-.002.002-.004.003v.006h-.004v.005h-.004v.004h-.004v.004h-.003l-.003.003v.003h-.002l-.002.002v.003h-.002c-.005.006-.007.01-.014.016-.002.002-.008.007-.012.01-.012.008-.027.021-.039.032-.008.005-.016.012-.022.017v.001h-.001c-.016.013-.031.025-.049.039v.001c-.024.02-.047.039-.074.062V1.34h-.002c-.057.047-.117.1-.186.159V1.5h-.001c-.169.148-.37.338-.595.568l-.015.015-.004.004C9 3.494 6.857 6.426 6.631 11.164c-.02.392-.016.773.006 1.144v.009c.109 1.867.695 3.461 1.428 4.756v.001c.292.516.607.985.926 1.405v.001c1.102 1.455 2.227 2.317 2.514 2.526.441 1.023.4 2.779.4 2.779l.644.215s-.131-1.701.053-2.522c.057-.257.192-.476.349-.662.106-.075.42-.301.797-.645.018-.019.028-.036.044-.054 1.521-1.418 4.362-4.91 3.388-10.599z","size":20,"color":"green","viewBox":null},{"tag":"vscode","tech":"VS Code","name":"M23.15 2.587L18.21.21a1.494 1.494 0 0 0-1.705.29l-9.46 8.63-4.12-3.128a.999.999 0 0 0-1.276.057L.327 7.261A1 1 0 0 0 .326 8.74L3.899 12 .326 15.26a1 1 0 0 0 .001 1.479L1.65 17.94a.999.999 0 0 0 1.276.057l4.12-3.128 9.46 8.63a1.492 1.492 0 0 0 1.704.29l4.942-2.377A1.5 1.5 0 0 0 24 20.06V3.939a1.5 1.5 0 0 0-.85-1.352zm-5.146 14.861L10.826 12l7.178-5.448v10.896z","size":20,"color":"deepskyblue","viewBox":"0 0 24 24"},{"tag":"wordpress","tech":"Wordpress","name":"m5.8465 1.9131c0.57932 0 1.1068 0.222 1.5022 0.58547-0.1938-0.0052-0.3872 0.11-0.3952 0.3738-0.0163 0.5333 0.6377 0.6469 0.2853 1.7196l-0.2915 0.8873-0.7939-2.3386c-0.0123-0.0362 0.002-0.0568 0.0465-0.0568h0.22445c0.011665 0 0.021201-0.00996 0.021201-0.022158v-0.13294c0-0.012193-0.00956-0.022657-0.021201-0.022153-0.42505 0.018587-0.8476 0.018713-1.2676 0-0.0117-0.0005-0.0212 0.01-0.0212 0.0222v0.13294c0 0.012185 0.00954 0.022158 0.021201 0.022158h0.22568c0.050201 0 0.064256 0.016728 0.076091 0.049087l0.3262 0.8921-0.4907 1.4817-0.8066-2.3758c-0.01-0.0298 0.0021-0.0471 0.0308-0.0471h0.25715c0.011661 0 0.021197-0.00996 0.021197-0.022158v-0.13294c0-0.012193-0.00957-0.022764-0.021197-0.022153-0.2698 0.014331-0.54063 0.017213-0.79291 0.019803 0.39589-0.60984 1.0828-1.0134 1.8639-1.0134l-0.0000029-0.0000062zm1.9532 1.1633c0.17065 0.31441 0.26755 0.67464 0.26755 1.0574 0 0.84005-0.46675 1.5712-1.1549 1.9486l0.6926-1.9617c0.1073-0.3036 0.2069-0.7139 0.1947-1.0443h-0.000004zm-1.2097 3.1504c-0.2325 0.0827-0.4827 0.1278-0.7435 0.1278-0.2247 0-0.4415-0.0335-0.6459-0.0955l0.68415-1.9606 0.70524 1.9284v-1e-7zm-1.6938-0.0854c-0.75101-0.35617-1.2705-1.1213-1.2705-2.0075 0-0.32852 0.071465-0.64038 0.19955-0.92096l1.071 2.9285 0.000003-0.000003zm0.95023-4.4367c1.3413 0 2.4291 1.0878 2.4291 2.4291s-1.0878 2.4291-2.4291 2.4291-2.4291-1.0878-2.4291-2.4291 1.0878-2.4291 2.4291-2.4291zm0-0.15354c1.4261 0 2.5827 1.1566 2.5827 2.5827s-1.1566 2.5827-2.5827 2.5827-2.5827-1.1566-2.5827-2.5827 1.1566-2.5827 2.5827-2.5827z","size":20,"color":"green","viewBox":"3.5 1.5 5 5"},{"tag":"graphql","tech":"GraphQL","name":"M14.051 2.751l4.935 2.85c.816-.859 2.173-.893 3.032-.077.148.14.274.301.377.477.589 1.028.232 2.339-.796 2.928-.174.1-.361.175-.558.223v5.699c1.146.273 1.854 1.423 1.58 2.569-.048.204-.127.4-.232.581-.592 1.023-1.901 1.374-2.927.782-.196-.113-.375-.259-.526-.429l-4.905 2.832c.372 1.124-.238 2.335-1.361 2.706-.217.071-.442.108-.67.108-1.181.001-2.139-.955-2.14-2.136 0-.205.029-.41.088-.609l-4.936-2.847c-.816.854-2.171.887-3.026.07-.854-.816-.886-2.171-.07-3.026.283-.297.646-.506 1.044-.603l.001-5.699c-1.15-.276-1.858-1.433-1.581-2.584.047-.198.123-.389.224-.566.592-1.024 1.902-1.374 2.927-.782.177.101.339.228.48.377l4.938-2.85C9.613 1.612 10.26.423 11.39.088 11.587.029 11.794 0 12 0c1.181-.001 2.139.954 2.14 2.134.001.209-.03.418-.089.617zm-.515.877c-.019.021-.037.039-.058.058l6.461 11.19c.026-.009.056-.016.082-.023V9.146c-1.145-.283-1.842-1.442-1.558-2.588.006-.024.012-.049.019-.072l-4.946-2.858zm-3.015.059l-.06-.06-4.946 2.852c.327 1.135-.327 2.318-1.461 2.645-.026.008-.051.014-.076.021v5.708l.084.023 6.461-11.19-.002.001zm2.076.507c-.39.112-.803.112-1.192 0l-6.46 11.189c.294.283.502.645.6 1.041h12.911c.097-.398.307-.761.603-1.044L12.597 4.194zm.986 16.227l4.913-2.838c-.015-.047-.027-.094-.038-.142H5.542l-.021.083 4.939 2.852c.388-.404.934-.653 1.54-.653.627 0 1.19.269 1.583.698z","size":20,"color":"hotpink","viewBox":"0 0 24 24"},{"tag":"gatsby","tech":"Gatsby","name":"M12.001.007C5.326.007.007 5.326.007 12S5.326 23.995 12 23.995s11.994-5.319 11.994-11.994S18.676.007 12.001.007zM2.614 12.105l9.283 9.283c-5.111 0-9.283-4.172-9.283-9.283zm11.473 9.074L2.823 9.915C3.76 5.743 7.516 2.614 12 2.614a9.476 9.476 0 0 1 7.614 3.86L18.259 7.62a7.657 7.657 0 0 0-6.362-3.337A7.555 7.555 0 0 0 4.7 9.393l9.804 9.805c2.4-.835 4.276-2.92 4.798-5.424h-4.068v-1.773h6.154c0 4.485-3.129 8.24-7.301 9.178z","size":20,"color":"rebeccapurple","viewBox":"0 0 24 24"},{"tag":"steam","tech":"Steam","name":"m110.5 87.322c0 0.196 0 0.392 0.01 0.576l-28.508 41.412c-4.618-0.21-9.252 0.6-13.646 2.41-1.937 0.79-3.752 1.76-5.455 2.88l-62.599-25.77c0.00049 0-1.4485 23.83 4.588 41.59l44.254 18.26c2.222 9.93 9.034 18.64 19.084 22.83 16.443 6.87 35.402-0.96 42.242-17.41 1.78-4.3 2.61-8.81 2.49-13.31l40.79-29.15c0.33 0.01 0.67 0.02 1 0.02 24.41 0 44.25-19.9 44.25-44.338 0-24.44-19.84-44.322-44.25-44.322-24.4 0-44.25 19.882-44.25 44.322zm-6.84 83.918c-5.294 12.71-19.9 18.74-32.596 13.45-5.857-2.44-10.279-6.91-12.83-12.24l14.405 5.97c9.363 3.9 20.105-0.54 23.997-9.9 3.904-9.37-0.525-20.13-9.883-24.03l-14.891-6.17c5.746-2.18 12.278-2.26 18.381 0.28 6.153 2.56 10.927 7.38 13.457 13.54s2.52 12.96-0.04 19.1m51.09-54.38c-16.25 0-29.48-13.25-29.48-29.538 0-16.275 13.23-29.529 29.48-29.529 16.26 0 29.49 13.254 29.49 29.529 0 16.288-13.23 29.538-29.49 29.538m-22.09-29.583c0-12.253 9.92-22.191 22.14-22.191 12.23 0 22.15 9.938 22.15 22.191 0 12.254-9.92 22.183-22.15 22.183-12.22 0-22.14-9.929-22.14-22.183z","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"nginx","tech":"Nginx","name":"M22.73015,49.008a3.59488,3.59488,0,0,1-7.18976,0l.00088.00088.00349-24.67727c0-1.91174,1.68924-3.49279,4.08175-3.49279a6.39282,6.39282,0,0,1,4.90021,2.191L25.613,24.32989,40.63124,42.30253V24.432H40.6295a3.59488,3.59488,0,0,1,7.18975,0h-.00087l-.00349,24.67552c0,1.91175-1.69011,3.49279-4.08175,3.49279a6.38857,6.38857,0,0,1-4.90021-2.191L22.7284,31.13659V49.0089Z","size":20,"color":"white","viewBox":"10 15 45 45"},{"tag":"bash","tech":"Bash","name":"","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"game-server","tech":"Game Server","name":"","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"security","tech":"Security","name":"","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"spam","tech":"Spam","name":"","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"sql","tech":"SQL","name":"","size":20,"color":"white","viewBox":"10 20 199 199"}]}},"allMarkdownRemark":{"totalCount":278,"edges":[{"node":{"excerpt":"Vor ein paar Tagen gab es ein Problem durch einen Denial Of Service (DOS). Einer der unzähligen SEO Agenturen crawlte die betroffene Seite mehr aggressiv. Die robots.txt wurde dabei natürlich…","html":"<p>Vor ein paar Tagen gab es ein Problem durch einen Denial Of Service (DOS). Einer der unzähligen SEO Agenturen crawlte die betroffene Seite mehr aggressiv. Die robots.txt wurde dabei natürlich ignoriert.</p>\n<p>Der Unterschied eines DOS zu einem DDOS liegt darin, dass hier die CPU, Ram bzw. Festplatte überlastet werden, während man bei einem DDOS die Bandbreite der Server überlastet. So kann bei einem DOS schon eine kleine 1000er DSL Leitung reichen, wenn man eine Unterseite auf dem Server identifizieren kann, die die Hardware des Servers an seine Grenzen bringt.</p>\n<p>Im konkreten Fall war ein etwas größeres Setup betroffen, das mit Hardware Load Balancer, mehreren App Servern, die auf ein DB Cluster und spezielle Suchserver zugreifen, arbeitet. Auf den App Servern läuft dabei der Nginx als Webserver. Im Grunde also ein recht Leistungsstarkes System.</p>\n<p>Damit der Traffik gar nicht erst bei den App Servern ankommt, wäre hier die beste Lösung die aggressive IP direkt am Load Balancer zu sperren. Im konkreten Fall war das aber auf Grund zwingender Prozesse, Zuständigkeiten und der Urlaubszeit leider nicht auf die Schnelle möglich.</p>\n<p>Ein schneller Workaround musste also her. Da zu dem Zeitpunkt noch nicht ganz klar war, wie viele IPs beteiligt sind bzw. sein werden und die SEO Agentur ihren Bot klar über den User Agent erkennbar machte, wurde eine Sperre über den User Agent implementiert. Recht weit oben im Server Block wurde folgendes eingetragen:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">if ($http_user_agent ~* (BadBot) ) { return 403;}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Nach dem Eintragen, wurde die Config getestet und, da der Syntax akzeptiert wurde, der Server neu geladen:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">/etc/init.d/nginx configtest\n/etc/init.d/nginx reload</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Nachdem die Änderung ging der Load sofort zurück. Da man die Logs nicht mit hundert tausenden Logeinträgen des Bots voll haben wollte, noch das Logging deaktivieren:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">if ($http_user_agent ~* (BadBot) ) {\n access_log /dev/null;\n error_log /dev/null crit;\n return 403;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Eine Lösung über die IP empfiehlt es sich eine extra Datei mit der Liste an bösen IPs anzulegen und diese dann zu includen. In der Liste sehen Einträge dann so aus:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">\n# Blocke einzelne IP\ndeny 1.2.3.4;\n\n# Blocke ein ganzes Subnetz\ndeny 1.2.3.0/24;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Der Include im server Block:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">include /etc/nginx/bad_ips.conf;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Wenn Nginx hinter einem Load Balancer ist, muss man noch auf den X-Forwarded-For Header zugreifen:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">// Hier die Load Balancer IP angeben\nset_real_ip_from 1.1.1.1;\nreal_ip_header X-Forwarded-For;\n// Die Liste includen\ninclude /etc/nginx/bad_ips.conf;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Mit dieser Lösung kann man aber immer nur reagieren, wenn es bereits zu spät, und der Service beeinträchtigt ist. Um einen Denial Of Service von vornherein zu erschweren, kann man bei Nginx mit Rate Limiting arbeiten. Dabei sollte man zwischen Location für statische und dynamisch Inhalte unterscheiden. Ein zu strenges Limit auf JS, Bilder etc. kann den Seitenaufbau verzögern, oder sogar verhindern.</p>\n<p>Zuerst erstellen wir im http block in der <em>/etc/nginx/nginx.conf</em> die Limit Zonen <em>static</em> und <em>dynamic</em></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">limit_req_zone $binary_remote_addr zone=static:20m rate=20r/s;\nlimit_req_zone $binary_remote_addr zone=dynamic:20m rate=10r/s;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>In der Location für die Zugriffe, auf Rails, PHP, NodeJS, oder wie man dynamische Inhalte auch immer ansprechen möchte, aktiviert man dann die vorher definierte Zone. Dabei habe ich hier einen Burst von 20 Zugriffen erlaubt. Der Zusatz <em>nodelay</em> hat zur Folge, dass bei Erreichen des Limits mit 403 geantwortet wird, wenn das Limit erreicht wurde. Ohne den Zusatz wird mit der Antwort geantwortet, bis eine Antwort wieder erlaubt wäre. Wenn man mit Anfragen bombadiert wird, kann es zu hunderten, wenn nicht gar tausenden offenen Verbindungen kommen, wenn man <em>nodelay</em> weg lässt. Das folgende Beispiel wäre für PHP:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">\nlocation ~ \\.php$ {\n   limit_req zone=dynamic burst=20 nodelay;\n   include /etc/nginx/fastcgi_params;\n   fastcgi_pass unix:/tmp/php5-fpm.sock;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Wenn Nginx hinter einem Load Balancer steht, muss man auch hier mit <em>real_ip_header</em> arbeiten. Ansonsten werden sehr schnell, sämtliche Anfragen blockiert.</p>","id":"48e6bc8f-06e1-5ef9-8ab1-37060af8ba6a","frontmatter":{"title":"Nginx: Denial Of Service Abwehr","date":"2014-06-14","tags":["security","nginx"]},"fields":{"slug":"/nginx-denial-service-abwehr/"},"timeToRead":3}},{"node":{"excerpt":"Der Minecraft Server ist in Java geschrieben und kommt von Haus aus ohne Autoupdater. Im Falle eines Updates muss man die Server händisch aktualisieren. Ist man nun Hoster und installiert jedem Kunden…","html":"<p>Der Minecraft Server ist in Java geschrieben und kommt von Haus aus ohne Autoupdater. Im Falle eines Updates muss man die Server händisch aktualisieren.</p>\n<p>Ist man nun Hoster und installiert jedem Kunden seine eigene <em>minecraft_server.jar</em> hat man nun zwei Optionen.</p>\n<p>Zum einen könnte man den Kunden erlauben, die JAR Datei selber zu updaten. Dadurch lagert man die Arbeit zwar auf den Kunden aus, man schafft sich aber einen Sicherheitsalptraum. In dem Moment, in dem der Kunde die Datei austauschen kann, kann er auch Dinge hochladen und ausführen, die mit Minecraft nichts zu tun haben. Im schlimmsten Fall wird mittels privilege escalation der ganze Root übernommen, oder aber die Konkurrenz spioniert die Infrastruktur aus.</p>\n<p>Als Hoster bleibt einem deswegen eigentlich nur die zweite Option, die Server JAR ausschließlich selber zu aktualisieren.</p>\n<p>In einem Symlink Setup, wie bei Easy-Wi kann man dies schnell und einfach über einen zentralen Imageserver regeln, so dass man schon deutlich weniger Arbeitsaufwand hat.</p>\n<p>Es geht aber noch besser. Man kann die aktuelle Version automatisch mit der installierten abgleichen und ggf. das Update automatisch einspielen lassen.</p>\n<p>Unter der URL <a href=\"http://s3.amazonaws.com/Minecraft.Download/versions/versions.json\" target=\"_blank\" rel=\"external noopener noreferrer\">s3.amazonaws.com/Minecraft.Download/versions/versions.json</a> findet man einen JSON encodierten String, mit den Minecraft Server Versionen. Kombiniert mit dem Wissen, dass die JAR Versionen immer nach dem gleichen Muster auf dem Server gespeichert sind <strong><a href=\"http://s3.amazonaws.com/Minecraft.Download/versions/$minecraft_version/minecraft_server.$minecraft_version.jar\" target=\"_blank\" rel=\"external noopener noreferrer\">http://s3.amazonaws.com/Minecraft.Download/versions/$minecraft_version/minecraft_server.$minecraft_version.jar</a></strong>, kann man sich nach einem Aufruf des JSONs, den aktuellen Download Link generieren.</p>\n<p>Genau dies macht Easy-WI bereits für die Masterserver Installation, so dass der Admin bei aktiviertem Autoaupdate nichts mehr machen muss.</p>\n<p>Diese Technik kann man auch relativ einfach mit einem Shell Skript nachbauen. Kombiniert mit einem Wrapper Skript, dass an Stelle der <em>minecraft_server.jar</em> aufgerufen wird, kann man einen Autoupdater realisieren, der bei jedem Serverstart, nach Updates prüft und diese ggf. einspielt.</p>\n<p>Dafür braucht es nicht einmal viele Zeilen:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token assign-left variable\">minecraft_version_old</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">cat</span> mc_version.txt <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -n1<span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token assign-left variable\">minecraft_version</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">wget</span> -q http://s3.amazonaws.com/Minecraft.Download/versions/versions.json -O- <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -m1 -B4 -A1 <span class=\"token string\">'\"release\"'</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">'\"release\"'</span><span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F<span class=\"token string\">'\"'</span> <span class=\"token string\">'{print $4}'</span><span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token assign-left variable\">minecraft_download</span><span class=\"token operator\">=</span><span class=\"token string\">\"http://s3.amazonaws.com/Minecraft.Download/versions/<span class=\"token variable\">$minecraft_version</span>/minecraft_server.<span class=\"token variable\">$minecraft_version</span>.jar\"</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$minecraft_version_old</span>\"</span> <span class=\"token operator\">!=</span> <span class=\"token string\">\"<span class=\"token variable\">$minecraft_version</span>\"</span> -a <span class=\"token string\">\"yes\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"$(echo | awk \"(<span class=\"token variable\">$minecraft_version_old</span> &lt;= <span class=\"token variable\">$minecraft_version</span>) { print <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>yes<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>; }\"</span><span class=\"token punctuation\">)</span><span class=\"token string\">\" ]; then\n        echo \"</span>Old: <span class=\"token variable\">$minecraft_version_old</span><span class=\"token punctuation\">;</span> New: <span class=\"token variable\">$minecraft_version</span>\"\n        <span class=\"token function\">wget</span> <span class=\"token variable\">$minecraft_download</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -f minecraft_server.<span class=\"token variable\">$minecraft_version</span>.jar <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n                <span class=\"token function\">mv</span> minecraft_server.<span class=\"token variable\">$minecraft_version</span>.jar minecraft_server.jar\n                <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$minecraft_version</span> <span class=\"token operator\">></span> mc_version.txt\n                <span class=\"token function\">chmod</span> <span class=\"token number\">700</span> minecraft_server.jar\n        <span class=\"token keyword\">fi</span>\n<span class=\"token keyword\">fi</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Es ist dabei erforderlich, dass es im gleichen Ordner, wie die <em>minecraft_server.jar</em> liegt.</p>","id":"f805b87d-510c-5ffc-a738-80f320ad5297","frontmatter":{"title":"Minecraft Autoupdater Script","date":"2014-05-03","tags":["game-server","bash"]},"fields":{"slug":"/minecraft-autoupdater-script/"},"timeToRead":2}},{"node":{"excerpt":"So leicht kann es gehen. Jemand beim Hoster fand meinen Beitrag CSGO Server Timeouts bei HLSW anscheinend so gelungen, dass er ihn in die Wiki von CKRAS übernommen hat. Da ich nicht um Erlaubnis…","html":"<p>So leicht kann es gehen. Jemand beim Hoster fand meinen Beitrag <a href=\"/csgo-server-timeouts-bei-hlsw/\">CSGO Server Timeouts bei HLSW</a> anscheinend so gelungen, dass er ihn in die Wiki von CKRAS übernommen hat. Da ich nicht um Erlaubnis gefragt wurde handelt es sich wohl um eine Urheberrechtsverletzung. Deswegen ging nun folgende E-Mail an CKRAS heraus:</p>\n<blockquote>\n<p>Sehr geehrte Damen und Herren,</p>\n<p>anscheinend hat einem ihrer Mitarbeiter einer der Inhalte (<a href=\"http://www.ulrich-block.de/csgo-server-timeouts-bei-hlsw/\" target=\"_blank\" rel=\"external noopener noreferrer\">http://www.ulrich-block.de/csgo-server-timeouts-bei-hlsw/</a>) meines Blogs gefallen. Zu sehr für meinen Geschmack, zumal er ihn samt Screenshots und Rechtschreibfehler ohne Erlaubnis kopiert und bei Ihnen auf der Wiki (<a href=\"https://wiki.ckras.com/wiki/index.php?title=Timeout-Guide\" target=\"_blank\" rel=\"external noopener noreferrer\">https://wiki.ckras.com/wiki/index.php?title=Timeout-Guide</a>) veröffentlicht hat.</p>\n<p>Falls die Inhalte nicht unverzüglich entfernt werden, fasse ich dies dahingehend auf, dass Ihnen meine Inhalte ebenfalls sehr gefallen. In diesem Fall werde ich am 30.04.2014 eine Rechnung in Höhe von 30€ stellen.</p>\n<p>Mit freundlichen Grüßen,<br>\nUlrich Block</p>\n<p>PS:<br>\nDie Aussage in Ihrer Wiki, dass man mit den Einstellungen unter erhöhter Gefahr einer DDOS Attacke steht, ist natürlich vollkommen falsch.<br>\nGerne kann ich Sie darüber unterrichten, was amplified DDOS ist.</p>\n</blockquote>\n<p>Ich bin schon gespannt, welche der vorgeschlagenen Varianten gewählt wird.</p>\n<hr>\n<p><strong>Nachtrag:</strong><br>\nWie zu erwarten war, wurde die Seite aus der Ckras Wiki entfernt.</p>","id":"8f950fd8-36f6-56ce-94aa-0247f7661f25","frontmatter":{"title":"Bitte mein Urheberrecht beachten","date":"2014-04-26","tags":[]},"fields":{"slug":"/bitte-mein-urheberrecht-beachten/"},"timeToRead":1}},{"node":{"excerpt":"Es dürften schon so einige über eine ähnliche Fehlermeldung nach einem PHP Update gestolpert sein: Warning: strtotime(): It is not safe to rely on the system’s timezone settings. You are *required* to…","html":"<p>Es dürften schon so einige über eine ähnliche Fehlermeldung nach einem PHP Update gestolpert sein:</p>\n<blockquote>\n<p>Warning: strtotime(): It is not safe to rely on the system’s timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected ‚Europe/Berlin‘ for ‚CEST/2.0/DST‘ instead in /var/www/domain.tld/htdocs/index.php on line 21</p>\n</blockquote>\n<p>Der korrekte Lösungsansatz ist es, die <strong>php.ini</strong> Variable <em>date.timezone</em> zu definieren:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">date.timezone = Europe/Berlin</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Wer keinen Zugriff darauf hat, kann sich mit PHP selber behelfen. Dafür muss man folgenden kleinen Code am Anfang seines Skriptes einfügen:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token variable\">$timezoneDefined</span> <span class=\"token operator\">=</span> @<span class=\"token function\">ini_get</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"date.timezone\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$timezoneDefined</span> <span class=\"token operator\">==</span> <span class=\"token string double-quoted-string\">\"\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token function\">date_default_timezone_set</span><span class=\"token punctuation\">(</span>@<span class=\"token function\">date_default_timezone_get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Schreibt man eine Anwendung, die von einer Vielzahl von Leuten genutzt werden soll, bietet es sich an, dass man im Installer bzw. einer Config Einstellung, dem User die effektive Zeitzone einstellen lässt. Eine Liste mit allen erlaubten könnte man so in ein Formular einbauen:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>inputInstallTimezone<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>Zeitzone<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>inputInstallTimezone<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>timezone<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token variable\">$timezoneDefined</span> <span class=\"token operator\">=</span> <span class=\"token function\">ini_get</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'date.timezone'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token function\">timezone_identifiers_list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$time</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"&lt;option>${time}&lt;/option>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token delimiter important\">?></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","id":"ca5ec817-c8bc-59d7-aa04-76b10f5fc7c9","frontmatter":{"title":"It is not safe to rely on the system’s timezone settings","date":"2014-04-21","tags":["php"]},"fields":{"slug":"/safe-rely-systems-timezone-settings/"},"timeToRead":1}},{"node":{"excerpt":"Einleitung Dieses How To soll erklären, wie man seinen Rootserver zu einem Gameroot macht, der für den Betrieb von Gameservern optimieren ist. Nicht alles ist zwingend. Vieles sind Denkanstöße die man…","html":"<h3>Einleitung</h3>\n<p>Dieses How To soll erklären, wie man seinen Rootserver zu einem Gameroot macht, der für den Betrieb von Gameservern optimieren ist. Nicht alles ist zwingend. Vieles sind Denkanstöße die man eventuell für sich anpassen muss. Das hier geschriebene wurde mit Linux Debian getestet, sollte aber auch 1:1 mit Ubuntu funktionieren. CentOS mit <em>yum</em> und Suse mit <em>yast2</em> verwenden andere Paketmanager und die Pakete heißen etwas anders. Hier kann die passenden Namen mit Tante Google, oder dem <em>search</em> Befehl selber herausfinden</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">yum search Paketname</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>Hardware/Leistung bestimmen</h3>\n<p>Als erstes sollte man sich klar machen, wie viel Leistung und (virtuelle) Kerne man zur Verfügung hat. Diese kann man mit den dem Tool <em>taskset</em> einzelnen Prozessen zuweisen und damit die Prozesse einschränken. Verfügt die Intel CPU über Hyperthreading, wie z.B. bei einem Core i7, hat man doppelt so viele virtuelle Kerne, wie man physische verfügt.<br>\nRuft man das Tool <em>htop</em> auf, kann man sehen, wie viele Kerne vorhanden sind. Falls es nicht verfügbar ist, sollte man es noch installieren</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token function\">htop</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Auf meinem virtuellen Testserver mit drei Kernen sieht es dann so aus, wenn er unter Vollast steht:<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 665px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e1896dfb14be327655bd1c5eedc77d5c/5f4af/htop.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACmUlEQVQoz22TzW8bRRiH3/2Y/Zidnd3Z9a53nbQ2rYpJJUS5cCgQEidtaYldo4qonCrOtCUVUiEqShHqkVOEOBAVqX/pg+z40AOHR3o/5vdoNNKINpasNERFTGAUvg7wUx9P+/iZR6ZCAqXwi4IwtyhjCI1BZSnK2kvihDgv+fOfd4inMwIXIU4uKVd4SOXjDzxqnSBBiPQd0rYEfY+qKsIkJjaGxFpEZM3FxQUSZIYoUUQiqM1iRShC6vtYpfDem3sb5H94+/ZfRJ5NkR+nyM87yMubyMkO8mKKPL2BnEyRFzvI8w+QZ/eRpz8gP32IPN+wyp7cRE538F9/zJt350gw+wyzmBEe7eJ98yXxfI9gsY9eHqzr6Ogr9GKfZHGP6Og+8Xwf/XCGWR6QzWekyzsED/dR3854fX6OGF/R2ZJEBF+ETIQoiCgziw0ici+kDGOKMEKLYLwQF6U0OqcvHEUQsVVUVGHEq1dniBvU1G1DnCb4KkRnGuVK7LDFWEteFqzO5GWJNtl6VtbVOtN2HW03ZOvqFeqm5uyPN0i9EtYVcRTh+wFZmqLynKJtyIsCYwzOOawt0Dpd96VzrHKDpmE06qnrmr7v+OX0N6QaDBj2HXEc4wcBmdbvCS0mzylduZZrrTe9o24Ga2E/6mnahvFkzMu10DnaQU0chpdvGEeoLMPWFXYl0BpXFNjMoJMYk6aUhaV2JbVzjIYtfddxfTLe3HB7m/b6NZLKrX9D1gxQXYedTLDdENP3uO0t8tEW2aDGjEa4FZMx9ZVt+o+m9OOrXLv1Cb+e/Y7EX3xO/N0x6mBG8OAB6s4h6u5d1HxOfHhIuFiQ3vuacLkkun0b/9Ej9N4e4fEx2e4u6skTzKe3yL5/zOlff/MfqIU9juN0bKIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"htop\"\n        title=\"htop\"\n        src=\"/static/e1896dfb14be327655bd1c5eedc77d5c/5f4af/htop.png\"\n        srcset=\"/static/e1896dfb14be327655bd1c5eedc77d5c/772e8/htop.png 200w,\n/static/e1896dfb14be327655bd1c5eedc77d5c/e17e5/htop.png 400w,\n/static/e1896dfb14be327655bd1c5eedc77d5c/5f4af/htop.png 665w\"\n        sizes=\"(max-width: 665px) 100vw, 665px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>Prozesse limitieren</h3>\n<p>Es ist zwar nicht empfohlen, dass man Gameserver und Webspace auf der gleichen Maschine laufen lässt, für viele ist dies jedoch eine wirtschaftliche Notwendigkeit. In einem solchen Fall kann man die Web- und MySQL bzw. MariaDB Server sowohl in der Anzahl der erlaubten Kerne, als auch in der Priorisierung limitieren.<br>\nGameserver mittels <em>taskset</em> auf einen Kern zu limitieren ist nicht immer förderlich, oft sogar kontraproduktiv.</p>\n<p>Zum Einen werden wir mittels <em>taskset</em> die Server auf einen Kern limitieren, zum Anderen werden sie mit <em>nice</em> und <em>ionice</em> unterpriorisiert. Dabei ist zu beachten, dass <em>taskset</em> bei 0 mit dem Zählen beginnt. Man hat also bei vier verfügbaren Kernen die Kerne 0,1,2,3 zu vergeben.</p>\n<p>Um einen Prozess mit niedrigster Priorität auf dem vierten Kern zu starten, stellt man Folgendes vor den eigentlichen Startbefehl</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">taskset -c <span class=\"token number\">3</span> ionice -n <span class=\"token number\">7</span> <span class=\"token function\">nice</span> -n +19 ./startbefehl</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Wir bearbeiten nun die Startskripte im <em>/etc/init.d/</em> Ordner und fügen den obigen Befehl ein. Bei MySQL bzw. MariaDB ist es das Skript <em>/etc/init.d/mysql</em>, in der man folgende Zeile</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># Start MySQL!</span>\n/usr/bin/mysqld_safe <span class=\"token operator\">></span> /dev/null <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span> <span class=\"token operator\">&amp;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>mit dieser austauschen muss</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># Start MySQL!</span>\ntaskset -c <span class=\"token number\">3</span> ionice -n <span class=\"token number\">7</span> <span class=\"token function\">nice</span> -n +19 /usr/bin/mysqld_safe <span class=\"token operator\">></span> /dev/null <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span> <span class=\"token operator\">&amp;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Das gleiche Vorgehen mit Apache2. Hier nennt sich das Startskript <em>/etc/init.d/apache2</em> und die zu ändernde Zeile ist</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token assign-left variable\">HTCACHECLEAN</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">$ENV</span> /usr/sbin/htcacheclean\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Nach dem Editieren sollte sie so aussehen</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token assign-left variable\">HTCACHECLEAN</span><span class=\"token operator\">=</span><span class=\"token string\">\"taskset -c 3 ionice -n 7 nice -n +19 <span class=\"token variable\">$ENV</span> /usr/sbin/htcacheclean\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Sobald man mit dem Editieren fertig ist startet man die Server neu</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">/etc/init.d/apache2 restart\n/etc/init.d/mysql restart</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Nun kann man mittels <em>ps</em> die PIDs herausfinden</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">ps</span> fx <span class=\"token operator\">|</span> <span class=\"token function\">egrep</span> <span class=\"token string\">'apache|mysql'</span>\n<span class=\"token number\">11519</span> pts/1    S+     <span class=\"token number\">0</span>:00          <span class=\"token punctuation\">\\</span>_ <span class=\"token function\">egrep</span> apache<span class=\"token operator\">|</span>mysql\n <span class=\"token number\">3630</span> ?        Ss     <span class=\"token number\">0</span>:00 /usr/sbin/apache2 -k start\n <span class=\"token number\">4598</span> pts/1    SN     <span class=\"token number\">0</span>:00 /bin/sh /usr/bin/mysqld_safe\n <span class=\"token number\">4926</span> pts/1    SN     <span class=\"token number\">0</span>:00  <span class=\"token punctuation\">\\</span>_ logger -t mysqld -p daemon.error</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Und dann mit <em>taskset</em> überprüfen, ob die Änderungen erfolgreich waren. Die <em>affinity list</em> solte den Kernen entsprechen, die man in den Startskripten eingetragen hat.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">taskset -cp <span class=\"token number\">4598</span>\npid <span class=\"token number\">4598</span>'s current affinity list: <span class=\"token number\">3</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3>Netzwerkbandbreite limitieren</h3>\n<p>Ein weiteres Problem kann die Bandbreite der Netzwerkkarte werden. Die meisten Rootserver verfügen über eine Anbindung von 100Mbit an das Internet. Wenn nun mehrere Leute auf den Seiten Surfen und ggf. auch noch ein Fast Download, oder ähnliches über den Webspace läuft, kann es vorkommen, dass mehr Netzwerkbandbreite angefragt wird, als dem Rootserver zur Verfügung steht.</p>\n<p>Um diesen Konflikt von vornherein auszuschließen, kann man beim Apache2 Server die insgesamt zulässige Bandbreite mit dem Modul mod-bw limitieren. Das Modul muss erst installiert werden</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> libapache2-mod-bw</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Dann aktiviert man es</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">a2enmod bw</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Als letztes geht man daran, die Bandbreite global zu limitieren. Dazu erstellt man die Datei <em>/etc/apache2/conf.d/throttle-bandwidth</em> und trägt Folgendes ein</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">BandwidthModule On\nForceBandWidthModule On\nMaxConnection all 100\n\n# Limitiert auf 1000kb/s\n#Bandwidth all 1024000\n# Limitiert auf 500kb/s\n#Bandwidth all 512000\n# Limitiert auf 250kb/s\nBandwidth all 256000</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Je nach Last können 1000kb und 500kb bereits zu viel sein. Hier gilt es, selber auszuprobieren und den passenden Wert zu finden.</p>\n<p>Wenn man die Änderung vorgenommen hat, muss man die Config für den Apachen neu laden</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">/etc/init.d/apache2 reload</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>Eigener Gameserver Kernel</h3>\n<p>Wer sich nicht zutraut, einen eigenen Kernel zu erstellen, der kann sich <a href=\"http://www.ulrich-block.de/gameserverkernel/\" title=\"Gameserver Kernel\" target=\"_blank\" rel=\"external noopener noreferrer\">hier</a> fertige downloaden.</p>\n<p>Als erstes bringen wir das System auf den neuesten Stand.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">apt-get</span> upgrade</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Dann installieren wir die zum Kompilieren notwendigen Pakete:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> kernel-package libncurses-dev <span class=\"token function\">wget</span> <span class=\"token function\">bzip2</span> <span class=\"token function\">make</span> build-essential</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Durch Abhängigkeiten wird dies eine weit größere Anzahl von Paketen installieren</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">The following extra packages will be installed:\n  autopoint dpkg-dev g++ g++-4.7 gettext git git-man intltool-debian libalgorithm-diff-perl libalgorithm-diff-xs-perl\n  libalgorithm-merge-perl libcroco3 libcurl3-gnutls libdpkg-perl liberror-perl libfile-fcntllock-perl libgettextpo0 libglib2.0-0\n  libglib2.0-data libmail-sendmail-perl librtmp0 libssh2-1 libstdc++6-4.7-dev libsys-hostname-long-perl libtimedate-perl\n  libtinfo-dev libunistring0 po-debconf rsync shared-mime-info</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Wir erstellen ein neues Verzeichnis und wechseln in dieses</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> /root/kernel/\n<span class=\"token builtin class-name\">cd</span> /root/kernel/</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Dann werden die aktuellen Kernel Sourcedateien gedownloaded. Hier NICHT Copy &#x26; Paste machen, sondern auf <a href=\"http://kernel.org\" title=\"kernel.org\" target=\"_blank\" rel=\"external noopener noreferrer\">kernel.org</a> nachschlagen, was das neueste Stable Release ist.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://www.kernel.org/pub/linux/kernel/v3.x/linux-3.14.1.tar.xz</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Die heruntergeladene Datei entpacken und in das Verzeichnis wechseln</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">tar</span> xfv linux-3.14.1.tar.xz\n<span class=\"token builtin class-name\">cd</span> linux-3.14.1</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Nun weichen wir von den meisten HowTo´s/Tutorials ab und verwenden den <em>make</em> Parameter <em>localmodconfig</em>. Dadurch werden nur die aktuell verwendeten Module und Treiber für den neuen Kernel übernommen. Wer den Kernel ohne Modul Support bauen möchte, der verwendet den verwandten Parameter <em>localyesconfig</em>. Ich bevorzuge die Modulvariante.<br>\nMan wird sehr wahrscheinlich eine Vielzahl von Fragen angezeigt bekommen, die man alle mit Enter bestätigen sollte.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">make</span> localmodconfig</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Nachdem das Grundgerüst steht, rufen wir die grafische Konfiguration des Kernels auf</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">make</span> menuconfig</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Dort folgende Einstallungen vornehmen:<br>\nGeneral setup --><br>\nTimers subsystem --></p>\n<ul>\n<li>Timer tick handling (Full dynticks system (tickless)) --></li>\n<li>[*] Full dynticks system on all CPUs by default</li>\n<li>[*] Detect full-system idle state for full dynticks system</li>\n<li>[*] Old Idle dynticks config</li>\n<li>[*] High Resolution Timer Support</li>\n</ul>\n<p>-*- Enable the block layer -->\nIO Schedulers --></p>\n<ul>\n<li>&#x3C;*> Deadline I/O scheduler</li>\n<li>&#x3C;*> CFQ I/O scheduler</li>\n<li>[*] CFQ Group Scheduling support</li>\n<li>Default I/O scheduler (Deadline) --></li>\n</ul>\n<p>Processor type and features --></p>\n<ul>\n<li>Processor family (Generic-x86-64 für AMD, Core 2/newer Xeon für Inetl)</li>\n<li>Preemption Model (No Forced Preemption (Server)) --></li>\n<li>Timer frequency (100 HZ) --></li>\n<li>Default I/O scheduler (Deadline) --></li>\n</ul>\n<p>Wer möglichst viel auf einer Maschine laufen lassen möchte wählt bei Preemtion Model <em>No Forced Preemption (Server)</em> aus. Wer den genausten Server für z.B. wenige 128 Tick Warserver haben möchte, der nimmt <em>Preemptible Kernel (Low-Latency Desktop)</em>. Das Gleiche gilt für <em>Timer frequency</em>. Je genauer der Kernel sein soll, desto mehr HZ sollten eingestellt werden. Große CSS Public Server werden sich hier über den geringeren Overhead von 100HZ freuen, 128 Tick CS:GO Warserver eher über die 1000HZ.</p>\n<p>Power management and ACPI options --><br>\nCPU Frequency scaling --></p>\n<ul>\n<li>[] CPU Frequency scaling</li>\n</ul>\n<p>-*- Networking support --><br>\nNetworking options --></p>\n<ul>\n<li>[*] Network packet filtering framework (Netfilter)</li>\n<li>[*] QoS and/or fair queueing</li>\n</ul>\n<p>Netfilter sind die IPtables. Diese braucht man nicht zwingen. Jedoch wird man als Betreiber von Gameservern früher, oder später von einem DOS, oder sogar DDOS betroffen sein. Während man gegen letzteres auf dem eigenen Root nicht viel machen kann, kann man einen DOS mittels IPtables filtern. Dafür muss der Support dann im Kernel compiliert sein.<br>\nMittels QoS (Quality of Service) kann man Traffic kategorisieren und priorisieren. Man kann Down und Uploads hinter Gameservertraffik hinten an stellen.</p>\n<p>Nachdem alle Einstellungen vorgenommen sind, beenden und speichern wir die Konfiguration und machen uns an das eigentliche Kompilieren.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">make-kpkg clean <span class=\"token operator\">&amp;&amp;</span> make-kpkg -j4 --initrd kernel_image kernel_headers</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Wenn der Compiler erfolgreich durchgelaufen ist, sollte sich im Order <em>/root/kernel/</em> der fertige Gameserver Kernel samt Header Dateien als <em>.deb</em> Pakete befinden. Diese installieren wir mit dem Tool dpkg. Auch hier bitte gucken, dass man nicht einfach Copy &#x26; Paste betreibt, sondern vorher schaut, wie der Kernel eigentlich heißt.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">dpkg -i linux-headers-3.14.1.deb\ndpkg -i linux-image-3.14.1.deb</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Nachdem der Kernel installiert ist, bleibt nur noch das Rebooten:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">reboot</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Je nach Leistungsstärke des Servers, sollte dieser in einer, oder etwas mehr Minuten wieder erreichbar sein. Mit dem Tool uname kann man überprüfen, ob der neue Kernel geladen wurde</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">uname</span> -a</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>IPTables/Firewall</h3>\n<p>In meinem Github Repository befindet sich ein fertiges <a href=\"https://github.com/ulrichblock/bash-scripts-gameserver/blob/master/iptables.sh\" target=\"_blank\" rel=\"external noopener noreferrer\">Skript</a> für die IPTables. Je nachdem, welche Ports man belegt hat, muss man es noch anpassen.<br>\nEs sollte in der Lage sein, gängige Arten von DOS Angriffen abzufangen.</p>\n<p>Teamspeak 3 Ports werden an dieser Stelle aufgelistet</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token assign-left variable\">TSPORTS</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">9987</span> <span class=\"token number\">9988</span> <span class=\"token number\">9989</span> <span class=\"token number\">9990</span> <span class=\"token number\">9991</span> <span class=\"token number\">9992</span> <span class=\"token number\">9993</span> <span class=\"token number\">9994</span> <span class=\"token number\">9995</span> <span class=\"token number\">9996</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Gameserver sind hier zu finden</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token assign-left variable\">GSPORTS</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">27015</span> <span class=\"token number\">27145</span> <span class=\"token number\">27245</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Je nach Traffikaufkommen, kann das Syslog sehr schnell anwachsen. In diesem Fall folgende Zeilen auskommentieren</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\">#$IPTABLES -I droplog -p TCP -j LOG -m limit --limit 20/min --log-prefix=\"DROP TCP-Packet: \" --log-level crit</span>\n<span class=\"token comment\">#$IPTABLES -I droplog -p UDP -j LOG -m limit --limit 20/min --log-prefix=\"DROP UDP-Packet: \" --log-level crit</span>\n<span class=\"token comment\">#$IPTABLES -I droplog -p ICMP -j LOG -m limit --limit 20/min --log-prefix=\"DROP ICMP-Packet: \" --log-level crit</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>","id":"03509b8c-e242-5ea5-833b-d3523b0c41d4","frontmatter":{"title":"Der optimale Gameroot und Gameserver Kernel","date":"2014-04-19","tags":["game-server"]},"fields":{"slug":"/tutorials/der-optimale-gameroot-und-gameserver-kernel/"},"timeToRead":8}},{"node":{"excerpt":"Ich stelle schon länger fertig kompilierte Gameserver Kernel zur Verfügung. Zu finden sind sie hier. Zwischen dem bereits angebotenen 3.0 Branch (21 Juli, 2011), aktuellen Debian Stable 3.2 Branch (…","html":"<p>Ich stelle schon länger fertig kompilierte Gameserver Kernel zur Verfügung. Zu finden sind sie <a href=\"/gameserverkernel/\" title=\"Gameserver Kernel\">hier</a>.</p>\n<p>Zwischen dem bereits angebotenen 3.0 Branch (21 Juli, 2011), aktuellen Debian Stable 3.2 Branch (4 Januar, 2012) und dem neusten 3.14 Branch (30 März 2014) liegen mehr als zwei Jahre Entwicklungszeit. Seitdem hat sich sehr viel getan in Bereichen Netzwerk, IO und Scheduling. Ganz neu mit dem Release 3.14 ist der Deadline Scheduler.<br>\nVon all den Änderungen profitiert man nun natürlich auch beim Gameserver Hosting.</p>\n<p>Es war also höchste Zeit, die neuen Kernel Sourcecodes von <a href=\"http://kernel.org\" title=\"http://kernel.org\" target=\"_blank\" rel=\"external noopener noreferrer\">kernel.org</a> zu beziehen und neue Kernel zu kompilieren. In erstens Test laufen die Server deutlich runder. Ebenso ist der Ping im Schnitt 10-20ms niedriger, als mit dem 3.2.</p>\n<p>Ich habe die fertigen Kernel <strong>3.14.1-ub-100hz</strong> und <strong>3.14.1-ub-1000hz</strong> zu der bereits oben genannten Seite <a href=\"/gameserverkernel/\" title=\"Gameserver Kernel\">Gameserver Kernel</a> hinzugefügt.</p>\n<p>Ebenso habe ich das ausführliche Tutorial <a href=\"/tutorials/der-optimale-gameroot-und-gameserver-kernel/\" title=\"Der optimale Gameroot und Gameserver Kernel\">Der optimale Gameroot und Gameserver Kernel</a> geschrieben, das erklärt, wie man einen solchen Kernel kompiliert und wie man sonst noch an der Performance seines Rootservers schrauben kann.</p>","id":"5187a6fe-c16b-550e-9991-a8198c12c312","frontmatter":{"title":"Gameserver Kernel Updates und Tutorial","date":"2014-04-19","tags":["game-server"]},"fields":{"slug":"/gameserver-kernel-updates-und-tutorial/"},"timeToRead":1}},{"node":{"excerpt":"Wer seinen Counter-Strike Global Offensive Server mit HLSW verwalten will, wird seit den letzten Updates in aller Regel viele rote Timeouts aka rote Balken sehen:\n Sie entstehen dadurch, dass…","html":"<p>Wer seinen Counter-Strike Global Offensive Server mit HLSW verwalten will, wird seit den letzten Updates in aller Regel viele rote Timeouts aka rote Balken sehen:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 289px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cb5ff36acc628f2391c0c0c1be59932c/c969a/hlsw_timeout.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA5klEQVQI1yXKTUvCcACA8X3N6AsYQSsskC4KWUESkTOdBiqjUx7KknTWnH/nstl6OdgCL8le6BDN6As8EV6f3yP51y0+qjW8nomvlpmMHEJFwTP7BMUSb2JAUFR5vzPwK5VFV8t4YkD479aQSCkwGbt8HuSQ4mqdr3SG6EYnTm4ys+/5WVklaHeJ5XWiW5NvWSZqtphvpRbfRpJQN4jXZAJDME8kmDkuv0vLSO6lhnGaoSM07EKai/EZw8MUbUvj5Xif7qiByG/TMWs8l3L0rAbOSRbDPucxn6X/0OTpaAf99Yrp3i5/OEG5XGPrOUYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"hlsw_timeout\"\n        title=\"hlsw_timeout\"\n        src=\"/static/cb5ff36acc628f2391c0c0c1be59932c/c969a/hlsw_timeout.png\"\n        srcset=\"/static/cb5ff36acc628f2391c0c0c1be59932c/772e8/hlsw_timeout.png 200w,\n/static/cb5ff36acc628f2391c0c0c1be59932c/c969a/hlsw_timeout.png 289w\"\n        sizes=\"(max-width: 289px) 100vw, 289px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Sie entstehen dadurch, dass Schutzmaßnahmen im Bereich DOS, DDOS undamplified DDOS ergriffen wurden. Oder anders: Es wurde die maximal zulässige Anzahl von Statusquerys in der Sekunde limitiert.</p>\n<p>Damit es zu keinen roten Balken bei HLSW mehr kommt, kann man das Limit der zulässigen Querys in der Sekunde anheben. Dies macht man mit dem Config Variable <em>sv_max_queries_sec</em>. Setzt man diese auf 6 Sekunden, verschwinden die roten Balken, aka Timeouts auf Kosten des Schutz gegen DOS/amplified DDOS:<br>\n<code class=\"language-text\">sv_max_queries_sec 6</code><br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 294px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9f3dea8de2b5191ac08fa7554ef69d98/04a86/hlsw_ok.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAs0lEQVQY02XKzXKCMBTFcd7/jbpQkQV+sSgak5CCkptdE+wj/DtEnOnUxW/uOXNPofqB/67D7LbcV36n/+bb7E5hXcA4wTifr81Z0Et//ezbxqPduOyedDdSrEJN6Y9spWEjh2wtO9bjniqcKOWY+4evqHzDJuxZSU0ZDtTSUkmTzZtdaCk+o+LybVGx4xwNbdSoZNGxR6Uu05Pjkgwm9aip45wM+uFw0x0zDZhHn339jPwC7zUa5CX0sTAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"hlsw_ok\"\n        title=\"hlsw_ok\"\n        src=\"/static/9f3dea8de2b5191ac08fa7554ef69d98/04a86/hlsw_ok.png\"\n        srcset=\"/static/9f3dea8de2b5191ac08fa7554ef69d98/772e8/hlsw_ok.png 200w,\n/static/9f3dea8de2b5191ac08fa7554ef69d98/04a86/hlsw_ok.png 294w\"\n        sizes=\"(max-width: 294px) 100vw, 294px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Wer dann noch wieder die Playerliste und Serverdetails sehen möchte fügt noch folgendes in die server.cfg ein:<br>\n<code class=\"language-text\">host_info_show 2host_players_show 2</code></p>\n<p>Alle diese Befehle steigern natürlich die Gefahr, dass man für eine amplified DDOS Attacke ausgenutzt wird.</p>","id":"b230db45-4a4e-5974-b006-68814412cc02","frontmatter":{"title":"CSGO Server Timeouts bei HLSW","date":"2014-03-28","tags":["steam","game-server","csgo"]},"fields":{"slug":"/csgo-server-timeouts-bei-hlsw/"},"timeToRead":1}},{"node":{"excerpt":"Schonmal über folgenden Fehler beim Neustarten von ProFTP gestolpert? Im Regelfall wird man das Modul nicht brauchen. Deswegen kann man es deaktivieren und ist die Fehlermeldung los. Öffnet die Datei…","html":"<p>Schonmal über folgenden Fehler beim Neustarten von ProFTP gestolpert?</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">/etc/proftpd<span class=\"token comment\"># /etc/init.d/proftpd restart</span>\n<span class=\"token punctuation\">[</span> ok <span class=\"token punctuation\">]</span> Stopping <span class=\"token function\">ftp</span> server: proftpd.\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span><span class=\"token punctuation\">]</span> Starting <span class=\"token function\">ftp</span> server: proftpdeasy-wi proftpd<span class=\"token punctuation\">[</span><span class=\"token number\">26395</span><span class=\"token punctuation\">]</span>: mod_tls_memcache/0.1: notice: unable to register <span class=\"token string\">'memcache'</span> SSL session cache: Memcache support not enabled\n<span class=\"token builtin class-name\">.</span> ok</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Im Regelfall wird man das Modul nicht brauchen. Deswegen kann man es deaktivieren und ist die Fehlermeldung los.</p>\n<p>Öffnet die Datei <strong>/etc/proftpd/modules.conf</strong> mit eurem bevorzugten Editor, sucht den Eintrag für das Modul und kommentiert ihn aus:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">(...)\n#LoadModule mod_tls_memcache.c\n(...)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Beim nächsten Neustart sollte die Fehlermeldung nicht mehr erscheinen.</p>","id":"81d3ed51-1664-532b-8697-130bb7a2c0d0","frontmatter":{"title":"mod_tls_memcache/0.1: notice: unable to register &#8218;memcache&#8216; SSL session cache: Memcache support not enabled","date":"2014-03-08","tags":["ProFTP"]},"fields":{"slug":"/mod_tls_memcache0-1-notice-unable-register-memcache-ssl-session-cache-memcache-support-enabled/"},"timeToRead":1}},{"node":{"excerpt":"Die Zeiten der Insellösungen bei Software ist definitiv vorbei. Moderne Software ist meist nur noch ein Bestandteil einer größeren Softwarecloud bzw. Softwareverbundes. Software ohne API und…","html":"<p>Die Zeiten der Insellösungen bei Software ist definitiv vorbei. Moderne Software ist meist nur noch ein Bestandteil einer größeren Softwarecloud bzw. Softwareverbundes. Software ohne API und Schnittstellen wird im Web mittel- und längerfristig wohl aussterben bzw. stark zurück gehen.</p>\n<p>Im Backendbereich wird dies oft über REST und SOAP, JDBC usw. geregelt. Davon kriegt der User in der Regel aber nichts mit.</p>\n<p>Ein Beispiel im Frontend, dass der User immer öfter sehen kann, ist das so genannte Social Auth. Bei vielen modernen Seiten und Programmen kann man Buttons mit \"Registrieren mit Facebook\", \"Login mit Facebook\", \"Registrieren mit Twitter\", \"Login mit Twitter\", usw. sehen.</p>\n<p>Klickt man darauf, dann wird der User auf Facebook geleitet, welches dann den Login durchführt und der anderen Webseite mitteilt, dass der User sich eingeloggt hat.</p>\n<p>Bei der Registrierung auf einer Seite bzw. Programm mit Facebook Teilt Facebook nach Erlaubnis durch den User der Seite bzw. Programm die Userdaten mit.</p>\n<p>Der so genannte Social Auth wird dabei mit standardisierten Verfahren abgewickelt. Diese nennen sich z.B, OpenID und OAuth.</p>\n<p>Es war schon lange geplant, Social Auth bei Easy-WI zu integrieren. Leider ist dies an dem Faktor Zeit gescheitert. Nun habe ich ein paar Stunden gefunden und die PHP Klasse Hybridauth eingebunden. Social Auth ist nun mit dem Login von Facebook, Github, Steam, Twitter, Google-Plus, LinkedIn, Live, Mail.ru, OpenID, Twitch.tv, Xing und Yandex.ru möglich:<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 562px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bc29ab4ccc895cb31cc4476603bc9248/6e88f/social_auth.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 111.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADj0lEQVQ4y5WV709TVxjH/VOW7M3eO5K90PiCxDSRTR0kYwvZMAOGLtE4h6Kw8UMkFCcD3RZxLAxwHTJiFl+gEw3qkjF0ccESRbuftHHQn7S37e3tved8lnPa0lVF3ZN885xzc+/3fJ8f57kbUqkUtm3jOA5SSu0ty/rfyGQyJJNJNqiFgmEYhEIh4vE4TzKJQEiBlKVer8kJ0YSWlSUaibDg9TI1NcXi/ftFEik18oxPNRXlmkIlORwO64eZjEU6nSabzepThSMxrFUuhUYZX+pjwn+Sc/4B7ScCA3ztP8pMeFK/VxKyCld5RZYjtHGEo08PRVaoPbiTmkMVNHZUU99Wxe7Oauo+qsT1Xhk9Qy36PU1omiZCCK1SeQ0pESKXF2X/LAfZuvUtXK63qaxsZMf2eu23v1ZH2cuv0tzsLhIqIlUQn8+nlRmJBNK2QQhs2wEpWI4k2f/ZHLu6Z2g4foM693Xqeq7xft+PVLdfxf3NPCCKCkuSKwTxrE3SdrRKVY1IxqFrPs6e2Qj7b0bZOxfjwK0Ye+eivH49St/dJAinmEPbzuIPBAg9/Jvvf3nIxq471Hzlw8oKfYi1GsN3/Cje1iYWOltZaD+Ct0OhBe++BpaGB3EezWFKFcIyWYma/HQvwfwfybxCiBtpPhk6T0f/GL2DE/R88S3u0+OcODNBU/cZRs5fUT325JBLmjnfg8GUw7sXY7xydoUtniCbPCE2e4Js8YR44csgu6/EQToYBcJCAxfgiFyVC4SRhM3nF5ap7V9i14Cf2v4A7/T7qXIHcLUv0TMZ1oSPKVy7FXkT+f3yqsXGztts6r5NxafzuE7Ms2PgDuW9v/Ji8032eX4rVbgeYWFvGVEWR5rwDh9iYayNhdFWvKMf41Xr03vwTw/hSJ6tsLA340muHRvhhvssP5+cZLb/HLMDE8yd+o6ZtiG841d1NM9NGI6mqT84Te2HF2lsvUzD4cs0tkxTf+QHdjZeoHfwVmljP1qUAtZyaKxSM9lH+XAHFWPduEa62DZ6jM1Dbbx06gAfXBorbZv1CNXM05ZdgcVy5L1tSN+b8KAK+aAafG/A3TIIHEbd0mf2YWEMSmHjmH/hpP8s+jzs9O8IawXbcUrnYTSVIWbaGnEjqQdFImHoW6Qil6yPxwas2sTNLAlLkLAckmlTz0b1vykWSjwF//kFqI9U2NmMibWG3NBVygsD93mgCP8Fw9guJaFVOB0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"social_auth\"\n        title=\"social_auth\"\n        src=\"/static/bc29ab4ccc895cb31cc4476603bc9248/6e88f/social_auth.png\"\n        srcset=\"/static/bc29ab4ccc895cb31cc4476603bc9248/772e8/social_auth.png 200w,\n/static/bc29ab4ccc895cb31cc4476603bc9248/e17e5/social_auth.png 400w,\n/static/bc29ab4ccc895cb31cc4476603bc9248/6e88f/social_auth.png 562w\"\n        sizes=\"(max-width: 562px) 100vw, 562px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","id":"f47428a2-077d-535b-914a-4ac4eeec8bc3","frontmatter":{"title":"Social Auth bei Easy-WI","date":"2014-02-21","tags":["easy-wi"]},"fields":{"slug":"/social-auth-bei-easy-wi/"},"timeToRead":1}},{"node":{"excerpt":"Laut eigener Angabe ist der Händlerbund: Der Händlerbund vertritt als größter Onlinehandelsverband Europas die Interessen von mehr als 30.000 Onlinepräsenzen und stellt als Anbieter von…","html":"<p>Laut eigener Angabe ist der Händlerbund:</p>\n<blockquote>\n<p>Der Händlerbund vertritt als größter Onlinehandelsverband Europas die Interessen von mehr als 30.000 Onlinepräsenzen und stellt als Anbieter von professionellen E-Commerce-Dienstleistungen neben abmahnsicheren Rechtstexten für Online-Händler ein Kundenbewertungssystem für Online-Shops zur Verfügung.</p>\n</blockquote>\n<p>Als solcher bietet er auch eine Schnittstelle zum automatisierten Einbinden und Updaten der Rechtstexte an. Für die Shopsoftware Magento gibt es bereits ein fertiges Plugin. Es kann auch statische Blöcke an Stelle von Seiten befüllen. Nur ist diese Funktion in der mir vorliegenden Version des Plugins leider verbugt. Weder kann man die statische Blöcke auswählen, noch updated das Plugin den Text in die Blöcke hinein. Dies liegt an zwei Bugs in zwei Dateien.</p>\n<p>Bug eins befindet sich in der <strong>app/code/community/IntegerNet/Haendlerbund/Model/System/Config/Source/Haendlerbund/CmsSites.php</strong> in den Zeilen 31 + 37 hier heißt es:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$cmsBlocks</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$cmsBlock</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$cmsBlocksOptions</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string single-quoted-string\">'label'</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$cmsPage</span><span class=\"token operator\">-></span><span class=\"token function\">getTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'value'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'block_'</span><span class=\"token operator\">.</span><span class=\"token variable\">$cmsPage</span><span class=\"token operator\">-></span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Korrekt wäre es:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$cmsBlocks</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$cmsBlock</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$cmsBlocksOptions</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string single-quoted-string\">'label'</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$cmsBlock</span><span class=\"token operator\">-></span><span class=\"token function\">getTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'value'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'block_'</span><span class=\"token operator\">.</span><span class=\"token variable\">$cmsBlock</span><span class=\"token operator\">-></span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Nun kann man statische Blöcke unter <em>System > Konfiguration > Händlerbund</em> auswählen. Klickt man auf \"Füge Rechtstexte jetzt ein\", zerschießt man sich eine oder mehrere CMS Seiten, weil es noch einen zweiten Bug gibt. So steht in den Zeile 41 der Datei <strong>app/code/community/IntegerNet/Haendlerbund/Model/InsertLegislativeTexts.php</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token variable\">$model</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Mage</span><span class=\"token operator\">::</span><span class=\"token function\">getModel</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'cms/page'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$id</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Hier muss es heißen:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token variable\">$model</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Mage</span><span class=\"token operator\">::</span><span class=\"token function\">getModel</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'cms/block'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$id</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Hat man beides korrigiert, kann man die gewünschten statischen Blöcke auswählen und die Rechtstexte aktualisieren.</p>","id":"64d4da1d-e9b0-5e2a-999c-25a5aec04712","frontmatter":{"title":"Bugs im Händlerbund Plugin für Magento","date":"2014-02-16","tags":["magento","php"]},"fields":{"slug":"/bugs-im-haendlerbund-plugin-fuer-magento/"},"timeToRead":1}}]}},"pageContext":{"currentPage":3,"limit":10,"numPages":29,"skip":20}},"staticQueryHashes":["1134651766","2457448410","258428790","551055924"]}