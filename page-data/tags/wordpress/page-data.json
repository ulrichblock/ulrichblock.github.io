{"componentChunkName":"component---src-templates-tag-tsx","path":"/tags/wordpress/","result":{"data":{"site":{"siteMetadata":{"title":"Ulrich Block","author":"Ulrich Block","labels":[{"tag":"react","tech":"React","name":"M12 9.861A2.139 2.139 0 1 0 12 14.139 2.139 2.139 0 1 0 12 9.861zM6.008 16.255l-.472-.12C2.018 15.246 0 13.737 0 11.996s2.018-3.25 5.536-4.139l.472-.119.133.468a23.53 23.53 0 0 0 1.363 3.578l.101.213-.101.213a23.307 23.307 0 0 0-1.363 3.578l-.133.467zM5.317 8.95c-2.674.751-4.315 1.9-4.315 3.046 0 1.145 1.641 2.294 4.315 3.046a24.95 24.95 0 0 1 1.182-3.046A24.752 24.752 0 0 1 5.317 8.95zM17.992 16.255l-.133-.469a23.357 23.357 0 0 0-1.364-3.577l-.101-.213.101-.213a23.42 23.42 0 0 0 1.364-3.578l.133-.468.473.119c3.517.889 5.535 2.398 5.535 4.14s-2.018 3.25-5.535 4.139l-.473.12zm-.491-4.259c.48 1.039.877 2.06 1.182 3.046 2.675-.752 4.315-1.901 4.315-3.046 0-1.146-1.641-2.294-4.315-3.046a24.788 24.788 0 0 1-1.182 3.046zM5.31 8.945l-.133-.467C4.188 4.992 4.488 2.494 6 1.622c1.483-.856 3.864.155 6.359 2.716l.34.349-.34.349a23.552 23.552 0 0 0-2.422 2.967l-.135.193-.235.02a23.657 23.657 0 0 0-3.785.61l-.472.119zm1.896-6.63c-.268 0-.505.058-.705.173-.994.573-1.17 2.565-.485 5.253a25.122 25.122 0 0 1 3.233-.501 24.847 24.847 0 0 1 2.052-2.544c-1.56-1.519-3.037-2.381-4.095-2.381zM16.795 22.677c-.001 0-.001 0 0 0-1.425 0-3.255-1.073-5.154-3.023l-.34-.349.34-.349a23.53 23.53 0 0 0 2.421-2.968l.135-.193.234-.02a23.63 23.63 0 0 0 3.787-.609l.472-.119.134.468c.987 3.484.688 5.983-.824 6.854a2.38 2.38 0 0 1-1.205.308zm-4.096-3.381c1.56 1.519 3.037 2.381 4.095 2.381h.001c.267 0 .505-.058.704-.173.994-.573 1.171-2.566.485-5.254a25.02 25.02 0 0 1-3.234.501 24.674 24.674 0 0 1-2.051 2.545zM18.69 8.945l-.472-.119a23.479 23.479 0 0 0-3.787-.61l-.234-.02-.135-.193a23.414 23.414 0 0 0-2.421-2.967l-.34-.349.34-.349C14.135 1.778 16.515.767 18 1.622c1.512.872 1.812 3.37.824 6.855l-.134.468zM14.75 7.24c1.142.104 2.227.273 3.234.501.686-2.688.509-4.68-.485-5.253-.988-.571-2.845.304-4.8 2.208A24.849 24.849 0 0 1 14.75 7.24zM7.206 22.677A2.38 2.38 0 0 1 6 22.369c-1.512-.871-1.812-3.369-.823-6.854l.132-.468.472.119c1.155.291 2.429.496 3.785.609l.235.02.134.193a23.596 23.596 0 0 0 2.422 2.968l.34.349-.34.349c-1.898 1.95-3.728 3.023-5.151 3.023zm-1.19-6.427c-.686 2.688-.509 4.681.485 5.254.987.563 2.843-.305 4.8-2.208a24.998 24.998 0 0 1-2.052-2.545 24.976 24.976 0 0 1-3.233-.501zM12 16.878c-.823 0-1.669-.036-2.516-.106l-.235-.02-.135-.193a30.388 30.388 0 0 1-1.35-2.122 30.354 30.354 0 0 1-1.166-2.228l-.1-.213.1-.213a30.3 30.3 0 0 1 1.166-2.228c.414-.716.869-1.43 1.35-2.122l.135-.193.235-.02a29.785 29.785 0 0 1 5.033 0l.234.02.134.193a30.006 30.006 0 0 1 2.517 4.35l.101.213-.101.213a29.6 29.6 0 0 1-2.517 4.35l-.134.193-.234.02c-.847.07-1.694.106-2.517.106zm-2.197-1.084c1.48.111 2.914.111 4.395 0a29.006 29.006 0 0 0 2.196-3.798 28.585 28.585 0 0 0-2.197-3.798 29.031 29.031 0 0 0-4.394 0 28.477 28.477 0 0 0-2.197 3.798 29.114 29.114 0 0 0 2.197 3.798z","size":20,"color":"deepskyblue","viewBox":null},{"tag":"nodejs","tech":"Node.js","name":"M11.177 25.3a1.94 1.94 0 0 1-.969-.259l-3.086-1.826c-.46-.257-.235-.349-.083-.402.614-.213.739-.262 1.394-.635.069-.038.159-.024.231.018l2.37 1.407a.304.304 0 0 0 .287 0l9.241-5.333a.292.292 0 0 0 .141-.25V7.355a.3.3 0 0 0-.143-.255l-9.237-5.329a.29.29 0 0 0-.285 0L1.803 7.102a.296.296 0 0 0-.146.253v10.666c0 .102.056.198.145.247l2.532 1.462c1.374.687 2.215-.122 2.215-.935V8.265c0-.149.12-.266.269-.266H7.99c.146 0 .267.117.267.266v10.53c0 1.833-.998 2.885-2.736 2.885-.534 0-.955 0-2.129-.579L.969 19.706A1.953 1.953 0 0 1 0 18.02V7.355c0-.693.371-1.339.969-1.684l9.242-5.34a2.023 2.023 0 0 1 1.942 0l9.241 5.34c.599.346.971.992.971 1.684V18.02c0 .693-.372 1.337-.971 1.686l-9.241 5.335a1.942 1.942 0 0 1-.973.259zm2.855-7.348c-4.045 0-4.892-1.857-4.892-3.414 0-.148.118-.266.266-.266h1.195c.133 0 .245.096.265.226.18 1.216.717 1.831 3.164 1.831 1.946 0 2.775-.441 2.775-1.473 0-.596-.234-1.037-3.26-1.334-2.528-.25-4.093-.809-4.093-2.831 0-1.865 1.572-2.977 4.207-2.977 2.961 0 4.425 1.027 4.611 3.233a.27.27 0 0 1-.267.291h-1.2a.266.266 0 0 1-.259-.209c-.288-1.28-.988-1.689-2.886-1.689-2.126 0-2.373.74-2.373 1.295 0 .673.292.869 3.161 1.248 2.84.375 4.19.907 4.19 2.902 0 2.014-1.678 3.167-4.606 3.167z","size":20,"color":"lightgreen","viewBox":"0 0 24 24"},{"tag":"git","tech":"Git","name":"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187","size":20,"color":"white","viewBox":"0 0 24 24"},{"tag":"github","tech":"GitHub","name":"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z","size":20,"color":"white","viewBox":"0 0 16 15"},{"tag":"javascript","tech":"JavaScript","name":"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z","size":20,"color":"yellow","viewBox":"0 0 24 24"},{"tag":"typescript","tech":"TypeScript","name":"M87.7 200.7V217h52v148h36.9V217h52v-16c0-9 0-16.3-.4-16.5 0-.3-31.7-.4-70.2-.4l-70 .3v16.4l-.3-.1zM321.4 184c10.2 2.4 18 7 25 14.3 3.7 4 9.2 11 9.6 12.8 0 .6-17.3 12.3-27.8 18.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20 5.5-20 16 0 3.2.6 5 1.8 7.6 2.7 5.5 7.7 8.8 23.2 15.6 28.6 12.3 41 20.4 48.5 32 8.5 13 10.4 33.4 4.7 48.7-6.4 16.7-22 28-44.3 31.7-7 1.2-23 1-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4 15-8.7 11.3-6.6 2.6 3.5c3.3 5.2 10.7 12.2 15 14.6 13 6.7 30.4 5.8 39-2 3.7-3.4 5.3-7 5.3-12 0-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7 4.3-20 19.4-34 41-38 7-1.4 23.5-.8 30.4 1l-.2.2z","size":20,"color":"white","viewBox":"0 50 400 300"},{"tag":"css","tech":"CSS","name":"M1.5 0h21l-1.91 21.563L11.977 24l-8.565-2.438L1.5 0zm17.09 4.413L5.41 4.41l.213 2.622 10.125.002-.255 2.716h-6.64l.24 2.573h6.182l-.366 3.523-2.91.804-2.956-.81-.188-2.11h-2.61l.29 3.855L12 19.288l5.373-1.53L18.59 4.414z","size":20,"color":"teal","viewBox":"0 0 24 24"},{"tag":"python","tech":"Python","name":"M14.31.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.83l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.23l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05L0 11.97l.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.24l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05 1.07.13zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09-.33.22zM21.1 6.11l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01.21.03zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08-.33.23z","size":20,"color":"deepskyblue","viewBox":null},{"tag":"ruby","tech":"Ruby","name":"M20.156.083c3.033.525 3.893 2.598 3.829 4.77L24 4.822 22.635 22.71 4.89 23.926h.016C3.433 23.864.15 23.729 0 19.139l1.645-3 2.819 6.586.503 1.172 2.805-9.144-.03.007.016-.03 9.255 2.956-1.396-5.431-.99-3.9 8.82-.569-.615-.51L16.5 2.114 20.159.073l-.003.01zM0 19.089v.026-.029.003zM5.13 5.073c3.561-3.533 8.157-5.621 9.922-3.84 1.762 1.777-.105 6.105-3.673 9.636-3.563 3.532-8.103 5.734-9.864 3.957-1.766-1.777.045-6.217 3.612-9.75l.003-.003z","size":20,"color":"crimson","viewBox":null},{"tag":"java","tech":"Java","name":"M8.851 18.56s-.917.534.653.714c1.902.218 2.874.187 4.969-.211 0 0 .552.346 1.321.646-4.699 2.013-10.633-.118-6.943-1.149M8.276 15.933s-1.028.761.542.924c2.032.209 3.636.227 6.413-.308 0 0 .384.389.987.602-5.679 1.661-12.007.13-7.942-1.218M13.116 11.475c1.158 1.333-.304 2.533-.304 2.533s2.939-1.518 1.589-3.418c-1.261-1.772-2.228-2.652 3.007-5.688 0-.001-8.216 2.051-4.292 6.573M19.33 20.504s.679.559-.747.991c-2.712.822-11.288 1.069-13.669.033-.856-.373.75-.89 1.254-.998.527-.114.828-.093.828-.093-.953-.671-6.156 1.317-2.643 1.887 9.58 1.553 17.462-.7 14.977-1.82M9.292 13.21s-4.362 1.036-1.544 1.412c1.189.159 3.561.123 5.77-.062 1.806-.152 3.618-.477 3.618-.477s-.637.272-1.098.587c-4.429 1.165-12.986.623-10.522-.568 2.082-1.006 3.776-.892 3.776-.892M17.116 17.584c4.503-2.34 2.421-4.589.968-4.285-.355.074-.515.138-.515.138s.132-.207.385-.297c2.875-1.011 5.086 2.981-.928 4.562 0-.001.07-.062.09-.118M14.401 0s2.494 2.494-2.365 6.33c-3.896 3.077-.888 4.832-.001 6.836-2.274-2.053-3.943-3.858-2.824-5.539 1.644-2.469 6.197-3.665 5.19-7.627M9.734 23.924c4.322.277 10.959-.153 11.116-2.198 0 0-.302.775-3.572 1.391-3.688.694-8.239.613-10.937.168 0-.001.553.457 3.393.639","size":20,"color":"wheat","viewBox":null},{"tag":"angular","tech":"Angular","name":"M9.93 12.645h4.134L11.996 7.74M11.996.009L.686 3.988l1.725 14.76 9.585 5.243 9.588-5.238L23.308 3.99 11.996.01zm7.058 18.297h-2.636l-1.42-3.501H8.995l-1.42 3.501H4.937l7.06-15.648 7.057 15.648z","size":20,"color":"red","viewBox":null},{"tag":"html","tech":"HTML","name":"M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157H8.531z","size":20,"color":"darkorange","viewBox":"0 0 24 24"},{"tag":"php","tech":"PHP","name":"M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.476 1.002.33 1.752a2.836 2.836 0 0 1-.305.847c-.143.255-.33.49-.561.703zm4.024.715l.543-2.799c.063-.318.039-.536-.068-.651-.107-.116-.336-.174-.687-.174H11.46l-.704 3.625H9.388l1.23-6.327h1.367l-.327 1.682h1.218c.767 0 1.295.134 1.586.401s.378.7.263 1.299l-.572 2.944h-1.389zm7.597-2.265a2.782 2.782 0 0 1-.305.847c-.143.255-.33.49-.561.703a2.44 2.44 0 0 1-.917.551c-.336.108-.765.164-1.286.164h-1.18l-.327 1.682h-1.378l1.23-6.326h2.649c.797 0 1.378.209 1.744.628.366.417.477 1.001.331 1.751zM17.766 10.207h-.943l-.516 2.648h.838c.557 0 .971-.105 1.242-.314.272-.21.455-.559.551-1.049.092-.47.049-.802-.125-.995s-.524-.29-1.047-.29z","size":20,"color":"violet","viewBox":"0 0 24 24"},{"tag":"mongodb","tech":"MongoDB","name":"M17.18 9.518c-1.263-5.56-4.242-7.387-4.562-8.086C12.266.939 11.885 0 11.885 0c-.002.019-.004.031-.005.049v.013h-.001c-.002.015-.003.025-.004.039v.015h-.002c0 .01-.002.018-.002.026v.026h-.003c-.001.008-.001.018-.003.025v.021h-.002c0 .007 0 .015-.002.021v.02h-.002c0 .01-.001.022-.002.032v.002c-.003.017-.006.034-.009.05v.008h-.002c-.001.004-.003.008-.003.012v.017h-.003v.022h-.005v.018h-.005v.021h-.004v.019h-.004v.017h-.006v.014h-.004v.018h-.004v.014h-.005v.013H11.8v.015h-.004c-.001.001-.001.003-.001.004v.01h-.003c-.001.002-.001.004-.001.006v.006h-.002c-.001.003-.002.008-.002.01-.003.007-.007.014-.01.021v.002c-.002.002-.004.005-.005.007v.008h-.004v.008h-.005v.008h-.003v.01h-.006v.014h-.004v.004h-.004v.008h-.004v.011h-.004v.008h-.006v.011h-.004v.008h-.005v.008h-.003v.01h-.005v.008h-.004v.006h-.004v.008h-.006V.76h-.004v.006h-.005v.008h-.004v.011h-.005v.004h-.003v.008h-.006v.004h-.004v.01h-.004v.004h-.004v.008h-.005v.006h-.003l-.002.004v.004h-.002c-.001.002-.002.002-.002.004v.001h-.001c-.001.003-.002.005-.004.007v.003h-.001c-.005.006-.008.012-.012.018v.001c-.002.002-.007.006-.009.01v.002h-.001c-.001.001-.003.002-.003.003v.003h-.002l-.003.003v.001h-.001c0 .001-.002.002-.003.004v.004h-.003l-.002.002v.002h-.002c0 .002-.002.002-.002.003v.003h-.004c0 .001-.001.002-.002.003V.92h-.003v.004h-.004V.93h-.004v.008h-.005V.93h-.005v.004h-.004V.94h-.005v.008h-.005v.004h-.004v.006h-.004v.004h-.004V.97h-.006v.004h-.004V.98h-.005v.004h-.004v.005h-.005v.01h-.002v.004h-.006v.005h-.004v.002h-.004v.004h-.005v.01h-.004v.004h-.005v.004h-.004v.006h-.005v.004h-.005v.004h-.004v.004h-.004v.01h-.004v.005h-.006v.004h-.004v.004h-.005v.006h-.004v.004h-.005v.007h-.004v.004h-.006V1.1h-.002v.004h-.004v.004h-.005v.004h-.004v.006h-.005v.004h-.003c-.001.001-.001.002-.001.002v.002h-.002l-.004.004s-.002.002-.004.003v.006h-.004v.005h-.004v.004h-.004v.004h-.003l-.003.003v.003h-.002l-.002.002v.003h-.002c-.005.006-.007.01-.014.016-.002.002-.008.007-.012.01-.012.008-.027.021-.039.032-.008.005-.016.012-.022.017v.001h-.001c-.016.013-.031.025-.049.039v.001c-.024.02-.047.039-.074.062V1.34h-.002c-.057.047-.117.1-.186.159V1.5h-.001c-.169.148-.37.338-.595.568l-.015.015-.004.004C9 3.494 6.857 6.426 6.631 11.164c-.02.392-.016.773.006 1.144v.009c.109 1.867.695 3.461 1.428 4.756v.001c.292.516.607.985.926 1.405v.001c1.102 1.455 2.227 2.317 2.514 2.526.441 1.023.4 2.779.4 2.779l.644.215s-.131-1.701.053-2.522c.057-.257.192-.476.349-.662.106-.075.42-.301.797-.645.018-.019.028-.036.044-.054 1.521-1.418 4.362-4.91 3.388-10.599z","size":20,"color":"green","viewBox":null},{"tag":"vscode","tech":"VS Code","name":"M23.15 2.587L18.21.21a1.494 1.494 0 0 0-1.705.29l-9.46 8.63-4.12-3.128a.999.999 0 0 0-1.276.057L.327 7.261A1 1 0 0 0 .326 8.74L3.899 12 .326 15.26a1 1 0 0 0 .001 1.479L1.65 17.94a.999.999 0 0 0 1.276.057l4.12-3.128 9.46 8.63a1.492 1.492 0 0 0 1.704.29l4.942-2.377A1.5 1.5 0 0 0 24 20.06V3.939a1.5 1.5 0 0 0-.85-1.352zm-5.146 14.861L10.826 12l7.178-5.448v10.896z","size":20,"color":"deepskyblue","viewBox":"0 0 24 24"},{"tag":"wordpress","tech":"Wordpress","name":"m5.8465 1.9131c0.57932 0 1.1068 0.222 1.5022 0.58547-0.1938-0.0052-0.3872 0.11-0.3952 0.3738-0.0163 0.5333 0.6377 0.6469 0.2853 1.7196l-0.2915 0.8873-0.7939-2.3386c-0.0123-0.0362 0.002-0.0568 0.0465-0.0568h0.22445c0.011665 0 0.021201-0.00996 0.021201-0.022158v-0.13294c0-0.012193-0.00956-0.022657-0.021201-0.022153-0.42505 0.018587-0.8476 0.018713-1.2676 0-0.0117-0.0005-0.0212 0.01-0.0212 0.0222v0.13294c0 0.012185 0.00954 0.022158 0.021201 0.022158h0.22568c0.050201 0 0.064256 0.016728 0.076091 0.049087l0.3262 0.8921-0.4907 1.4817-0.8066-2.3758c-0.01-0.0298 0.0021-0.0471 0.0308-0.0471h0.25715c0.011661 0 0.021197-0.00996 0.021197-0.022158v-0.13294c0-0.012193-0.00957-0.022764-0.021197-0.022153-0.2698 0.014331-0.54063 0.017213-0.79291 0.019803 0.39589-0.60984 1.0828-1.0134 1.8639-1.0134l-0.0000029-0.0000062zm1.9532 1.1633c0.17065 0.31441 0.26755 0.67464 0.26755 1.0574 0 0.84005-0.46675 1.5712-1.1549 1.9486l0.6926-1.9617c0.1073-0.3036 0.2069-0.7139 0.1947-1.0443h-0.000004zm-1.2097 3.1504c-0.2325 0.0827-0.4827 0.1278-0.7435 0.1278-0.2247 0-0.4415-0.0335-0.6459-0.0955l0.68415-1.9606 0.70524 1.9284v-1e-7zm-1.6938-0.0854c-0.75101-0.35617-1.2705-1.1213-1.2705-2.0075 0-0.32852 0.071465-0.64038 0.19955-0.92096l1.071 2.9285 0.000003-0.000003zm0.95023-4.4367c1.3413 0 2.4291 1.0878 2.4291 2.4291s-1.0878 2.4291-2.4291 2.4291-2.4291-1.0878-2.4291-2.4291 1.0878-2.4291 2.4291-2.4291zm0-0.15354c1.4261 0 2.5827 1.1566 2.5827 2.5827s-1.1566 2.5827-2.5827 2.5827-2.5827-1.1566-2.5827-2.5827 1.1566-2.5827 2.5827-2.5827z","size":20,"color":"green","viewBox":"3.5 1.5 5 5"},{"tag":"graphql","tech":"GraphQL","name":"M14.051 2.751l4.935 2.85c.816-.859 2.173-.893 3.032-.077.148.14.274.301.377.477.589 1.028.232 2.339-.796 2.928-.174.1-.361.175-.558.223v5.699c1.146.273 1.854 1.423 1.58 2.569-.048.204-.127.4-.232.581-.592 1.023-1.901 1.374-2.927.782-.196-.113-.375-.259-.526-.429l-4.905 2.832c.372 1.124-.238 2.335-1.361 2.706-.217.071-.442.108-.67.108-1.181.001-2.139-.955-2.14-2.136 0-.205.029-.41.088-.609l-4.936-2.847c-.816.854-2.171.887-3.026.07-.854-.816-.886-2.171-.07-3.026.283-.297.646-.506 1.044-.603l.001-5.699c-1.15-.276-1.858-1.433-1.581-2.584.047-.198.123-.389.224-.566.592-1.024 1.902-1.374 2.927-.782.177.101.339.228.48.377l4.938-2.85C9.613 1.612 10.26.423 11.39.088 11.587.029 11.794 0 12 0c1.181-.001 2.139.954 2.14 2.134.001.209-.03.418-.089.617zm-.515.877c-.019.021-.037.039-.058.058l6.461 11.19c.026-.009.056-.016.082-.023V9.146c-1.145-.283-1.842-1.442-1.558-2.588.006-.024.012-.049.019-.072l-4.946-2.858zm-3.015.059l-.06-.06-4.946 2.852c.327 1.135-.327 2.318-1.461 2.645-.026.008-.051.014-.076.021v5.708l.084.023 6.461-11.19-.002.001zm2.076.507c-.39.112-.803.112-1.192 0l-6.46 11.189c.294.283.502.645.6 1.041h12.911c.097-.398.307-.761.603-1.044L12.597 4.194zm.986 16.227l4.913-2.838c-.015-.047-.027-.094-.038-.142H5.542l-.021.083 4.939 2.852c.388-.404.934-.653 1.54-.653.627 0 1.19.269 1.583.698z","size":20,"color":"hotpink","viewBox":"0 0 24 24"},{"tag":"gatsby","tech":"Gatsby","name":"M12.001.007C5.326.007.007 5.326.007 12S5.326 23.995 12 23.995s11.994-5.319 11.994-11.994S18.676.007 12.001.007zM2.614 12.105l9.283 9.283c-5.111 0-9.283-4.172-9.283-9.283zm11.473 9.074L2.823 9.915C3.76 5.743 7.516 2.614 12 2.614a9.476 9.476 0 0 1 7.614 3.86L18.259 7.62a7.657 7.657 0 0 0-6.362-3.337A7.555 7.555 0 0 0 4.7 9.393l9.804 9.805c2.4-.835 4.276-2.92 4.798-5.424h-4.068v-1.773h6.154c0 4.485-3.129 8.24-7.301 9.178z","size":20,"color":"rebeccapurple","viewBox":"0 0 24 24"},{"tag":"steam","tech":"Steam","name":"m110.5 87.322c0 0.196 0 0.392 0.01 0.576l-28.508 41.412c-4.618-0.21-9.252 0.6-13.646 2.41-1.937 0.79-3.752 1.76-5.455 2.88l-62.599-25.77c0.00049 0-1.4485 23.83 4.588 41.59l44.254 18.26c2.222 9.93 9.034 18.64 19.084 22.83 16.443 6.87 35.402-0.96 42.242-17.41 1.78-4.3 2.61-8.81 2.49-13.31l40.79-29.15c0.33 0.01 0.67 0.02 1 0.02 24.41 0 44.25-19.9 44.25-44.338 0-24.44-19.84-44.322-44.25-44.322-24.4 0-44.25 19.882-44.25 44.322zm-6.84 83.918c-5.294 12.71-19.9 18.74-32.596 13.45-5.857-2.44-10.279-6.91-12.83-12.24l14.405 5.97c9.363 3.9 20.105-0.54 23.997-9.9 3.904-9.37-0.525-20.13-9.883-24.03l-14.891-6.17c5.746-2.18 12.278-2.26 18.381 0.28 6.153 2.56 10.927 7.38 13.457 13.54s2.52 12.96-0.04 19.1m51.09-54.38c-16.25 0-29.48-13.25-29.48-29.538 0-16.275 13.23-29.529 29.48-29.529 16.26 0 29.49 13.254 29.49 29.529 0 16.288-13.23 29.538-29.49 29.538m-22.09-29.583c0-12.253 9.92-22.191 22.14-22.191 12.23 0 22.15 9.938 22.15 22.191 0 12.254-9.92 22.183-22.15 22.183-12.22 0-22.14-9.929-22.14-22.183z","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"nginx","tech":"Nginx","name":"M22.73015,49.008a3.59488,3.59488,0,0,1-7.18976,0l.00088.00088.00349-24.67727c0-1.91174,1.68924-3.49279,4.08175-3.49279a6.39282,6.39282,0,0,1,4.90021,2.191L25.613,24.32989,40.63124,42.30253V24.432H40.6295a3.59488,3.59488,0,0,1,7.18975,0h-.00087l-.00349,24.67552c0,1.91175-1.69011,3.49279-4.08175,3.49279a6.38857,6.38857,0,0,1-4.90021-2.191L22.7284,31.13659V49.0089Z","size":20,"color":"white","viewBox":"10 15 45 45"},{"tag":"bash","tech":"Bash","name":"","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"game-server","tech":"Game Server","name":"","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"security","tech":"Security","name":"","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"spam","tech":"Spam","name":"","size":20,"color":"white","viewBox":"10 20 199 199"},{"tag":"sql","tech":"SQL","name":"","size":20,"color":"white","viewBox":"10 20 199 199"}]}},"allMarkdownRemark":{"totalCount":24,"edges":[{"node":{"excerpt":"TL;DR Wordpress ist draußen, Gatsby ist drinnen. Weniger Kosten im Betrieb, bessere Performance für die Besucher.\nDen Source Code des Blogs und das Deployment kann man sich auf GitHub anschauen…","html":"<h2>TL;DR</h2>\n<p><a href=\"https://de.wordpress.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">Wordpress</a> ist draußen, Gatsby ist drinnen. Weniger Kosten im Betrieb, bessere Performance für die Besucher.\nDen Source Code des Blogs und das Deployment kann man sich <a href=\"\">auf GitHub</a> anschauen.</p>\n<h2>Gatsby</h2>\n<p>Nach gut zehn Jahren habe ich meinen <a href=\"https://de.wordpress.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">Wordpress</a> Blog eingemottet und komplett durch den Static Webpage Generator <a href=\"https://www.gatsbyjs.org\" target=\"_blank\" rel=\"external noopener noreferrer\">Gatsby</a> ersetzt.\nAls Datenquelle habe ich Markdown gewählt.</p>\n<h3>Vorteile</h3>\n<h4>Sicherheit</h4>\n<p>Die Sicherheit des Blogs ist extrem verbessert worden. Bisher diente Cloudflare als CDN und Schutz. Dahinter befindet sich ein kleiner V-Server mit einem <a href=\"/wordpress-unleashed-konzept/\">komplexeren Setup</a>.\nJede Software Komponente, Wordpress Plugin etc. vergrößert die Angriffsfläche. Alle Komponenten müssen regelmäßig gewartet und aktualisiert werden.\nIm Fall von Wordpress Plugins muss man zusätzlich sichergehen, dass es noch weiterentwickelt wird.</p>\n<p>Da nur noch statische Inhalte ausgeliefert werden, hätte ich das Setup um Memcached, PHP/HHVM, Elastic Search und MariaDB reduzieren können.\nDer Betrieb eines V-Server im Zeitalter der Cloud ist ein unnötiges Sicherheitsrisiko, wenn man, wie es bei mir der Fall ist, nicht jeden Tag auf Patches, Attacken, 0-Days etc. reagieren kann.\nStattdessen wird die Webseite auf <a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"external noopener noreferrer\">GitHub Pages</a> gehostet. CDN und HTTPS ist hier inklusive.</p>\n<p>Bei GitHub Pages werden die Dateien über Git auf GitHub verwaltet. Ich muss mir keine Sorgen um Backup und Restore mehr machen. Interna können nicht per Zufall über ein Backup geleakt werden.</p>\n<h4>Verfügbarkeit</h4>\n<p>Ich gehe davon aus, dass GitHub/Microsoft ausreichend Hardware, Personal und Expertise für den Betrieb eines globalen CDN samt Monitoring zur Verfügung stehen.\nMein Blog hatte bisher nur ausreichend Expertise. Dinge, wie Monitoring hatte ich nie eingerichtet.\nMit weniger Aufwand wird der Blog nun verfügbarer den je sein.</p>\n<h4>Performance</h4>\n<h5>Status Quo</h5>\n<p>Mein bisheriges <a href=\"/wordpress-unleashed-konzept/\">Setup</a> lieferte bereits eine hervorragende Performance. Googles <a href=\"https://developers.google.com/speed/pagespeed/insights/?hl=de\" target=\"_blank\" rel=\"external noopener noreferrer\">Speed Insights</a> hatte nur wenig zu bemängeln.\nDies ist vor allem einer aggressiven Caching und Optimizing Strategie geschuldet. Betreibt man ein CMS ohne Caching drücken zeitaufwändige Datenbankabfragen massiv auf die Performance.\nWordpress ohne einen Optimizer bedeutet extrem viele CSS und JS Dateien die leider oft unkomprimiert sequentiell übertragen werden.</p>\n<p>Für die kritischere Mobile Ansicht waren dennoch zwei Punkte angemerkt worden:</p>\n<ul>\n<li>Wichtige Anforderungen vorab laden (0,93 s); Mit <code class=\"language-text\">&lt;link rel=preload></code> können Sie das Abrufen von Ressourcen priorisieren, die derzeit beim Seitenaufbau erst später angefordert werden. <a href=\"https://web.dev/uses-rel-preload/\" target=\"_blank\" rel=\"external noopener noreferrer\">Weitere Informationen</a>.</li>\n<li>Ressourcen beseitigen, die das Rendering blockieren (0,18 s); Ressourcen blockieren den First Paint Ihrer Seite. Versuchen Sie, wichtiges JS und wichtige CSS inline anzugeben und alle nicht kritischen JS und Stile aufzuschieben. <a href=\"https://web.dev/render-blocking-resources/\" target=\"_blank\" rel=\"external noopener noreferrer\">Weitere Informationen</a>.</li>\n</ul>\n<h5>Gatsby</h5>\n<p>Bei Gatsby gab es sowohl in der Mobile, wie in der Page Ansicht 100/100 Punkten. Dennoch wurde angemerkt, dass nicht genutztes JavaScript entfernen zu entfernen sei.\nDie Anzeige erscheint seit dem vor wenigen Wochen vorgenommenen Upgrade von Lighthouse. In der Gatsby Community wird bereits <a href=\"https://github.com/gatsbyjs/gatsby/issues/24586\" target=\"_blank\" rel=\"external noopener noreferrer\">diskutiert</a> und einen weiteren Blog Beitrag wert.</p>\n<h4>Kosten</h4>\n<p>Der nun abbestellte V-Server kostete mich keine 10€ im Monat. Bei größeren Wordpress Projekten sieht die Welt anders aus.\nSelbst wenn man günstige Angebote, wie z.B. bei OVH in Anspruch nimmt, schlagen mehrere Root Server samt Load Balancer schnell mit mehreren hundert Euro im Monat zu Buche.</p>\n<h3>Nachteile</h3>\n<p>Für mich keine. Ich bin Programmierer und betreibe den Blog alleine. Deswegen brauche ich weder einen Admin Bereich, noch eine benutzerfreundliche Oberfläche, um diesen Text zu verfassen.\nDas jetzt verwendete <a href=\"https://de.wikipedia.org/wiki/Markdown\" target=\"_blank\" rel=\"external noopener noreferrer\">Markdown</a> Format ist seit Jahren Bestandteil meiner täglichen Arbeit.\nEinen Login für Benutzer hat es auf diesem Blog nie gegeben. Die Kommentarfunktion, hatte ich im Rahmen der <a href=\"https://de.wikipedia.org/wiki/Datenschutz-Grundverordnung\" target=\"_blank\" rel=\"external noopener noreferrer\">DSGVO</a> bereits deaktiviert.</p>\n<p>Die verbliebenen dynamischen Inhalte in Form von Config und Passwort Generator habe ich auf JavaScript migriert.</p>\n<h3>Eine Kombilösung wäre möglich</h3>\n<p>Ein ganz so harter Cut, wie ich ihn vollzogen habe, ist nicht zwingend notwendig. Das Hauptargument von <a href=\"https://www.gatsbyjs.org\" target=\"_blank\" rel=\"external noopener noreferrer\">Gatsby</a> gegenüber den zahlreichen anderen Static Webpage Generatoren sind die vielen Datenquellen.\nUnter den zahlreichen Plugins befindet sich das Plugin <a href=\"https://www.gatsbyjs.org/packages/gatsby-source-wordpress/\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-source-wordpress</a>.\nDie Texte werden weiterhin über Wordpress verfasst. Beim Bauen der Gatsby Seite wird die Wordpress API genutzt, um die Seiten zu generieren.</p>\n<p>In einem solchen Scenario wird Wordpress als so genanntes Headless CMS eingesetzt.</p>\n<h2>Gatsby Blog</h2>\n<p>Ich gehe davon aus, dass Node.js und NPM auf dem System installiert sind.</p>\n<h3>Gatsby Starter Blog Typescript</h3>\n<p>Als Startpunkt habe ich die in Typescript verfassten Vorlage <a href=\"https://github.com/gperl27/Gatsby-Starter-Blog-Typescript\" target=\"_blank\" rel=\"external noopener noreferrer\">Gatsby Starter Blog Typescript</a> gewählt.</p>\n<p>Mit den folgenden Befehlen haben wir bereits einen auf dem Localhost (<a href=\"http://localhost:8000/\" target=\"_blank\" rel=\"external noopener noreferrer\">http://localhost:8000/</a>) erreichbaren lauffähigen Blog.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g gatsby-cli\ngatsby new blog https://github.com/gperl27/Gatsby-Starter-Blog-Typescript\n<span class=\"token builtin class-name\">cd</span> blog\ngatsby develop</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>(dev) Dependencies</h3>\n<h4>gatsby-plugin-google-analytics</h4>\n<p>Ich tracke keine User. Deswegen fliegt <code class=\"language-text\">gatsby-plugin-google-analytics</code> aus der package.json und gatsby-config.js.</p>\n<h4>gatsby-plugin-typescript</h4>\n<p><code class=\"language-text\">gatsby-plugin-typescript</code> ist mittlerweile fester Bestandteil von Gatsby und kann deswegen als Dependency entfernt werden.\nUm Typescript Compile Fehler im Build sehen zu können ist <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-typescript-checker/\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-typescript-checker</a> dazu gekommen.</p>\n<h4>TSLint vs ESLint</h4>\n<p>TSLint ist <a href=\"https://github.com/palantir/tslint/issues/4534\" target=\"_blank\" rel=\"external noopener noreferrer\">End of Life</a> und durch <a href=\"https://eslint.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">ESLint</a> ersetzt.\nEntfernt wird:</p>\n<ul>\n<li>gatsby-plugin-tslint</li>\n<li>tslint</li>\n<li>tslint-config-prettier</li>\n<li>tslint-loader</li>\n<li>tslint-plugin-prettier</li>\n<li>tslint-react</li>\n</ul>\n<p>Hinzugekommen:</p>\n<ul>\n<li>dependencies\n<ul>\n<li><a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-eslint/\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-eslint</a></li>\n</ul>\n</li>\n<li>devDependencies\n<ul>\n<li>@typescript-eslint/eslint-plugin</li>\n<li>@typescript-eslint/parser</li>\n<li>eslint</li>\n<li>eslint-loader</li>\n<li>eslint-config-prettier</li>\n<li>eslint-plugin-jest</li>\n<li>eslint-plugin-prettier</li>\n</ul>\n</li>\n</ul>\n<h4>Veraltete Dependencies</h4>\n<p>Aus den vorherigen Punkten kann man ablesen, dass die Vorlage etwas älter ist.\nMan sollte die (dev)Dependencies auf den neuesten Stand bringen. Welche betroffen sind, kann man mit dem outdated Befehl sehen.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">npm</span> outdated</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>Starter Anpassen</h3>\n<h4>Developer Diary Typescript Portierung</h4>\n<p>Im Folgenden habe ich den Starter <a href=\"https://www.gatsbyjs.org/starters/willjw3/gatsby-starter-developer-diary/\" target=\"_blank\" rel=\"external noopener noreferrer\">Developer Diary</a> nach Typescript portiert.\nTypescript war der Grund, warum ich das Design portiert habe, an Stelle den Starter direkt zu nutzen.\nIm Nachgang wäre es an dieser Stelle sicher besser gewesen, das Projekt mit diesem Starter anzulegen und die notwendigen Teile aus einem Typescript Starter zu portieren.</p>\n<p>Die Modifikationen, die ich am Starter vorgenommen habe, waren dann auch ziemlich umfangreich. Da stellt sich die Frage, ob man nicht besser von Null angefangen hätte.</p>\n<h4>CSS vs SASS</h4>\n<p>Developer Diary kommt mit <strong>CSS</strong>. Für Erweiterungen und Änderungen in der Zukunft mag <strong>SASS</strong> die bessere Alternative sein.\nAus diesem Grund kommen <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-sass/\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-sass</a> und <a href=\"https://www.npmjs.com/package/node-sass\" target=\"_blank\" rel=\"external noopener noreferrer\">node-sass</a> dazu.\nMitgelieferte <code class=\"language-text\">*.css</code> Dateien werden auf <code class=\"language-text\">*.scss</code> umbenannt.</p>\n<h4>Data Privacy</h4>\n<h5>Privacy Header</h5>\n<p>Um nicht unnötig Informationen an die Ziele von Links zu geben, würde ich normalerweise am Server den <code class=\"language-text\">Referrer-Policy</code> setzen.\nBei den GitHub Pages ist es nicht möglich. Cloudflare oder ähnliches wollte ich auch nicht vorschalten.\nDeswegen habe ich das HTML Equivalent <code class=\"language-text\">&lt;meta content=\"strict-origin-when-cross-origin\" http-equiv=\"Referrer-Policy\"></code> ins Template eingearbeitet.</p>\n<h5>rel=\"external noopener noreferrer\"</h5>\n<p>Mittels des Plugins <a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-external-links\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-remark-external-links</a> setzte ich die <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types\" target=\"_blank\" rel=\"external noopener noreferrer\">Link Types</a>.\nWer den Zielseiten den SEO Abfluss nicht gönnt oder aber bezahlte Links markieren möchte, lässt es beim Default <code class=\"language-text\">nofollow noopener noreferrer</code>.</p>\n<p>Gesponserte Links gibt es hier nicht. Suchmaschinen sollen den Links ruhig folgen. Deswegen gilt für die hier gesetzten externen Links <code class=\"language-text\">rel=\"external noopener noreferrer\"</code>.</p>\n<p>Ein gerenderter Link sieht dann wie folgt aus:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://de.wordpress.org/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>external noopener noreferrer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Wordpress<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h4>Seo</h4>\n<h5>Helm</h5>\n<p>Das benutzte Starter Theme kommt mit dem Plugin <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-react-helmet\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-react-helmet</a>.\nEs wird in der src/components/seo.tsx verwendet und setzt zahlreiche SEO relevante Informationen je Page.</p>\n<h5>Sitemap und robots.txt</h5>\n<p>Um Crawlern das Leben leichter zu machen und damit die SEO zu verbessern, sollten sitemap und robots.txt nicht fehlen.\nZu diesem Zweck kommen die Plugins <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-sitemap\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-sitemap</a> und <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-robots-txt/\" target=\"_blank\" rel=\"external noopener noreferrer\">/gatsby-plugin-robots-txt</a> hinzu.</p>\n<h5>gatsby-plugin-canonical-urls</h5>\n<p>Für Canonical URLs sorgt das Plugin <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-canonical-urls\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-canonical-urls</a></p>\n<h4>RSS Feed</h4>\n<p>Bei Wordpress kommt der News Feed out of the Box. Bei Gatsby erzeuige ich ihn mit dem Plugin <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-feed\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-feed</a>.</p>\n<h4>Suche</h4>\n<p>Eine Suche ist bei Wordpress auch mit an Bord. Bei Gatsby muss sie nachgerüstet werden.\nMeine Wahl ist auf <a href=\"https://www.gatsbyjs.org/packages/@gatsby-contrib/gatsby-plugin-elasticlunr-search\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-elasticlunr-search</a> gefallen.\nDie Suche arbeitet mit JavaScript ausschließlich auf der Seite.\nDies ist mir wichtig, weil ich vermeiden will, dass Daten an Drittanbieter wie z.B. Algolia übertragen werden.</p>\n<p>Die Einbindung war nicht trivial und erforderte das Programmieren einer eigenen <a href=\"https://github.com/ulrichblock/ulrichblock.github.io/src/components/search/Search.tsx\" target=\"_blank\" rel=\"external noopener noreferrer\">Komponente</a> <a href=\"https://github.com/ulrichblock/ulrichblock.github.io/src/pages/suche.tsx\" target=\"_blank\" rel=\"external noopener noreferrer\">Seite</a>.</p>\n<h4>Performance</h4>\n<h5>Gatsby Guide</h5>\n<p>Developer Diary hat die Gatsby <a href=\"https://www.gatsbyjs.org/docs/performance/\" target=\"_blank\" rel=\"external noopener noreferrer\">Performance Anleitung</a> größtenteils schon umgesetzt.\nZusätzlich</p>\n<h5>Purge CSS</h5>\n<p>Starter Themes und Plugins fügen oft mehr CSS hinzu, als man tatsächlich benötigt.\nDeveloper Diary setzt z.B. auf Design System <a href=\"https://www.npmjs.com/package/bootstrap\" target=\"_blank\" rel=\"external noopener noreferrer\">bootstrap 4</a>.\nAnzupassen kostet Zeit. Manuelles Cut and Paste schneidet einen von zukünftigen Updates ab, bzw. erfordert eine Wiederholung des Prozesses.</p>\n<p>Eine Alternative zu den nicht so optimalen Prozessen ist <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-purgecss\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-purgecss</a>.\nWie der Name schon sagt, entfernt es unnötiges CSS. Im Falle des Blogs sind das <strong>91.52%</strong> vom gesamten CSS:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">gatsby-plugin-purgecss:\n Previous CSS Size: 191.76 KB\n New CSS Size: 16.48 KB (-91.41%)\n Removed ~175.28 KB of CSS</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h5>Offline</h5>\n<p>Das Plugin <a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-offline/\" target=\"_blank\" rel=\"external noopener noreferrer\">gatsby-plugin-offline</a> wird in seiner minimal Konfiguration genutzt.\nEs fügt einen Service Worker hinzu, welcher einmal aufgerufene Seiten lokal vorhält. Dadurch wird die Webseite resilienter gegen schlechte Netzwerk Verbindungen.</p>\n<h2>Content Migration</h2>\n<h3>Blogs und Pages</h3>\n<h4>Export</h4>\n<p>Im ersten Schritt habe ich das Wordpress Plugin <a href=\"https://wordpress.org/plugins/wp-gatsby-markdown-exporter\" target=\"_blank\" rel=\"external noopener noreferrer\">WP Gatsby Markdown Exporter</a> installiert.</p>\n<p>Die exportierten Dateien habe ich zuerst in einem temporären Unterverzeichnis von Gatsby abgelegt.\nDies, weil die exportierte Struktur nicht meinem gewünschten Ziel entsprochen hat.</p>\n<h4>Strukturen</h4>\n<p>Mittels eines schnell geschriebenen Bash Skriptes habe ich die Meta Informationen des Exports geparst und Struktur geschaffen.\nDarüber hinaus, wird der Header, wie von Gatsby erwartet angelegt und der exportierte erhalten.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token function\">ls</span> *.md <span class=\"token operator\">|</span> <span class=\"token keyword\">while</span> <span class=\"token builtin class-name\">read</span> <span class=\"token function\">file</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n  <span class=\"token assign-left variable\">PERMALINK</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">grep</span> <span class=\"token string\">'^permalink:'</span> <span class=\"token string\">\"<span class=\"token variable\">${file}</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F <span class=\"token string\">\": \"</span> <span class=\"token string\">'{print $2}'</span><span class=\"token variable\">)</span></span>\n  <span class=\"token assign-left variable\">DATE_MONTH</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">grep</span> <span class=\"token string\">'^date:'</span> <span class=\"token string\">\"<span class=\"token variable\">${file}</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F<span class=\"token string\">\"['-]\"</span> <span class=\"token string\">'{print $2\"/\"$3}'</span><span class=\"token variable\">)</span></span>\n  <span class=\"token assign-left variable\">TITLE</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">grep</span> <span class=\"token string\">'^title:'</span> <span class=\"token string\">\"<span class=\"token variable\">${file}</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F <span class=\"token string\">\"'\"</span> <span class=\"token string\">'{print $2}'</span><span class=\"token variable\">)</span></span>\n  <span class=\"token assign-left variable\">DATE</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">grep</span> <span class=\"token string\">'^date:'</span> <span class=\"token string\">\"<span class=\"token variable\">${file}</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F<span class=\"token string\">\"[T'-]\"</span> <span class=\"token string\">'{print $2\"-\"$3\"-\"$4}'</span><span class=\"token variable\">)</span></span>\n  <span class=\"token assign-left variable\">FOLDER</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">${DATE_MONTH}</span>/<span class=\"token variable\">${PERMALINK}</span>\"</span>\n  <span class=\"token function\">mkdir</span> -p <span class=\"token string\">\"<span class=\"token variable\">${FOLDER}</span>\"</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"---\ntitle: <span class=\"token entity\" title=\"\\&quot;\">\\\"</span><span class=\"token variable\">${TITLE}</span><span class=\"token entity\" title=\"\\&quot;\">\\\"</span>\ntags: []\npublished: true\ndate: <span class=\"token entity\" title=\"\\&quot;\">\\\"</span><span class=\"token variable\">${DATE}</span><span class=\"token entity\" title=\"\\&quot;\">\\\"</span>\n---\n\n<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">cat</span> $file<span class=\"token variable\">)</span></span>\n\"</span> <span class=\"token operator\">></span> <span class=\"token string\">\"<span class=\"token variable\">${FOLDER}</span>/index.md\"</span>\n<span class=\"token keyword\">done</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4>Nacharbeit</h4>\n<p>Der exportierte Head entspricht nicht dem Zielformat. HTML Elemente wie <strong><br></strong> und __<p> wurden nicht immer korrekt beim Export durch Zeilenumbrüche ersetzt.</p>\n<p>Über die Jahre hatte ich verschiedene Code Syntax Highlighter im Einsatz. Natürlich jeder mit eigenem Format.\nDiese Formate scheinen nicht alle von dem Exporter unterstützt zu werden. Entweder fehlten Teile es Snippets oder waren falsch eingebunden.</p>\n<p>Interne Links sind als URLs mit Domain exportiert worden. Suchen und ersetzen in Dateien macht schnell aus <code class=\"language-text\">http://www.ulrich-block.de/ein-blog-beitrag</code> <code class=\"language-text\">/ein-blog-beitrag</code>.\nDes Weiteren hatte ich vor Jahren bei der Umstellung auf Permalinks nicht alle internen Verweise von <code class=\"language-text\">?p=123</code> auf <code class=\"language-text\">/ein-blog-beitrag/</code> umgestellt.\nText Search und manuelles auflösen auch hier.</p>\n<h3>Passwort Generator</h3>\n<p>Den <a href=\"/passwort-generator\">Passwort Generator</a> habe ich schnell neu geschrieben.</p>\n<h3>Nicht migriert</h3>\n<p>Dynamische Inhalte, die ein Backend benötigen habe ich erst einmal nicht migriert. Ebenso Inhalte, bei denen ein Rewrite zu Client seitigen Javascript mir für das Erste zu aufwendig gewesen ist.\nStatt dessen habe ich erst einmal Platzhalter geschaffen, die ggf. später abgelöst werden.</p>\n<p>Die Liste:</p>\n<ul>\n<li>Steam + VAC Secured</li>\n<li>Steam App</li>\n<li>Config Generator</li>\n</ul>\n<h2>CI/CD</h2>\n<h3>Einleitung</h3>\n<p>Es ist mittlerweile etablierter Standard, Änderungen in einem Branch zu machen und diesen Branch dann als Change zu dem Haupt Branch einzureichen.\nBei GitHub wird dies über <a href=\"https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests\" target=\"_blank\" rel=\"external noopener noreferrer\">Pull Requests</a> gemacht.\nSobald ein Pull Request aufgemacht wird, wird ein CI System getriggert. Dieses testet den Code auf verschiedene Aspekte.\nWenn einer der Tests fehlschlägt, wird der Pull Request blockiert. Man kann ihn nicht mehr in den Main Branch mergen.\nIn Projekten mit mehreren Teilnehmern wird hier der Code Review vorgenommen.</p>\n<p>Sobald die technischen Checks und das Review erfolgreich sind, wird der Branch des Pull Requests in den Main Branch gemerged.\nHier wird das CI System dann abermals getriggert und der eigentliche Build vorgenommen.</p>\n<p>Bei vorangegangenen Projekten habe ich den Service <a href=\"https://travis-ci.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">Travis CI</a> mit dem Repository verbunden.\nEs ist für öffentliche Repositories kostenlos und hat bis jetzt alle meine Anforderungen erfüllt.\nEin Beispiel war das schon länger abgegebenen OpenSource Projekt <a href=\"https://easy-wi.com\" target=\"_blank\" rel=\"external noopener noreferrer\">easy-wi.com</a>.\nBei diesem wird die Webseite mit dem Statischen Site Generator <a href=\"https://www.mkdocs.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">MkDocs</a> gebaut und auf <a href=\"https://github.com/easy-wi/page/blob/master/.travis.yml\" target=\"_blank\" rel=\"external noopener noreferrer\">GitHub Pages</a> deployed.</p>\n<p>Es war meine Neugier und der Wunsch etwas Neues auszuprobieren und kein technischer Grund auf das eher neueres Feature <a href=\"https://github.com/features/actions\" target=\"_blank\" rel=\"external noopener noreferrer\">GitHub Actions</a> zu setzen.</p>\n<h3>GitHub Actions</h3>\n<h4>Pull Request Voter</h4>\n<p>Der <a href=\"https://github.com/ulrichblock/www.ulrich-block.de/.github/workflows/pull-requests.yml\" target=\"_blank\" rel=\"external noopener noreferrer\">Pull Requests Workflow</a> soll drei Dinge sicherstellen.</p>\n<p>Die Konfigurationen sind zum Teil im Dateiformat YAML verfasst. Fehler in diesen Dateien führen zwar fast immer zu fehlerhaften Builds.\nJe nach Build Tooling ist die Ursache aber schwer zu erfassen und zu beheben.\nDie Action <a href=\"https://github.com/ibiqlik/action-yamllint\" target=\"_blank\" rel=\"external noopener noreferrer\">GitHub YAMLlint</a> instrumentalisiert das in Python geschriebene Tool <a href=\"https://yamllint.readthedocs.io\" target=\"_blank\" rel=\"external noopener noreferrer\">yamllint</a>.</p>\n<p>In die gleiche Richtung geht auch <a href=\"https://eslint.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">ESLint</a>. Wie alles Linting hat es zwei Ziele. Eine einheitliche Formatierung und grobe Fehler vorab finden.\nDie Wahl fiel auf <a href=\"https://github.com/iCrawl/action-eslint\" target=\"_blank\" rel=\"external noopener noreferrer\">action-eslint</a>. Die Action installiert ein nacktes ESLint.\nDas Verhalten ist korrekt, führte in meinem Fall aber zu einem fehlerhaften Job, weil die zusätzliche Plugins fehlten, die es braucht, um Typescript und React umfangreich linten zu können.\nEine zusätzliche Run Anweisung, die Plugins zu installieren löste das Problem.</p>\n<p>Während die ersten beiden Punkte nicht zwingend sind, ist der Dritte wichtig, um einer kaputten Seite vorzubeugen.\nDer Gatsby Test Build wird durch die Github Action <a href=\"https://github.com/enriikke/gatsby-gh-pages-action\" target=\"_blank\" rel=\"external noopener noreferrer\">Gatsby Publish</a> gesteuert.\nEs werden dabei alle Befehle, wie beim späteren Build aufgerufen. Durch das Setzen von <code class=\"language-text\">skip-publish: true</code> wird lediglich auf den Publish bzw. Deploy verzichtet.</p>\n<h4>Page Build und Deployment</h4>\n<p>Der <a href=\"https://github.com/ulrichblock/www.ulrich-block.de/.github/workflows/gatsby-publish.yml\" target=\"_blank\" rel=\"external noopener noreferrer\">Gatsby Publish Workflow</a> wird bei jeder Änderung am <strong>dev</strong> Branch ausgeführt.\nWie schon beim PR Voter, wird die Github Action <a href=\"https://github.com/enriikke/gatsby-gh-pages-action\" target=\"_blank\" rel=\"external noopener noreferrer\">Gatsby Publish</a> verwendet.\nSobald es den Befehl <code class=\"language-text\">gatsby build</code> erfolgreich ausgeführt hat, pushed es das Ergebnis, den Inhalt des <strong>public</strong> Ordners, auf den <strong>master</strong> Branch.</p>\n<h3>GitHub Page Konfiguration</h3>\n<h4>DNS CNAME Records</h4>\n<p>In die DNS Einstellungen meines Domain Anbieters habe ich die bisherigen A Records entfernt. Statt dessen gibt es nun</p>\n<h4>Repository</h4>\n<p>Das Hosten von Github Pages ist nur dann kostenlos, wenn das zugehörige Repository öffentlich ist.\nVon einer Umgehungsstrategie, bei der ich den Quellcode in einem privaten Repository belasse und dann mittels CI/CD auf den <code class=\"language-text\">gh-pages</code> Branch eines öffentlichen pushe, habe ich abgesehen.\nDer erste Schritt war demnach unter <code class=\"language-text\">Settings > Options > Danger Zone > Make this repository public</code> das Repository öffentlich zu machen.</p>\n<p>Als Namen des Repositories hatte ich zuerst <strong><a href=\"http://www.ulrich-block.de\" target=\"_blank\" rel=\"external noopener noreferrer\">www.ulrich-block.de</a></strong> genommen. Der Default Branch war <strong>master</strong>.\nAls ich in der Dokumentation von GitHub gefunden hatte, dass man statt dessen <strong>ulrichblock.github.io</strong> benutzen soll, habe ich das Repository umbenannt.\nDie Überraschung folgte schnell. Nutzt man die User <strong><user>.github.io</strong> bzw. Org Domain <strong><organization>.github.io</strong>, wird die GitHub Seite zwangsweise vom <strong>master</strong> Branch ausgeliefert.\nAls Folge dessen wurde nur die als HTML gerenderte README.md angezeigt, wenn man im Browser ulrich-block.de aufgerufen hat.</p>\n<p>Deswegen habe ich vom <strong>master</strong> Branch aus, dann den neuen Branch <strong>dev</strong> erstellt. Nach dem Erstellen habe ich ihn unter <code class=\"language-text\">Settings > Branches</code> als Default branch konfiguriert.\nIm Anschluss die Workflows dahingehend angepasst, dass <strong>dev</strong> die Sources enthält und an Stelle von <strong>gh-pages</strong> nach <strong>master</strong> deployed wird.\nDann noch den jetzt überflüssingen <strong>gh-pages</strong> Branch gelöscht.</p>\n<h4>CNAME</h4>\n<p>Um eine eigene Domain (<a href=\"https://help.github.com/en/github/working-with-github-pages/about-custom-domains-and-github-pages\" target=\"_blank\" rel=\"external noopener noreferrer\">Custom Domain</a>) verwenden zu können, bedarf es der Konfigurationsdatei <strong>CNAME</strong> im Root des gh-pages Branches.\nWie alle Dateien, die von Gatsby in das Wurzelverzeichnis aka. Root kopiert werden sollen, platziert man die <strong>CNAME</strong> Datei im <strong>static/</strong> Order des <strong>master</strong> Branches.</p>\n<p>Der <strong>CNAME</strong> Inhalt ist die Domain <code class=\"language-text\">www.ulrich-block.de</code> und damit ein Einzeiler.</p>","id":"b40affe7-aacc-5ef1-a364-0b9407be8ce2","frontmatter":{"title":"Hello Gatsby, Goodbye Wordpress","date":"2020-06-07","tags":["gatsby","wordpress","typescript","github"]},"fields":{"slug":"/hello-gatsby-goodbye-wordpress/"},"timeToRead":14}},{"node":{"excerpt":"Ich war davon ausgegangen, dass die Kommentarfunktion überall auf meinem Blog ausgeschaltet ist. Eine Maßnahme, damit ich mich nicht mit dem Datenschutz der Kommentierenden auseinandersetzen muss…","html":"<p>Ich war davon ausgegangen, dass die Kommentarfunktion überall auf meinem Blog ausgeschaltet ist. Eine Maßnahme, damit ich mich nicht mit dem Datenschutz der Kommentierenden auseinandersetzen muss.\nAusgehend davon, hatte ich das <a href=\"https://de.wordpress.org/plugins/antispam-bee/\" target=\"_blank\" rel=\"external noopener noreferrer\">Antispam Bee</a> Plugin entfernt.</p>\n<p>Als ich mich heute in das Backend eingelogt habe staunte ich nicht schlecht, dass über 10000 Kommentare und steigend auf Freischaltung warten.\nEin Spammer hatte 5 Seiten gefunden, bei denen man noch kommentieren konnte. Mit mehreren IP Adressen aus Polen wurden massenweise Kommentare erstellt.\nAlle Kommentare hatten gemein, dass die enthaltenen URLs auf scheinbar gehackten Web Addresse zielten.</p>\n<p>Zum Glück war der Blog darauf konfiguriert, Kommentare erst nach manueller Freigabe öffentlich zu stellen. Deswegen ist nicht einer der Spam Kommentare durchgegangen.</p>\n<p>Mitten in der Migration von Wordpress nach Gatsby wollte ich so wenig wie möglich Zeit mit diesem Problem verbringen.\nDeswegen habe ich die Kommentarfunktion bei den Seiten deaktiviert und Antispam Bee wieder installiert.\nLetzteres ist so eingestellt, dass es Spam nach einem Tag von selber löscht.\nGelöscht habe ich nicht. Wordpress wird eh bald abgeschaltet.</p>","id":"38197178-062b-5965-aace-c7e8a7a09af9","frontmatter":{"title":"Zum Abschluss Worpress Kommentar Spam","date":"2020-05-23","tags":["wordpress","spam"]},"fields":{"slug":"/zum-abschluss-worpress-kommentar-spam/"},"timeToRead":1}},{"node":{"excerpt":"Auch wenn man ein aufgeräumtes Design benutzt, so wird man doch spätestens durch den Einsatz von Addons zusätzliche Stylesheets und Javascripte in seinen WordPress Blog einschleppen. Wenn man schon…","html":"<p>Auch wenn man ein aufgeräumtes Design benutzt, so wird man doch spätestens durch den Einsatz von Addons zusätzliche Stylesheets und Javascripte in seinen WordPress Blog einschleppen.<br>\nWenn man schon alles getan hat, um zusätzliche Scripten zu vermeiden, kann man sich daran machen, diese zusammenzufassen und zu komprimieren.<br>\nZu diesem Zweck gibt es verschiedene Plugins. Vernünftig im Zusammenspiel mit Cachify funktioniert bei mir <a href=\"http://wordpress.org/plugins/autoptimize/\" target=\"_blank\" rel=\"external noopener noreferrer\">Autoptimize</a>.</p>\n<p>Nach der Installation kann man das Plugin unter \"Einstellungen\" > \"Autoptimize\" konfigurieren. Am besten blendet ihr gleich die erweiterten Einstellungen mit einem Klick auf den entsprechenden Button ein.</p>\n<p>Bei meinem eigenen Blog und auch auf dem Testsystem wurden folgende Optionen aktiviert:</p>\n<ul>\n<li>JavaScript Code optimieren?</li>\n<li>CSS Code optimieren?</li>\n<li>data: URIs für Bilder generieren?</li>\n<li>Optimierte CSS / Skript-Dateien als statische Dateien speichern?</li>\n</ul>\n<p>Wenn der WordPress Blog ein One-Pager bzw. nur sehr wenige Seiten mit einer hohen Bounce Rate (Besucher verlässt nach einer Anschauen einer Seite den Blog) hat, so sollte man noch die Option \"CSS Inlining aktivieren?\" aktivieren. Ist sie Aktiv, wird das komprimierte CSS im HTML Code eingebettet. Die Seite lässt sich dann mit nur 2 HTTP Requests (HTML + JS) ausliefern</p>\n<p>Die HTML Optionen lässt man besser in Ruhe, da für diese Arbeit das Addon Cachify zuständig ist.</p>\n<p>Im Anschluss sollte man seinen Memcached Server durchstarten, damit etwaig gecachte Seiten mit alten CSS bzw. JS Verweisen neu aufgebaut und in den Cache geladen werden.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">service</span> memcached restart</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<hr>\n<p>Weiter geht es mit <a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></p>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"8d118a9e-9df4-5a3c-aef8-14c70ea5d901","frontmatter":{"title":"WordPress unleashed: Autoptimize JS + CSS","date":"2014-09-09","tags":["wordpress"]},"fields":{"slug":"/wordpress-unleashed-autoptimize-js-css/"},"timeToRead":2}},{"node":{"excerpt":"Nach der Installation des LEMP Stacks wechseln wir auf die SQL Konsole, auf der wir die notwendige Datenbank und Benutzer anlegen. Die Konsole wird aufgerufen mit Dann die Datenbank und Benutzer…","html":"<p>Nach der Installation des LEMP Stacks wechseln wir auf die SQL Konsole, auf der wir die notwendige Datenbank und Benutzer anlegen. Die Konsole wird aufgerufen mit</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">mysql -u root -p</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Dann die Datenbank und Benutzer anlegen, so wie die Rechte einmal Flushen</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sql line-numbers\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">DATABASE</span> wordpress<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">USER</span> wordpress<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">ALL</span> <span class=\"token keyword\">ON</span> wordpress<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">TO</span> <span class=\"token string\">'wordpress'</span><span class=\"token variable\">@'localhost'</span> IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">'db_passwort'</span><span class=\"token punctuation\">;</span>\n\nFLUSH <span class=\"token keyword\">PRIVILEGES</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>WordPress installieren</h3>\n<p>Da die Installation von WordPress einfach und ausreichend dokumentiert ist, werde ich nicht weiter darauf eingehen. Der Upload der Dateien erfolgt, wie oben beschrieben mittels SFTP. Datenbank und User wurden einen Schritt weiter oben beschrieben.</p>\n<h3>Test Daten einfügen</h3>\n<p>Damit wir aussagekräftige Tests fahren können, installiert man das Plugin <a href=\"https://wordpress.org/plugins/demo-data-creator/\" target=\"_blank\" rel=\"external noopener noreferrer\">Demo Data Creator</a>.</p>\n<p>Nach der Installation kann man unter <strong>Tools > Demo Data Creator</strong> die Test Daten generieren lassen.</p>\n<hr>\n<p>Weiter geht es mit <a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></p>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"0146bf4a-9a6a-5cc5-8149-259bab062320","frontmatter":{"title":"WordPress unleashed: Datenbank + WordPress","date":"2014-09-09","tags":["wordpress"]},"fields":{"slug":"/wordpress-unleashed-datenbank-wordpress/"},"timeToRead":1}},{"node":{"excerpt":"Elasticsearch installieren Für Debian werden fertige Pakete mittels APT angeboten. Die Installation bedarf vierer Schritte Nach der Installation lauscht Elasticsearch noch auf allen Interfaces. Es…","html":"<h3>Elasticsearch installieren</h3>\n<p>Für Debian werden fertige Pakete mittels APT angeboten. Die <a href=\"http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup-repositories.html\" target=\"_blank\" rel=\"external noopener noreferrer\">Installation</a> bedarf vierer Schritte</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -O - http://packages.elasticsearch.org/GPG-KEY-elasticsearch <span class=\"token operator\">|</span> apt-key <span class=\"token function\">add</span> -\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb http://packages.elasticsearch.org/elasticsearch/1.2/debian stable main\"</span> <span class=\"token operator\">></span> /etc/apt/sources.list.d/elasticsearch.list\n<span class=\"token function\">apt-get</span> update\n<span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> openjdk-7-jdk elasticsearch\nupdate-rc.d elasticsearch defaults <span class=\"token number\">95</span> <span class=\"token number\">10</span>\n/etc/init.d/elasticsearch start</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Nach der Installation lauscht Elasticsearch noch auf allen Interfaces. Es reicht eine Erreichbarkeit über den Lokalhost. Deswegen in der Datei /<strong>etc/elasticsearch/elasticsearch.yml</strong> folgende Einträge vornehmen:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">network.bind_host: 127.0.0.1\nnetwork.publish_host: 127.0.0.1\nnetwork.host: 127.0.0.1\nhttp.port: 9200</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>Fantastic Elasticsearch</h3>\n<p>Damit WordPress mit dem Elasticsearch Server kommuniziert, installieren wir das Plugin <a href=\"http://wordpress.org/plugins/fantastic-elasticsearch/\" target=\"_blank\" rel=\"external noopener noreferrer\">Fantastic Elasticsearch</a>.</p>\n<p>Nach der Installation kommt die Konfiguration. Hier einmal meine Einstellungen:<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 755px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e121b2cef0d629ea5639603931039f33/cab43/elasticsearch_wordpress_integration.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABIUlEQVQoz51Sy26DMBDM//8L1/QHGnEuao9NQmhiYyA2D0OwDVOtK6M0UlTUlUZrS7vjmV1veq1RFAUYZz4XhQBjHLkQmKYJFPM8Y00YY7Bpmga67yGVRNu2UEp5MimlJySyvxDqFkJ5leCMe4XWukWVtdaDCilT4zMshGVVoa4bCCFQVRXoAVLadR201uj7frmHETzGfG95GAa4dSNaN8OubVGVBdLjEZwxZKfMK3LOYRxHGIIxvxDGEDCMBm6aYK3BhpbAZY3PM8f+IrC/5DgwgfyqvGUCuQhnAj0UzvRLylbjZh2ctT+E2dcZb0mC5P0DhzTFbTSY/2uZrO12r4iiCC/bLeI4hjHjsum1WAhJfq2U37JUym85FDw2PIt7wm87dgq7gVmFdwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"elasticsearch_wordpress_integration\"\n        title=\"elasticsearch_wordpress_integration\"\n        src=\"/static/e121b2cef0d629ea5639603931039f33/cab43/elasticsearch_wordpress_integration.png\"\n        srcset=\"/static/e121b2cef0d629ea5639603931039f33/772e8/elasticsearch_wordpress_integration.png 200w,\n/static/e121b2cef0d629ea5639603931039f33/e17e5/elasticsearch_wordpress_integration.png 400w,\n/static/e121b2cef0d629ea5639603931039f33/cab43/elasticsearch_wordpress_integration.png 755w\"\n        sizes=\"(max-width: 755px) 100vw, 755px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 733px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d2727da9e9201d7cebcc695f495aaaaf/00b70/elasticsearch_wordpress_server_settings.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABh0lEQVQ4y41Uy5KDIBD0//8uh1xyySauDxTUKOILM1s9BsMmZleruoABmmZ6MLhcLlSWJaUipTzP6RqGlKaC7vf7bszzzO04jhQURUFd11HTNGSMoaqq+AC32H1+f+tbCc/nL+q7jrIso+g7ItManhyGgRegHYb+0Q7U9z3DjV0MKqdpouBwOLBC3TR0u91YqW70uhFzUI6W+97Yn18JlVKsBGQAUiCl5I2Iv+brr48JwzDkU5SUJISguq553LYtWWs3DdgC5pjweDwuZpQVKVVw0E/0lsJPcSY8nU6cWJAif5iCMmBLydPx9wpgQq0XAzIhSKSCSwYbrZ1WYgCLATu9x4D1yjACCuM4pjiKKEliNgZFDqAukU8Hl1/XNwZ9Q9bOT0K4OY7DeuoyXuBffZfLTiHcRQ5dq1vN8VcTPr2SX4TIYZoklMQJSalYla9yD9zNAuQISmSe8/NDUSOHKHj3KnzgcNfHk/TjTAhX0UHw1bmt4v03hyCEQly99t/zo5z2/sIc4Q8mE+IqiZIY5QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"elasticsearch_wordpress_server_settings\"\n        title=\"elasticsearch_wordpress_server_settings\"\n        src=\"/static/d2727da9e9201d7cebcc695f495aaaaf/00b70/elasticsearch_wordpress_server_settings.png\"\n        srcset=\"/static/d2727da9e9201d7cebcc695f495aaaaf/772e8/elasticsearch_wordpress_server_settings.png 200w,\n/static/d2727da9e9201d7cebcc695f495aaaaf/e17e5/elasticsearch_wordpress_server_settings.png 400w,\n/static/d2727da9e9201d7cebcc695f495aaaaf/00b70/elasticsearch_wordpress_server_settings.png 733w\"\n        sizes=\"(max-width: 733px) 100vw, 733px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 730px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/244ab9365264646422b2656d4536569c/e9beb/elasticsearch_wordpress_content_indexing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA2UlEQVQ4y62SwY7DIAxE+f8fTQskNcQhAQWmsiuq7m1TOpIPXB4z9phlWUD0wN1aeD/DOQcKAa011FovjyEixBjhvMeDCNM0YZ5niFqrCv7viEwIAbwynHUIIaLrqrMOVYc5F6zrCmbGeZ7v376RSSmBOMFaq1EF+Ir7HdSIs5yzuiulvONe2d3nGHG1MatDgXd3Q8B0lD+wEZnjOMBph1y7a8ihACWyFNw7r50c2aMCU9pB9OqjvIeuLICw7bjfbpAK/SRy5A3ee43dezhU7LNW7aDMSAfF4RMR41C+b8O4YgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"elasticsearch_wordpress_content_indexing\"\n        title=\"elasticsearch_wordpress_content_indexing\"\n        src=\"/static/244ab9365264646422b2656d4536569c/e9beb/elasticsearch_wordpress_content_indexing.png\"\n        srcset=\"/static/244ab9365264646422b2656d4536569c/772e8/elasticsearch_wordpress_content_indexing.png 200w,\n/static/244ab9365264646422b2656d4536569c/e17e5/elasticsearch_wordpress_content_indexing.png 400w,\n/static/244ab9365264646422b2656d4536569c/e9beb/elasticsearch_wordpress_content_indexing.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 733px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a41522bab53570a057ec3ab5b62fe0ae/00b70/elasticsearch_wordpress_field_mapping.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 96%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAByklEQVQ4y6VU246jMAzl/3+vUh/6VqkwJZTcuJTQ0rM6BqOhYnZmdiNZdkxy4uML2fl8hvceRfGBPM9xuVwQYwTX6/X6tWQE7LoOTdPAOYeqMrLnx2maVi32op/P50bUJ4DH4xFNjBKldU50XdeoqgplWcJQX6+zbUrcbjeEEIRF17YSiO4Jmh0OB7Rtu4LwQt/3uN/vG6GPMgxpN3rdZxou6Xrn4ZzHd4sXV/3a+rOPosA9JYSmhbNWov3JUtB3Wyh3fQ8fIup6pjuO40qVBdIU0KbeRPi2stPpJBdIlzlUGYZBRME+25qv3bYhxTGNiCHCWQdrrdjf0f0SMHiPND7gmUNn0XU9/mdl7KEhJem3Is8lQs1b27Viq1a/2rpnL2puBXBMSRqTIg8MgxQmpbRqtT+L+imPx2MG5GTQIcUwZpkK8090V0C+xhfeI/lbhO/zrC00A6YEa2vJH+W6zC7H0Bgj881uaJfZ1bzSpugcC6DbUK5gSrOZ1+k57Tbwl23DGZbJWKrHKPYAsOfbyyEB01LlEAN8mH9fFH5jClj5piHlmR4f1cfb5V+6UuYFRhhjQGwaOTQD0J4Ps41YNC0eL6/FWjTTQ8A/INnJc+ICcc4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"elasticsearch_wordpress_field_mapping\"\n        title=\"elasticsearch_wordpress_field_mapping\"\n        src=\"/static/a41522bab53570a057ec3ab5b62fe0ae/00b70/elasticsearch_wordpress_field_mapping.png\"\n        srcset=\"/static/a41522bab53570a057ec3ab5b62fe0ae/772e8/elasticsearch_wordpress_field_mapping.png 200w,\n/static/a41522bab53570a057ec3ab5b62fe0ae/e17e5/elasticsearch_wordpress_field_mapping.png 400w,\n/static/a41522bab53570a057ec3ab5b62fe0ae/00b70/elasticsearch_wordpress_field_mapping.png 733w\"\n        sizes=\"(max-width: 733px) 100vw, 733px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>![elasticsearch_wordpress_result_scoring](./elasticsearch_wordpress_result_scoring.png</p>\n<p>Nachdem man alle Einstellungen vorgenommen hat, klickt man noch auf Reindex Data, damit der Suchserver befüllt wird.</p>\n<hr>\n<p>Weiter geht es mit <a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></p>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"469b11f9-2c9d-55dd-a2fd-c6a211b70d98","frontmatter":{"title":"WordPress unleashed: Elasticsearch","date":"2014-09-09","tags":["wordpress"]},"fields":{"slug":"/wordpress-unleashed-elasticsearch/"},"timeToRead":2}},{"node":{"excerpt":"In diesem Beitrag möchte ich eine Anleitung geben, wie man WordPress beschleunigen kann. Der Beitrag richtet sich vor allem an Bastler und System Admins. Die Teile, die sich auf PHP-FPM und Testdaten…","html":"<p>In diesem Beitrag möchte ich eine Anleitung geben, wie man WordPress beschleunigen kann. Der Beitrag richtet sich vor allem an Bastler und System Admins. Die Teile, die sich auf PHP-FPM und Testdaten beziehen dienen lediglich als Referenz zum Testen. Sie können allesamt ausgelassen werden.</p>\n<p>Das Endergebnis wird ein gegenüber <a href=\"/mehr-speed-fuer-wordpress-mittels-fullpage-caching-mit-nginx-und-memcached/\" title=\"Mehr Speed für WordPress mittels Fullpage Caching mit Nginx und Memcached\">diesem Beitrag</a> etwas erweiterter Aufbau sein:<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 142.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFDUlEQVRIx42W2W4cVRCGmxfgEgnBC3CRRwCEhIQQSCBFXPAEkbgBKRJEwigLSxAQiIMISCQEAnFiB8hClMhZTBY78RrbieNlHI89M559uqeX6dPdp5cPdfd4bIckUFKpz0yf+k+dqr+qWuEhEkURUbri6oLJ0WEN1ZKdd48TJTF+iMZiO5Luv1V2nKkytmIn/wXhfwIGgN/RKIp13ZOpvMXpsTJChv/Pw3QThGH6bFt11lEgMZuNTWCPA1XUxn5KxZep1bZSLG5F075sGwXtLSG+52wA2hyWfwE2mz2Uy9toNN6lXFJQ1d1t13w8P2SuoDE0nUVtyU1gD8Z77alsRPf9fizrYOf31YxN9zAcHIfDYy6W8HgUKzYlJYy9kQLPg4Y6hG1VmJhb5fvRkO5rOvsH6nw7Av1zNqF0cVwP1/VwXBc/CNIctL1NPPSEha7WIJS4XoQrbG5O3OPwRMT+6y2+GWjQPRxwLWMSSkHgyzhbuKJF6G/2WhnP2Zyc0OkdUxleTrnmST+J13hO8N0tlx9GoHcq9iI1quoOJV0yn68zk61Q1j3ydQs/CFFOT5t82q/yyYUqfZNWYiCEg5RekuGqFjJ57xgr+dfI517CMvdxaKDC+z33+PD4Xbr65unqm6Ord46G6aGcHKvz0ZlVdp0t0jPaTAAdJwaUCWAshv4zy1mF2XvPYOjbuTQf0TPl8uPACgf773Ni0uH4pMAQEmVq1eXUlMHv4w3GcnZyVccRbcBUDHWCMJhN6jsIUuK3jCZ6U8OyLHStThjIDUmxDRzL7ADE2fb9FPDuaovBjElt/TWODDhxc5W5ooX0A45eXSJTEW3aEOEHoKq3yGZfZDHzAsvLXclt58sW+64LvrohOTZuYMex9RzKqsne/hqDixa6Jdh1OsvArLpG7BDfh2bzEoXCc2SzT1CuvEnoQ99wnj1n8+zrX+Wz80VGZpbxPZGExRIxB/0kzjVNT/jYJnba9+LMpqsFKpUDiYfLdYfuQYevhwL+mHYeUiHguolRp2KUtbIxTbMTN01bwLbTjC8UDa7cXqFu6FhmBlUdp1C4QKl0LtF6/SL12kVse2XtylHSA6vVowgRRz5IWplti7WDkS2VYu42enOGSnk7S0sKd6YUMgsK01MKc7MKjca29eYgxGks6z1ipnjtShJCrDeJeZ0/R8v4yQkSz7uJbd9EiFhv4bqDBEExBfS8HFJuwXHexvfHabXOYZpZbOGhazVGFxt8cbnJ55d1LtxpJHX+KEliWCptYWFeYXFR4c60wv1FhVbrHTwJwqpyfbbG3ksaey81OTWpYTQbSN8jisKHAIYoprETVX0eTXuFev0NbHsrUl7ubIobwl8zFr+NaGh2So1WSxCGAtu+SMvuw7J+wXFvr9MmplCcCCHqqOoxTLMHwziCYfQQhQ1810OtlTpeOI5ESoNc7mlyK0+SXXwWvblnLSlrUy8+eYKVldfJLr1FIf8qc7NPUaufSirJk167fUX4fkSzuUirdQTVrJFXfQqahym8jXM53ETY1HMPVyxRLc9SrZQ774MgwrbKZEsW3QM6B67pdF/VOXSjvjZGo851OvO53bruFhzO3LHpHWswMG9i2m4HeHRmiR29GXafzbHzTJ695/IPAj44zQJ+HVH5oG8paaQfn69S0NYBvYCky1/JOFzJCKYL9uapt+nbph2v0azJT0MqhwYbnJpsYgrZzn7ULuL04FThH2otbaTjuHKqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"wordpress\"\n        title=\"wordpress\"\n        src=\"/static/be44cdf4ab838ddc152763040ce189ee/dd45a/wordpress.png\"\n        srcset=\"/static/be44cdf4ab838ddc152763040ce189ee/772e8/wordpress.png 200w,\n/static/be44cdf4ab838ddc152763040ce189ee/e17e5/wordpress.png 400w,\n/static/be44cdf4ab838ddc152763040ce189ee/dd45a/wordpress.png 550w\"\n        sizes=\"(max-width: 550px) 100vw, 550px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Wir werden uns zu Nutze machen, dass der Webserver <strong>Nginx</strong> direkt mit dem Key Value Store Memcached kommunizieren kann und wir so gecachte Inhalte aus dem Ram an Nginx ausgeliefern können.</p>\n<p>Des Weiteren werden wir mittels Plugins HTML, Javascript und CSS komprimieren. Im Fall von Javascript und CSS werden die Inhalte in jeweils eine Datei zusammengefasst werden.</p>\n<p>Die Blogsuche wird nicht mehr, wie gewohnt, über den MySQL angebunden, sondern der Suchserver <strong>Elasticsearch</strong> verwendet.</p>\n<p>An Stelle von <strong>MySQL</strong> wird auf die Datenbank <strong>MariaDB</strong> gesetzt werden.</p>\n<p>Letztendlich werden wir auf die klassischen PHP Interpreter verzichten und die, von Facebooks entwickelte, <strong>Hip Hop Virtual Machine</strong> (kurz <strong>HHVM</strong>) zum Ausliefern von PHP verwenden.</p>\n<hr>\n<p>Weiter geht es mit <a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></p>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"299795e0-0f28-5de4-a216-1e282164ba1f","frontmatter":{"title":"WordPress unleashed: Konzept","date":"2014-09-09","tags":["wordpress","nginx"]},"fields":{"slug":"/wordpress-unleashed-konzept/"},"timeToRead":1}},{"node":{"excerpt":"NGINX Als erstes installieren wir den Webserver. Zum Einsatz kommt Nginx. Wir werden die NAXSI Variante installieren, damit wir später beim Absichern des Systems, eine Web Application Firewall (WAF…","html":"<h3>NGINX</h3>\n<p>Als erstes installieren wir den Webserver. Zum Einsatz kommt Nginx. Wir werden die <a href=\"https://github.com/nbs-system/naxsi\" target=\"_blank\" rel=\"external noopener noreferrer\">NAXSI</a> Variante installieren, damit wir später beim Absichern des Systems, eine Web Application Firewall (WAF) einrichten können.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> nginx-common nginx-naxsi -y</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Nun den Vhost für FPM einrichten, indem man die Datei <strong>/etc/nginx/sites-available/wordpress.fpm</strong> mit folgendem Inhalt anlegt. Dabei muss die IP angepasst werden:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">server {\n    listen 192.168.178.47:80;\n\n    root /var/www/wordpress/htdocs;\n    index index.php index.html index.htm;\n\n    access_log /var/www/wordpress/logs/access.log;\n    error_log  /var/www/wordpress/logs/error.log;\n\n    server_name \"\";\n\n    location / {\n        try_files $uri $uri/ /index.php;\n    }\n\n    location ~ \\.php$ {\n        fastcgi_pass unix:/var/run/php5-fpm.sock;\n        fastcgi_index index.php;\n        include fastcgi_params;\n    }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Der Vhost für HHVM, bei dem die IP ebenfalls angepasst werden muss, in der Datei <strong>/etc/nginx/sites-available/wordpress.hhvm</strong> hat den Inhalt</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">server {\n    listen 192.168.178.48:80;\n\n    root /var/www/wordpress/htdocs;\n    index index.php index.html index.htm;\n\n    access_log /var/www/wordpress/logs/access.log;\n    error_log  /var/www/wordpress/logs/error.log;\n\n    server_name \"\";\n\n    location / {\n        try_files $uri $uri/ /index.php;\n    }\n\n    location ~ \\.(hh|php)$ {\n        fastcgi_keep_conn on;\n        fastcgi_pass unix:/var/run/hhvm/server.sock;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Danach verlinken wir die beiden Vhosts nach <strong>/etc/nginx/sites-enabled/</strong>, um die Konfigurationen zu aktivieren</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">ln</span> -s /etc/nginx/sites-available/wordpress.fpm /etc/nginx/sites-enabled/\n<span class=\"token function\">ln</span> -s /etc/nginx/sites-available/wordpress.hhvm /etc/nginx/sites-enabled/</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3>Ordner und User</h3>\n<p>Als erstes legen wir die notwendigen Ordner an</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> -p /var/www/wordpress/logs/ /var/www/wordpress/hhvm/ /var/www/wordpress/htdocs/ /var/www/wordpress/sessions/ /var/www/wordpress/tmp/</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Der dazugehörige User wird beim Anlegen gleich in die <strong>www-data</strong> Gruppe einsortiert und eine invalide Shell gegeben</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">useradd</span> -d /var/www/wordpress -s /bin/false -g www-data wordpress</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Das Passwort, mit dem wir die Dateien mittels SFTP übertragen werden wird folgendermaßen gesetzt</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">passwd</span> wordpress</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Im Anschluss korrigieren wir die Dateirechte. Dabei ist es wichtig, dass der Ordner <strong>chown -R wordpress:www-data /var/www/wordpress/*</strong> weiterhin dem Root Account gehört.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">chown</span> -R wordpress:www-data /var/www/wordpress/*</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Dateiübertragungen werden mittels SFTP, getätigt. Damit entfällt die Notwendigkeit, einen FTP Server zu installieren. Jedoch muss der SSH Deamon in der <strong>/etc/ssh/sshd_config</strong> konfiguriert werden, damit der User in seinem Verzeichnis eingesperrt ist. Dort tragen wir ganz am Ende ein</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Subsystem sftp internal-sftp\nMatch User wordpress\n    ChrootDirectory /var/www/wordpress\n    ForceCommand internal-sftp\n    AllowTCPForwarding no\n    X11Forwarding no</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><em>Es ist wichtig, das nach dem Match User Block keine weitere Einstellungen mehr kommen!</em></p>\n<p>Damit die Änderungen ziehen, starten wir den SSH2 Server neu</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">service</span> <span class=\"token function\">ssh</span> restart</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Falls beim Neustart der Fehler <code class=\"language-text\">/etc/ssh/sshd_config line 89: Subsystem 'sftp' already defined.</code>  auftritt, muss noch folgender Eintrag auskommentiert werden</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">#Subsystem sftp /usr/lib/openssh/sftp-server</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Nun sollte es möglich sein, sich mittels Filezilla, oder WinSCP zu verbinden. Filezilla wäre so ähnlich zu konfigurieren<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 305px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/df555602daec70549176fe8b9b008f9d/a3e09/filezilla_sftp_wordpress.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACRklEQVQ4y42TCVOjQBCF5///nt0tQ4iS9UisLTfqqhzhSGBCwn3mWCJ5Wz0aN2V5NfXB0DDNG/oNGw4vcXd3D38e4Pz8ElKnC0mSMbr5g37/J2S5h273GL3eCb5/+4FOR0JHkvHraoSuJIt7WT7G0VEHrsfBlvUSq9UaTbNFGMXwfR+macG2HZimCV3XoekGTOspN5lMYVk2Zr4PzmdwnImA8osgBBuPTSwWAQ4jyzJwj2M6dREGgZhYVtXL8+VqA8+b4XWkWQ4WxwmSOEG9XInk4+MjXNeFbozhup5QSYodx4Ft2yJvP6ulXBCEAs45wjACI/maqiEMY1GwbVtcj65xdnaOq6vfUBQFp6dnGAwu0O/30esdYzgYQjlRcKIo0HUD4/EYqqqKwgwfBBXfx263ExyOCVrRdrt9/lU5GN0Q9EDQtqLQnsPJH/FS8PVkKt40DdqWvtxgs9l8CRKTZhmYqmowyBamBUPXMQ8ijEY3kKQuLgZDOJOJaIxlWW9CjTIMA7e3t8ItjGSWZSmsEkaR8CTZhV54UFXRac8j+NtwLlxBXY7iBOxB1aFrGqIoeWlAnqawLAfkUfLgVyNNMzA6FXmOqqqxEwcwW0QwJxzmlMOPMpSrv8jrNfJ68w5rlKsGcfL8D4VBw+jJEgBcPoNmGII4zUVu27bYtrv32QHRU0EdtFv2/qJul1WNoqzENcsLJGn2KXlRIIpjMGrCoYFpXFUViqJASZTl5xQFlnUthDHDMMXepC00ny/+K/2iofer2hv7H/h9siUu7gQvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"filezilla_sftp_wordpress\"\n        title=\"filezilla_sftp_wordpress\"\n        src=\"/static/df555602daec70549176fe8b9b008f9d/a3e09/filezilla_sftp_wordpress.png\"\n        srcset=\"/static/df555602daec70549176fe8b9b008f9d/772e8/filezilla_sftp_wordpress.png 200w,\n/static/df555602daec70549176fe8b9b008f9d/a3e09/filezilla_sftp_wordpress.png 305w\"\n        sizes=\"(max-width: 305px) 100vw, 305px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>PHP-FPM</h3>\n<p>Damit wir eine Referenz haben, installieren wir PHP5-FPM</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> php5-common php5-fpm php5-mysql php5-mcrypt php5-curl -y</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Danach konfigurieren wir die <strong>/etc/php5/fpm/pool.d/<a href=\"http://www.conf\" target=\"_blank\" rel=\"external noopener noreferrer\">www.conf</a></strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">user = wordpress\ngroup = www-data\nlisten = /var/run/php5-fpm.sock\nlisten.owner = wordpress\nlisten.group = www-data\nphp_admin_value[memory_limit] = 128M</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>und starten <em>PHP-FPM</em> neu</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">service</span> php5-fpm restart</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>HHVM</h3>\n<p>Auf der <a href=\"https://github.com/facebook/hhvm/wiki/Prebuilt-Packages-on-Debian-7\" target=\"_blank\" rel=\"external noopener noreferrer\">Github Seite des HHVM Projekts</a> befindet sich eine Anleitung zum Installieren fertiger Debian Pakete. Die Arbeitsschritte sind</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">wget</span> -O - http://dl.hhvm.com/conf/hhvm.gpg.key <span class=\"token operator\">|</span> apt-key <span class=\"token function\">add</span> -\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb http://dl.hhvm.com/debian wheezy main\"</span> <span class=\"token operator\">></span> /etc/apt/sources.list.d/hhvm.list\n<span class=\"token function\">apt-get</span> update\n<span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> hhvm</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Anders, als bei den meisten Tutorials, verbinden wir mit dem Nginx gegen einen Socket. Falls noch nicht vorhanden, legen den Ordner für den Socket an:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> -p /var/run/hhvm/</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Danach bearbeiten wir die <strong>/etc/hhvm/server.ini</strong>. Dabei tragen wir den Socket ein und kommentieren den Port aus. Ebenso verlagern wir den Pfad vom Repo:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">; php options\n \npid = /var/run/hhvm/pid\n \n; hhvm specific\n;hhvm.server.port = 9000\nhhvm.server.file_socket = /var/run/hhvm/server.sock\nhhvm.server.type = fastcgi\nhhvm.server.default_document = index.php\nhhvm.log.use_log_file = true\nhhvm.log.file = /var/www/wordpress/logs/error-hhvm.log\nhhvm.repo.central.path = /var/www/wordpress/hhvm/hhvm.hhbc</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>MySQL / MariaDB</h3>\n<p>An Stelle von MySQL setze ich auf das Drop In Replacement MariaDB. Diese ist in der Version zu 100% kompatibel mit MySQL. Das bedeutet, dass ich nur ein anderes Paket installiere, der Rest, aber wie bekannt abläuft. Eine große Distribution, <a href=\"http://www.computerbase.de/2013-12/red-hat-enterprise-linux-7-beta-tauscht-mysql-gegen-mariadb/\" target=\"_blank\" rel=\"external noopener noreferrer\">die MySQL bereits zu Gunsten von MariaDB ersetzt hat</a>, ist RedHat.</p>\n<p>Die Installation läuft wie folgt ab</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> python-software-properties\napt-key adv --recv-keys --keyserver keyserver.ubuntu.com 0xcbcb082a1bb943db\nadd-apt-repository <span class=\"token string\">'deb http://mirror.netcologne.de/mariadb/repo/5.5/debian wheezy main'</span>\n<span class=\"token function\">apt-get</span> update\n<span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> mariadb-server</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<hr>\n<p>Weiter geht es mit <a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></p>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"00300543-7756-594d-97a4-9d5c2aeea0df","frontmatter":{"title":"WordPress unleashed: LEMP Stack","date":"2014-09-09","tags":["wordpress","nginx","php"]},"fields":{"slug":"/wordpress-unleashed-lemp-stack/"},"timeToRead":5}},{"node":{"excerpt":"Alle bisherigen Maßnahmen hatten das Ziel PHP, Datenbank usw. schneller zu machen. Jeden Request PHP, MariaDB/MySQL und Elasticsearch gehen zu lassen ist eine Verschwendung von Ressourcen. Deswegen…","html":"<p>Alle bisherigen Maßnahmen hatten das Ziel PHP, Datenbank usw. schneller zu machen. Jeden Request PHP, MariaDB/MySQL und Elasticsearch gehen zu lassen ist eine Verschwendung von Ressourcen. Deswegen werden wir nun den Key Value Store Memcached und das Plugin Cachify installieren. Im Anschluss wird Nginx umkonfiguriert, damit er gecachte Inhalte direkt aus dem Memcached Server beziehen kann.</p>\n<h3>Memcached</h3>\n<p>Memcached wird, wie alles andere auch über APT installiert</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> memcached</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Je nach Anforderungen sollte man noch die Config <strong>/etc/memcached.conf</strong> anpassen. Mein Blog braucht keine 32MB Ram. Ein anderes Setup, könnte es jedoch brauchen. Dazu könnte die gleichzeitige Verbindungsanzahl von 1024 für manche zu gering sein</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"># memory\n-m 32\n\n# Limit the number of simultaneous incoming connections. The daemon default is 1024\n-c 4096</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Nach einer Änderung nicht vergessen den Memcached Server neu zu starten.</p>\n<h3>Cachify</h3>\n<p>Das <a href=\"https://wordpress.org/plugins/cachify/\" target=\"_blank\" rel=\"external noopener noreferrer\">Plugin Cachify</a> installiert man am besten über den Plugin Manager von WordPress.</p>\n<p>Setzt man eine alte Version von Cachify ein, sollte man diese auf den aktuellsten Stand bringen. Hintergrund ist, dass der Chachify Autor <a href=\"http://wpcoder.de/\" target=\"_blank\" rel=\"external noopener noreferrer\">Sergej Müller</a> die Kompatibilität mit HHVM nach meinem Hinweis schnell hergestellt hat.<br>\nAlternativ muss man die Datei <strong>\"cachify_memcached.class.php\"</strong> von Cachify noch umschreiben, damit es unter HHVM läuft. Grund ist, dass dass die <a href=\"http://docs.hhvm.com//manual/en/memcached.setoptions.php\" target=\"_blank\" rel=\"external noopener noreferrer\">Methode setOptions nicht unterstützt wird</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\">\t\t<span class=\"token comment\">/* Options\n\t\tself::$_memcached->setOptions(\n\t\t\tarray(\n\t\t\t\tMemcached::OPT_COMPRESSION => false,\n\t\t\t\tMemcached::OPT_BUFFER_WRITES => true,\n\t\t\t\tMemcached::OPT_BINARY_PROTOCOL => true\n\t\t\t)\n\t\t); */</span>\n\t\t<span class=\"token keyword static-context\">self</span><span class=\"token operator\">::</span><span class=\"token variable\">$_memcached</span><span class=\"token operator\">-></span><span class=\"token function\">setOption</span><span class=\"token punctuation\">(</span><span class=\"token class-name static-context\">Memcached</span><span class=\"token operator\">::</span><span class=\"token constant\">OPT_COMPRESSION</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword static-context\">self</span><span class=\"token operator\">::</span><span class=\"token variable\">$_memcached</span><span class=\"token operator\">-></span><span class=\"token function\">setOption</span><span class=\"token punctuation\">(</span><span class=\"token class-name static-context\">Memcached</span><span class=\"token operator\">::</span><span class=\"token constant\">OPT_BUFFER_WRITES</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword static-context\">self</span><span class=\"token operator\">::</span><span class=\"token variable\">$_memcached</span><span class=\"token operator\">-></span><span class=\"token function\">setOption</span><span class=\"token punctuation\">(</span><span class=\"token class-name static-context\">Memcached</span><span class=\"token operator\">::</span><span class=\"token constant\">OPT_BINARY_PROTOCOL</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Bei der anschließenden Cachify Konfiguration ist es zwingend erforderlich die <strong>Cache method</strong> auf <strong>\"Memcached\"</strong> zu stellen:<a href=\"/wp-content/uploads/2014/09/cachify.png\"><img src=\"../../uploads/2014/09/cachify.png\" alt=\"cachify\"></a></p>\n<p>Die Gültigkeit stellen wir möglichst hoch ein, da ein Flush des Caches eigentlich kaum benötigt werden wird. Des Weiteren lassen wir den Cache bei neuen Kommentaren löschen.</p>\n<p>In meinem System können sich nur Autoren und Administratoren einloggen. Deswegen werden wir diese von dem Cache ausnehmen. Wer eine größere Benutzerbasis hat, sollte diesen Haken lieber nicht setzen.</p>\n<p>Um die Auslieferung von HTML zu beschleunigen aktivieren wir zu guter Letzt den HTML Minimierer. Javascript und CSS werden wir zu einem späteren Zeitpunkt mittels eines anderen Plugins komprimieren und zusammenfassen.</p>\n<h3>Nginx</h3>\n<p>Der Nginx Vhost muss nun wie folgt angepasst werden</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">server {\n    listen 192.168.178.48:80;\n\n    root /var/www/wordpress/htdocs;\n    index index.php index.html index.htm;\n\n    access_log /var/www/wordpress/logs/access.log;\n    error_log  /var/www/wordpress/logs/error.log;\n\n    server_name \"\";\n\n    location / {\n\n        error_page 404 405 502 503 504 = @nocache;\n\n        if ( $query_string ) {\n                return 405;\n        }\n\n        if ( $request_method = POST ) {\n                return 405;\n        }\n\n        if ( $request_uri ~ \"/wp-\" ) {\n                return 405;\n        }\n\n        if ( $http_cookie ~ (wp-postpass|wordpress_logged_in|comment_author)_ ) {\n                return 405;\n        }\n\n        default_type text/html;\n\n        set $memcached_key $host$uri;\n        memcached_pass 127.0.0.1:11211;\n\n    }\n\n    location @nocache {\n        try_files $uri $uri/ /index.php?$args;\n    }\n\n    location ~* \\.(jpe?g|gif|png|ico|css|zip|tgz|gz|rar|bz2|doc|xls|exe|pdf|ppt|txt|tar|mid|midi|wav|bmp|rtf|js|swf|avi|mp3|mov|docx|pptx|xlsx|cfg)$ {\n        expires max;\n        access_log off;\n        log_not_found off;\n    }\n\n\tlocation ~ \\.(hh|php)$ {\n        fastcgi_keep_conn on;\n        fastcgi_pass   unix:/var/run/hhvm/server.sock;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<hr>\n<p>Weiter geht es mit <a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></p>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"077f3953-fbea-5277-838f-0441ad4e91f5","frontmatter":{"title":"WordPress unleashed: Memcached + Cachify","date":"2014-09-09","tags":["wordpress","nginx"]},"fields":{"slug":"/wordpress-unleashed-memcached-cachify/"},"timeToRead":3}},{"node":{"excerpt":"Im letzten Schritt sichern wir über den Nginx die Installation weiter ab. Header Sicherheit Mit zusätzlichen Headern, die vom Nginx gesendet werden, kann man manche Angriffsvektoren schließen…","html":"<p>Im letzten Schritt sichern wir über den Nginx die Installation weiter ab.</p>\n<h3>Header Sicherheit</h3>\n<p>Mit zusätzlichen Headern, die vom Nginx gesendet werden, kann man manche Angriffsvektoren schließen</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"># Falls SSL verwendet wird, sollte man diesen Header setzen, damit der Browser beim erneuten Eintippen automatisch auf die geischerte Variante springt.\n#add_header Strict-Transport-Security \"max-age=31536000;\";\n\n# https://developer.mozilla.org/en-US/docs/HTTP/X-Frame-Options\n# Verhindert Click Jacking Angriffe\nadd_header X-Frame-Options SAMEORIGIN;\n\n# Verbietet Content Sniffing\nadd_header X-Content-Type-Options nosniff;\n\n# Falls ein User aus Versehen, den Schutz bei sich deaktiviert hat, kann man ihn hiermit wieder erzwingen\nadd_header X-XSS-Protection \"1; mode=block\";</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>Unstimmige Requests blocken</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"># Andere Request Methods machen bei WordPress keinen Sinn\nif ( $request_method !~ ^(GET|HEAD|POST)$ ) {\n    return 404;\n}\n\n# Zugriff auf bestimmte Dateien sperren\nlocation ~ /(\\.|wp-config.php|liesmich.html|readme.html) {\n    return 404;\n}\n\n# Was nicht PHP ist, verwerfen\nif ($request_filename ~* \\.(aspx|jsp|cgi)$) {\n    return 404;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>Limit Request</h3>\n<p>Um einen Denial of Service (DOS) zu verhindern, führen wir ein Rate Limiting ein, wie in dem Beitrag <a href=\"/nginx-denial-service-abwehr/\" title=\"Nginx: Denial Of Service Abwehr\">Nginx: Denial Of Service Abwehr</a> beschrieben.</p>\n<h3>WAF NAXSI</h3>\n<p>Als erstes aktivieren wir den auskommentierten Naxsi Beitrag in der <strong>/etc/nginx/nginx.conf</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">include /etc/nginx/naxsi_core.rules;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Dann wird die PHP Loaction des Vhosts um folgende Include für die Datei <strong>naxsi-wp.rules</strong> erweitert, in welche nachher die Ausnahmen kommen.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">include /etc/nginx/naxsi.rules;\ninclude /etc/nginx/naxsi-wp.rules;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Angelegt wird die Datei mit</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">touch</span> /etc/nginx/naxsi-wp.rules</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Am Anfang sollte man die Naxsi nur im Learning Mode laufen lassen und so ziemlich alle Funktionen von WordPress einmal durchklicken. Nach einiger Zeit des Benutzens dürften ausreichend Informationen im Error Log gelandet sein. Damit wird es Zeit Nx_util zu installieren. Wir brauchen zuerst Python. Dann laden wir das aktuelle Repository auf den Server und installieren das Tool.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> python\n<span class=\"token builtin class-name\">cd</span> /root\n<span class=\"token function\">wget</span> <span class=\"token function\">wget</span> https://naxsi.googlecode.com/files/nx_util-1.1.tgz\n<span class=\"token function\">tar</span> xfvz nx_util-1.1.tgz\n<span class=\"token builtin class-name\">cd</span> nx_util-1.1/nx_util/\n<span class=\"token function\">chmod</span> +x setup.py\n./setup.py build\n./setup.py <span class=\"token function\">install</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Danach bestimmen wir unsere IP und machen einen Extrakt von <strong>/var/www/wordpress/logs/error.log</strong>, den wir im Folgenden untersuchen</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">grep</span> <span class=\"token string\">'1.1.1.1'</span> /var/www/wordpress/logs/error.log <span class=\"token operator\">></span> /root/error.log\nnx_util.py -d wordpress -l /root/error.log\nnx_util.py -d wordpress -o <span class=\"token operator\">></span> /etc/nginx/naxsi-wp.rules</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h3>Kompletter Vhost</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">server {\n\n    listen 192.168.178.48:80;\n\n    root /var/www/wordpress/htdocs;\n    index index.php index.html index.htm;\n\n    access_log /var/www/wordpress/logs/access.log;\n    error_log  /var/www/wordpress/logs/error.log;\n\n    server_name \"\";\n\n    # Falls SSL verwendet wird, sollte man diesen Header setzen, damit der Browser beim erneuten Eintippen automatisch auf die geischerte Variante springt.\n    #add_header Strict-Transport-Security \"max-age=31536000;\";\n\n    # https://developer.mozilla.org/en-US/docs/HTTP/X-Frame-Options\n    # Verhindert Click Jacking Angriffe\n    add_header X-Frame-Options SAMEORIGIN;\n\n    # Verbietet Content Sniffing\n    add_header X-Content-Type-Options nosniff;\n\n    # Falls ein User aus Versehen, den Schutz bei sich deaktiviert hat, kann man ihn hiermit wieder erzwingen\n    add_header X-XSS-Protection \"1; mode=block\";\n\n    # Andere Header machen bei WordPress keinen Sinn\n    if ( $request_method !~ ^(GET|HEAD|POST)$ ) {\n        return 404;\n    }\n\n    # Zugriff auf bestimmte Dateien sperren\n    location ~ /(\\.|wp-config.php|liesmich.html|readme.html) {\n        return 404;\n    }\n\n    # Was nicht PHP ist, verwerfen\n    if ($request_filename ~* \\.(aspx|jsp|cgi)$) {\n        return 404;\n    }\n\n    location / {\n\n        error_page 404 405 502 503 504 = @nocache;\n\n        if ( $query_string ) {\n        return 405;\n        }\n\n        if ( $request_method = POST ) {\n        return 405;\n        }\n\n        if ( $request_uri ~ \"/wp-\" ) {\n        return 405;\n        }\n\n        if ( $http_cookie ~ (wp-postpass|wordpress_logged_in|comment_author)_ ) {\n        return 405;\n        }\n\n        default_type text/html;\n\n        set $memcached_key $host$uri;\n        memcached_pass 127.0.0.1:11211;\n\n    }\n\n    location @nocache {\n        try_files $uri $uri/ /index.php?$args;\n    }\n\n    location /RequestDenied {\n        return 404;\n    }\n\n    location ~* \\.(jpe?g|gif|png|ico|css|zip|tgz|gz|rar|bz2|doc|xls|pdf|ppt|txt|tar|bmp|rtf|js|docx|pptx|xlsx|cfg)$ {\n        expires max;\n        access_log off;\n        log_not_found off;\n    }\n\n    location ~ \\.(hh|php)$ {\n\n        include /etc/nginx/naxsi.rules;\n        include /etc/nginx/naxsi-wp.rules;\n\n        limit_req zone=dynamic burst=20 nodelay;\n\n        fastcgi_keep_conn on;\n        fastcgi_pass unix:/var/run/hhvm/server.sock;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<hr>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"9099e3b5-3eaf-5d0b-9282-e0f1f92e0d5c","frontmatter":{"title":"WordPress unleashed: Nginx absichern","date":"2014-09-09","tags":["wordpress","nginx"]},"fields":{"slug":"/wordpress-unleashed-nginx-absichern/"},"timeToRead":4}},{"node":{"excerpt":"Performance Tests ohne Cache Im Folgenden wird ein WordPress Blog ohne jegliche Plugins und Caching getestet. Dies aus dem Grund, weil ich die Performance Unterschiede zwischen PHP-FPM und HHVM…","html":"<h3>Performance Tests ohne Cache</h3>\n<p>Im Folgenden wird ein WordPress Blog ohne jegliche Plugins und Caching getestet. Dies aus dem Grund, weil ich die Performance Unterschiede zwischen PHP-FPM und HHVM darlegen möchte. Dabei ist zu beachten, dass HHVM bereits compilierte Inhalte cacht. Das bedeutet, dass der zweite Testdurchlauf immer deutlich schneller, als der erste sein wird. Die Tests werden von einer zweiten VM bzw. direkt von meinem Desktop gestartet.</p>\n<h4>ApacheBench</h4>\n<p>Ein einfacher Lasttest kann mit ApacheBench gefahren werden. Dieser ist jedoch nicht in der Lage Last zu erzeugen, der Userverhalten ähnelt. Vielmehr wird eine Bestimmte Seite mit einer zu bestimmenden Anzahl von Anfragen und gleichzeitigen Verbindungen bombardiert. Die Installation läuft mit</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> apache2-utils</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Der Aufruf zum Testen der Landing Page ist <code class=\"language-text\">ab -k -n 1000 -c 50 http://192.168.178.47/</code>. Es werden 1000 Aufrufe mit 50 gleichzeitigen Verbindungen gemacht.</p>\n<p>Bei PHP-FPM kommt man auf:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Time taken for tests:   86.963 seconds\nComplete requests:      1000\nFailed requests:        0\nWrite errors:           0\nKeep-Alive requests:    0\nTotal transferred:      59521000 bytes\nHTML transferred:       59108000 bytes\nRequests per second:    11.50 [#/sec] (mean)\nTime per request:       4348.162 [ms] (mean)\nTime per request:       86.963 [ms] (mean, across all concurrent requests)\nTransfer rate:          668.40 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    1   2.3      0      12\nProcessing:   235 4248 517.9   4345    4617\nWaiting:      121 4069 512.7   4161    4404\nTotal:        247 4249 516.0   4345    4618\n\nPercentage of the requests served within a certain time (ms)\n  50%   4345\n  66%   4385\n  75%   4409\n  80%   4422\n  90%   4460\n  95%   4488\n  98%   4523\n  99%   4555\n 100%   4618 (longest request)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>HHVM im ersten Durchlauf:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Time taken for tests:   56.374 seconds\nComplete requests:      1000\nFailed requests:        0\nWrite errors:           0\nKeep-Alive requests:    0\nTotal transferred:      59549000 bytes\nHTML transferred:       59108000 bytes\nRequests per second:    17.74 [#/sec] (mean)\nTime per request:       2818.704 [ms] (mean)\nTime per request:       56.374 [ms] (mean, across all concurrent requests)\nTransfer rate:          1031.56 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    6  70.3      0     997\nProcessing:   874 2795 1968.3   2082   11136\nWaiting:      866 2737 1931.4   2036   10950\nTotal:        874 2801 1968.7   2083   11137\n\nPercentage of the requests served within a certain time (ms)\n  50%   2083\n  66%   2629\n  75%   2911\n  80%   3223\n  90%   4590\n  95%   9477\n  98%  10464\n  99%  10783\n 100%  11137 (longest request)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>HHVM im zweiten Durchlauf, bei dem die Inhalte nun gecacht sind:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Concurrency Level:      50\nTime taken for tests:   26.080 seconds\nComplete requests:      1000\nFailed requests:        0\nWrite errors:           0\nKeep-Alive requests:    0\nTotal transferred:      59549000 bytes\nHTML transferred:       59108000 bytes\nRequests per second:    38.34 [#/sec] (mean)\nTime per request:       1304.018 [ms] (mean)\nTime per request:       26.080 [ms] (mean, across all concurrent requests)\nTransfer rate:          2229.77 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    1   1.9      0      11\nProcessing:   461 1294 228.2   1264    2652\nWaiting:      461 1216 186.2   1206    2652\nTotal:        461 1295 229.1   1265    2652\n\nPercentage of the requests served within a certain time (ms)\n  50%   1265\n  66%   1358\n  75%   1415\n  80%   1458\n  90%   1557\n  95%   1696\n  98%   1922\n  99%   1993\n 100%   2652 (longest request)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4>JMeter</h4>\n<p>Nun geht es daran mittels <a href=\"http://jmeter.apache.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">JMeter</a> ein aussagekräftigeres Test Szenario zu bauen. Ich werde auch hier mit 50 gleichzeitigen Verbindungen arbeiten. Dabei werden verschiedene Teile des Blogs aufgerufen. Die Config könnt ihr <a href=\"/b4b9764454b712218e1e0d49e194dcd9/jmeter.zip\">hier downloaden</a> und für eure Zwecke anpassen.</p>\n<p>Das Ergebnis mit JMeter spiegelt im Großen und Ganzen das ApacheBench Ergebnis wider. Durch die genauere Analyse fällt auf, das HHVM deutlich besser skaliert. So kann man sehen, dass bei PHP-FPM die Requests alle relativ gleich lange brauchen, während es unter HHVM je nach Anfragentyp deutliche Unterschiede gibt. Alle Anfragen, die nicht gegen Blog Post und Blog Post Übersichten gehen, sind deutlich schneller, als der Rest.</p>\n<h5>PHP-FPM Ergebnisse</h5>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2d2ac482ae97bb317c6820bf4adb07b4/4c5bd/jmeter_fpm_summary.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAzUlEQVQY01WQ2W7CQBRD8/+fV6ggKuUByDIzWWbJEJZKRnbSij5Z9/rOiZ2iLL/QGot+GGFdh64fUDcthjHAdT2G0f/tL1WtO/rvc1W3MNbh8H1E8bHZynw8fxBiQr7OAqUp65hKn9q0BlO+6nFMk4L8zvTPlwrF9nOnNPPtDh+iDOc6xJQF5kMCqQRSjXH6OIGaLe/TAtztS9XK801AglgxxGnVJLCPSUDuCfLhP5B3p/MK5JIJRx9U4b2yEirpUpl7Y6zATbPO+gVLwhfcKHlmlnv4HAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jmeter_fpm_summary\"\n        title=\"jmeter_fpm_summary\"\n        src=\"/static/2d2ac482ae97bb317c6820bf4adb07b4/5a190/jmeter_fpm_summary.png\"\n        srcset=\"/static/2d2ac482ae97bb317c6820bf4adb07b4/772e8/jmeter_fpm_summary.png 200w,\n/static/2d2ac482ae97bb317c6820bf4adb07b4/e17e5/jmeter_fpm_summary.png 400w,\n/static/2d2ac482ae97bb317c6820bf4adb07b4/5a190/jmeter_fpm_summary.png 800w,\n/static/2d2ac482ae97bb317c6820bf4adb07b4/c1b63/jmeter_fpm_summary.png 1200w,\n/static/2d2ac482ae97bb317c6820bf4adb07b4/4c5bd/jmeter_fpm_summary.png 1435w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ed5f256dfb2488de3d9e0f8ef03325b1/52576/jmeter_fpm_requests_time.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABSklEQVQoz6WM607DMBSD8/5vCBoMhLaVtmmSc3Jr0mKUZIOxDYnLD+uzT+wIZwhBG+SUsaxvWJYVy7r+jBc+LytE8AHZOqS0IOUVKS9/VNsKyw7BRcSYENOCOGfE+Re82AgiB88ePiT4mOFibgz5a75FF+vu/CaUYljyYJ9gQ67kwpBhOcAa1+4ln7P0tYUl125l5xPEbj+AKcAYB+IIcjOIA6jkfgJJA5oIpB2IfFPxowZpC5LUOj7D2Bni0EloitC9gpYENXFllXZQFKAnhiq5dEq/11DKQvEMVbajaVueIYbJQZoISZeaPz2feRNudqeRIKWF6KTFoMM/FTEoj2FkiP1o8arC95qKfNMpX3WObwND7HrGQfqq7sjLXD7pqq57zbv61vUEcf8ise0Ym53GU8d4OHLzQYXSuXse69vj3jQdqHJ75Gn7DrVdmr2oE/m/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jmeter_fpm_requests_time\"\n        title=\"jmeter_fpm_requests_time\"\n        src=\"/static/ed5f256dfb2488de3d9e0f8ef03325b1/5a190/jmeter_fpm_requests_time.png\"\n        srcset=\"/static/ed5f256dfb2488de3d9e0f8ef03325b1/772e8/jmeter_fpm_requests_time.png 200w,\n/static/ed5f256dfb2488de3d9e0f8ef03325b1/e17e5/jmeter_fpm_requests_time.png 400w,\n/static/ed5f256dfb2488de3d9e0f8ef03325b1/5a190/jmeter_fpm_requests_time.png 800w,\n/static/ed5f256dfb2488de3d9e0f8ef03325b1/c1b63/jmeter_fpm_requests_time.png 1200w,\n/static/ed5f256dfb2488de3d9e0f8ef03325b1/52576/jmeter_fpm_requests_time.png 1412w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4b438f038c657aa834ad6b0ba4ba8179/0c3d0/jmeter_fpm_response_time.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABrElEQVQoz52Q2W7bMBBF9f8/16LIgrZubMe2JGrlvmjxKcSkaVq4D+nDwVzOvZwhWNRli9QSZQy9MRit6NWIMx5jPEpq1KhQ2iKtIsRICpEYE8EHXIh4HwjOE9NEoaxnWa+sy5WyVlwayakTVP2AHE325iso5ahOLdWxpn5uaXvHssC8rKxXcm6aV4p+NMQ0I7VDao+LCe0CTac5HgWHfc3hueJwqrDu5UXKGqq+oWobYlrpRo31iTQtFN1oCWlm0A7jEyEtmTitTCvU3Ug3SKYFfFrwcfPX7AvdsxdnqrajFl0eWjSDwfqJTnq0S9gwYfxvXJxxccnavutbP+faKpkXDNLQ9ZpifxIomxCtzYFNK/fCtiCf3/Xe+rluw+fsaz/Rj5bi6SToVaBuNdImRhMZTfoAMbPd7aSlKFvNRSiawTOYRK8ivf4gKjLoxPZ9xVkoLsJQ945ORVoZ/ptm9BSHcuRyNtSDRwz+Zv2bW754pTiWkrK0NDIixts0Mr3xr8wvis9fT9z/qP7g4anmblfyuBfcfb/w5duZTw+HrO93ZfZz7jW76ZzdlfwES7ySpEpACUEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jmeter_fpm_response_time\"\n        title=\"jmeter_fpm_response_time\"\n        src=\"/static/4b438f038c657aa834ad6b0ba4ba8179/5a190/jmeter_fpm_response_time.png\"\n        srcset=\"/static/4b438f038c657aa834ad6b0ba4ba8179/772e8/jmeter_fpm_response_time.png 200w,\n/static/4b438f038c657aa834ad6b0ba4ba8179/e17e5/jmeter_fpm_response_time.png 400w,\n/static/4b438f038c657aa834ad6b0ba4ba8179/5a190/jmeter_fpm_response_time.png 800w,\n/static/4b438f038c657aa834ad6b0ba4ba8179/c1b63/jmeter_fpm_response_time.png 1200w,\n/static/4b438f038c657aa834ad6b0ba4ba8179/0c3d0/jmeter_fpm_response_time.png 1414w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h5>HHVM Ergebnisse</h5>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fd20dfc4ed1482b434978ae982281551/4c5bd/jmeter_hhvm_summary.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA1klEQVQY002QyVLDMBBE/f+/R0hloYAD1mJb20iOEzg01eOI4iRNa+Z1j4bL9Q1+mhFTxjQvWEKE8xNSLggxqT4vQe/GWMSYYazTvnG0u26dMt4/PjG8HI4qPr5/kIugrZs213ZTaG2rvkttakSdw0Wq1tRZ8xyNxXB4PSIVwXZ/IJeiA0wktYNWhBAVwA1o4P30B+TZDb5Gg+F0viLmgnW7ayICmLAD2UiDLBXWeRTZE3GbDnTPWhOezhd1ZUIC23pDTEm1IgL5v7Lze8JnIhr0r2BN4C9GBHnhvVUQ5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jmeter_hhvm_summary\"\n        title=\"jmeter_hhvm_summary\"\n        src=\"/static/fd20dfc4ed1482b434978ae982281551/5a190/jmeter_hhvm_summary.png\"\n        srcset=\"/static/fd20dfc4ed1482b434978ae982281551/772e8/jmeter_hhvm_summary.png 200w,\n/static/fd20dfc4ed1482b434978ae982281551/e17e5/jmeter_hhvm_summary.png 400w,\n/static/fd20dfc4ed1482b434978ae982281551/5a190/jmeter_hhvm_summary.png 800w,\n/static/fd20dfc4ed1482b434978ae982281551/c1b63/jmeter_hhvm_summary.png 1200w,\n/static/fd20dfc4ed1482b434978ae982281551/4c5bd/jmeter_hhvm_summary.png 1435w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9aafc7b8f2902411ce8b011e297f4dfb/d5eae/jmeter_hhvm_requests_time.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABM0lEQVQoz6WP607DMBSD8/7vCIwN1pVecj85aVKM0nRTBxsg+PHJju1EigjOgzki5Yw8z8h5vtbP5Fv+ffEpzxAx5cVMKf+SG9uYLrnwISLEBI4ZPGVw8Yuu5y0l46nquecENr5qzBCOIjwnUJhALoAsgShWSua5ZkVLb3zdF9bOl23pOEFox3A+whkPV7wlOO3hDMHZULPSFz2z7WmCDemyFadOwZqA8rChBGMIRhM0TTB+gvbXWolfOxeXu8uDShGkjZCWV91yK7vRGYZUBNErwjA6DIb/hw4YpIdoB4euoBidCn9HM7reli8btKNHK8MdqDLSD5uAdvAQx9ag6T2age5yGsNCM9K3u4J4fOlxaA12R7nqiMPb9ixRNg+HDrtGYn/SeG7UqhL7Vl+2T68jPgAukpw0Ry2gzwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jmeter_hhvm_requests_time\"\n        title=\"jmeter_hhvm_requests_time\"\n        src=\"/static/9aafc7b8f2902411ce8b011e297f4dfb/5a190/jmeter_hhvm_requests_time.png\"\n        srcset=\"/static/9aafc7b8f2902411ce8b011e297f4dfb/772e8/jmeter_hhvm_requests_time.png 200w,\n/static/9aafc7b8f2902411ce8b011e297f4dfb/e17e5/jmeter_hhvm_requests_time.png 400w,\n/static/9aafc7b8f2902411ce8b011e297f4dfb/5a190/jmeter_hhvm_requests_time.png 800w,\n/static/9aafc7b8f2902411ce8b011e297f4dfb/c1b63/jmeter_hhvm_requests_time.png 1200w,\n/static/9aafc7b8f2902411ce8b011e297f4dfb/d5eae/jmeter_hhvm_requests_time.png 1407w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0679a0ef63f31f03eb41815310681c80/d5eae/jmeter_hhvm_response_time.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB7klEQVQoz42P23KjMBBE+f9fdOKAASMJIXQFcbHPFjjJbmqrtvbhqCXNTKtVdDeB6AVCa5phQAlBqzq00IhuQDZ3ZCdpW4WyihADwTliSAQXsDESfCBYyzRnimXb2R/weMLz+VNPePE89AH7/mR/PNkeL/0NbPuDIqbMnFfysjH/wXGO08qUt+9a/g+KkDJpfg3+YNnwcSXN29+1f1D4tJxJ4rwR5y/dCNNCmDZ82kh5Iy07Ke9My44LmTCt5/3Zf86/KERv8WnlMD7UpAXjZ/QYGYZAKUakDmjtUNIihePeGMTdYf2Ciwt+Wr89irrT2LgwhoxLK63yXK6Ct3fBR6u41IKPq6J8aymvd8pSc2tH6magKQ1NbemHxOjz6VMoE9FuxoYVoSOXtw7VB4ZxQpsJ647HXhg/YVzGhIUhLCg3I8aJRoZz1vhMIU1C2xkpJ94uHWpMKDsjTEKOE52J516YCWE8agyfePox0NtE72baISKGRHEsR/PlKimPr/Sem3DcpKOS9uRdaD6Eoe5HWm0RJnIEOei0PZEmcleBohsSVW2pWkvdH2lm5HiQT1Vj5m4irQmfGqm1o1SGWz9SKUOlBhplObyKI9VhVglHLQNlZ6lVoLx/6UijIlX3qldnen9y9FbSce3M+atrM/ALSyuUI+ZoB84AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jmeter_hhvm_response_time\"\n        title=\"jmeter_hhvm_response_time\"\n        src=\"/static/0679a0ef63f31f03eb41815310681c80/5a190/jmeter_hhvm_response_time.png\"\n        srcset=\"/static/0679a0ef63f31f03eb41815310681c80/772e8/jmeter_hhvm_response_time.png 200w,\n/static/0679a0ef63f31f03eb41815310681c80/e17e5/jmeter_hhvm_response_time.png 400w,\n/static/0679a0ef63f31f03eb41815310681c80/5a190/jmeter_hhvm_response_time.png 800w,\n/static/0679a0ef63f31f03eb41815310681c80/c1b63/jmeter_hhvm_response_time.png 1200w,\n/static/0679a0ef63f31f03eb41815310681c80/d5eae/jmeter_hhvm_response_time.png 1407w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>Performance Tests Elasticsearch</h3>\n<p>Mittels ApacheBench hatte ich vorab einen Test ohne Elasticsearch gegen den HHVM Vhost gefahren. Beide Ergebnisse sind aus dem zweiten Durchlauf. Die Parameter waren <code class=\"language-text\">ab -k -n 500 -c 10 http://192.168.178.48/?s=demo</code>. Man kann sehen, dass Elasticsearch vor allem eine funktionale Erweiterung ist. Erst bei großen Setups, bei denen Suchen, den SQL Server an die Grenzen bringen, kann man durch Elasticsearch an Geschwindigkeit gewinnen.</p>\n<p>Mit der normalen WordPress Suche waren es:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Time taken for tests:   14.940 seconds\nComplete requests:      500\nFailed requests:        0\nWrite errors:           0\nKeep-Alive requests:    0\nTotal transferred:      16269500 bytes\nHTML transferred:       16049000 bytes\nRequests per second:    33.47 [#/sec] (mean)\nTime per request:       298.796 [ms] (mean)\nTime per request:       29.880 [ms] (mean, across all concurrent requests)\nTransfer rate:          1063.48 [Kbytes/sec] received`\n\nConnection Times (ms)  \n min mean[+/-sd] median max  \nConnect: 0 0 0.5 0 10  \nProcessing: 158 297 22.3 299 360  \nWaiting: 157 292 22.2 294 352  \nTotal: 158 298 22.3 300 361\n\nPercentage of the requests served within a certain time (ms)  \n 50% 300  \n 66% 307  \n 75% 311  \n 80% 314  \n 90% 321  \n 95% 331  \n 98% 342  \n 99% 350  \n 100% 361 (longest request)\n\nBei der Hinzunahme von Elasticsearch sieht es dann wie folgt aus:  \n`\nTime taken for tests:   15.344 seconds\nComplete requests:      500\nFailed requests:        0\nWrite errors:           0\nKeep-Alive requests:    0\nTotal transferred:      15932000 bytes\nHTML transferred:       15711500 bytes\nRequests per second:    32.59 [#/sec] (mean)\nTime per request:       306.884 [ms] (mean)\nTime per request:       30.688 [ms] (mean, across all concurrent requests)\nTransfer rate:          1013.97 [Kbytes/sec] received`\n\nConnection Times (ms)  \n min mean[+/-sd] median max  \nConnect: 0 0 0.3 0 2  \nProcessing: 124 305 25.9 306 379  \nWaiting: 124 300 25.5 300 374  \nTotal: 125 306 26.0 306 381\n\nPercentage of the requests served within a certain time (ms)  \n 50% 306  \n 66% 317  \n 75% 322  \n 80% 325  \n 90% 336  \n 95% 346  \n 98% 354  \n 99% 363  \n 100% 381 (longest request)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>Benchmark mit Cache von extern</h3>\n<p>Nachdem ich alle Dienste neu gestartet hatte</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">service</span> nginx restart <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">service</span> memcached restart <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">service</span> hhvm restart</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>wird abermals ein ApacheBench mit den Parametern <code class=\"language-text\">ab -k -n 1000 -c 50 http://192.168.178.48/</code> gestartet</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Time taken for tests:   1.369 seconds\nComplete requests:      1000\nFailed requests:        0\nWrite errors:           0\nKeep-Alive requests:    1000\nTotal transferred:      60199000 bytes\nHTML transferred:       60050000 bytes\nRequests per second:    730.30 [#/sec] (mean)\nTime per request:       68.465 [ms] (mean)\nTime per request:       1.369 [ms] (mean, across all concurrent requests)\nTransfer rate:          42933.07 [Kbytes/sec] received\n\nConnection Times (ms)  \n min mean[+/-sd] median max  \nConnect: 0 0 1.9 0 10  \nProcessing: 2 60 72.2 28 604  \nWaiting: 0 44 63.4 13 338  \nTotal: 2 61 72.4 30 604\n\nPercentage of the requests served within a certain time (ms)  \n 50% 30  \n 66% 68  \n 75% 88  \n 80% 99  \n 90% 128  \n 95% 249  \n 98% 334  \n 99% 348  \n 100% 604 (longest request)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>Benchmark mit Cache von intern</h3>\n<p>Ich kannte die Zahlen von anderen Systemen und bin deswegen etwas ins Grübeln gekommen. Ich vermutete die Netzwerkschnittstelle der Virtualisierung als Flaschenhals und habe die gleiche Benchmark von der VM aus gestartet, auf der auch WordPress läuft. Das Ergebnis war gleich ein ganz anderes. Mit einer Übertragungsrate von ca. 1 GigaByte/S werden deutlich höhere Durchsätze erreicht.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">ab -k -n <span class=\"token number\">100000</span> -c <span class=\"token number\">200</span> http://192.168.178.48/\n\nTime taken <span class=\"token keyword\">for</span> tests: <span class=\"token number\">55.778</span> seconds  \nComplete requests: <span class=\"token number\">100000</span>  \nFailed requests: <span class=\"token number\">0</span>  \nWrite errors: <span class=\"token number\">0</span>  \nKeep-Alive requests: <span class=\"token number\">99095</span>  \nTotal transferred: <span class=\"token number\">6029395475</span> bytes  \nHTML transferred: <span class=\"token number\">6005000000</span> bytes  \nRequests per second: <span class=\"token number\">1792.83</span> <span class=\"token punctuation\">[</span><span class=\"token comment\">#/sec] (mean)  </span>\nTime per request: <span class=\"token number\">111.556</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean<span class=\"token punctuation\">)</span>  \nTime per request: <span class=\"token number\">0.558</span> <span class=\"token punctuation\">[</span>ms<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span>mean, across all concurrent requests<span class=\"token punctuation\">)</span>  \nTransfer rate: <span class=\"token number\">105563.00</span> <span class=\"token punctuation\">[</span>Kbytes/sec<span class=\"token punctuation\">]</span> received\n\nConnection Times <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>  \n min mean<span class=\"token punctuation\">[</span>+/-sd<span class=\"token punctuation\">]</span> median max  \nConnect: <span class=\"token number\">0</span> <span class=\"token number\">0</span> <span class=\"token number\">0.6</span> <span class=\"token number\">0</span> <span class=\"token number\">21</span>  \nProcessing: <span class=\"token number\">1</span> <span class=\"token number\">111</span> <span class=\"token number\">66.1</span> <span class=\"token number\">94</span> <span class=\"token number\">1148</span>  \nWaiting: <span class=\"token number\">0</span> <span class=\"token number\">107</span> <span class=\"token number\">67.1</span> <span class=\"token number\">90</span> <span class=\"token number\">1147</span>  \nTotal: <span class=\"token number\">1</span> <span class=\"token number\">111</span> <span class=\"token number\">66.1</span> <span class=\"token number\">94</span> <span class=\"token number\">1148</span>\n\nPercentage of the requests served within a certain <span class=\"token function\">time</span> <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>  \n <span class=\"token number\">50</span>% <span class=\"token number\">94</span>  \n <span class=\"token number\">66</span>% <span class=\"token number\">118</span>  \n <span class=\"token number\">75</span>% <span class=\"token number\">139</span>  \n <span class=\"token number\">80</span>% <span class=\"token number\">155</span>  \n <span class=\"token number\">90</span>% <span class=\"token number\">201</span>  \n <span class=\"token number\">95</span>% <span class=\"token number\">225</span>  \n <span class=\"token number\">98</span>% <span class=\"token number\">268</span>  \n <span class=\"token number\">99</span>% <span class=\"token number\">316</span>  \n <span class=\"token number\">100</span>% <span class=\"token number\">1148</span> <span class=\"token punctuation\">(</span>longest request<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<hr>\n<p>Weiter geht es mit <a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></p>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"74df6a32-2223-5df3-91c7-b9cd2dbcd9bd","frontmatter":{"title":"WordPress unleashed: Performance Tests","date":"2014-09-09","tags":["wordpress"]},"fields":{"slug":"/wordpress-unleashed-performance-tests/"},"timeToRead":7}},{"node":{"excerpt":"Nachdem wir uns das Konzept überlegt haben, geht es daran eine lokale Testumgebung aufzusetzen. Testsystem Damit man eine Referenz für die späteren Load Messungen hat, als erstes die Spezifikationen…","html":"<p>Nachdem wir uns das Konzept überlegt haben, geht es daran eine lokale Testumgebung aufzusetzen.</p>\n<h3>Testsystem</h3>\n<p>Damit man eine Referenz für die späteren Load Messungen hat, als erstes die Spezifikationen des Testsystems. Es ist eine, mittels <a href=\"https://www.virtualbox.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">Oracle Virtualbox</a> erstellte, VM, auf der das Betriebssystem Linux Debian 7 installiert wurde. Sie hat zwei Kerne eines Core i5-3570k @3,4GHz und 4096 MB Ram zur Verfügung. Die Daten der VM werden auf einer Seagate Barracuda 7200.12 500GB (ST3500418AS) gespeichert.</p>\n<p>Im Laufe der Installation und Konfiguration werden wir 2 Vhosts erstellen. Einer als Referenz, der WordPress mittels PHP-FPM ausliefert, und ein zweiter, der unser \"produktiver\" HHVM betriebener wird. Damit man eine einfache Konfiguration hat, verzichte ich auf DNS im LAN und starte die VM mit 2 Netzwerkadaptern.</p>\n<h3>Zweiten Netzwerksadapter konfigurieren</h3>\n<p>Dieser Schritt ist optional. Die Konfiguration erfolgt ausschließlich, damit ich besser Testen kann. Zum Aktivieren der zweiten Schnittstelle der VM bei Debian bearbeite ich die Datei <strong>/etc/network/interfaces</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"># This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\n# The loopback network interface  \nauto lo  \niface lo inet loopback\n\n# The primary network interface  \nallow-hotplug eth0  \niface eth0 inet dhcp\n\n# Secondary network interface  \nallow-hotplug eth1  \niface eth1 inet dhcp</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Danach starte ich den Server neu</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">shutdown</span> -r now</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>Debian updaten</h3>\n<p>Als Startpunkt gehe ich davon aus, dass Debian auf dem System bereits installiert wurde. Um Probleme beim Installieren der Pakete zu vermeiden, wird der erste Arbeitsschritt auf dem System das Aktualisieren selbiges sein. Dafür führen wir als <strong>root</strong> aus:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">apt-get</span> upgrade <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">apt-get</span> dist-upgrade</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<hr>\n<p>Weiter geht es mit <a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></p>\n<h3>Alle Teile dieser Serie</h3>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"bbb2e6fb-039b-5aa2-bf7c-da2c1dfa6bcd","frontmatter":{"title":"WordPress unleashed: Testsystem","date":"2014-09-09","tags":["wordpress"]},"fields":{"slug":"/wordpress-unleashed-testsystem/"},"timeToRead":2}},{"node":{"excerpt":"Je nach Typ und Ausrichtung seines Blogs, sollte man nun noch wenige, gut ausgewählte Plugins installieren. Dabei muss man sich bewusst machen, dass jedes Plugin die Ladezeit des Blogs nach oben…","html":"<p>Je nach Typ und Ausrichtung seines Blogs, sollte man nun noch wenige, gut ausgewählte Plugins installieren. Dabei muss man sich bewusst machen, dass jedes Plugin die Ladezeit des Blogs nach oben treiben wird. Manche nur marginal, andere erheblich. Bei der Auswahl sollte man unbedingt darauf achten, wie lange das Plugin schon existiert, wie oft es aktualisiert und wann es zuletzt aktualisiert wurde. Alte, schlecht gepflegte Plugins sollte man tunlichst meiden.</p>\n<h3>Antispam Bee</h3>\n<p>Wer daran denkt, die Kommentarfunktion seines Blogs freizugeben, der muss sich auf massiven Spam gefasst machen.<br>\nBei mir wehrt schon seit Bestehen dieses Blogs das Plugin <a href=\"http://wordpress.org/plugins/antispam-bee/\" target=\"_blank\" rel=\"external noopener noreferrer\">Antispam Bee</a> den Spam zuverlässig ab.</p>\n<h3>Contact Form 7</h3>\n<p>Wer auf seiner Seite ein Kontakt Formular anbieten möchte, kann auf <a href=\"http://wordpress.org/plugins/contact-form-7/\" target=\"_blank\" rel=\"external noopener noreferrer\">Contact Form 7</a> zurück greifen. Man kann beliebige Formulare konfigurieren und dann mittels Code Snippet auf einer Seite einbauen.</p>\n<h3>Freemium Plugin Wordfence Security</h3>\n<p>Zusätzliche Sicherheit und Update Informationen gibt es mit <a href=\"http://wordpress.org/plugins/wordfence/\" target=\"_blank\" rel=\"external noopener noreferrer\">Wordfence Security</a>. Es versendet E-Mail, wenn WordPress, oder ein Plugin veraltet ist. Ebenso können andere sicherheitsrelevante Einstellungen, wie die maximal zulässigen Loginversuche einstellen.</p>\n<h3>Crayon Syntax Highlighter</h3>\n<p>Wer oft Code in verschiedenen Programmiersprachen darstellt, wird um den <a href=\"http://wordpress.org/plugins/crayon-syntax-highlighter/\" target=\"_blank\" rel=\"external noopener noreferrer\">Crayon Syntax Highlighter</a> nicht herum kommen.</p>\n<h3>Infinite-Scroll</h3>\n<p>Facebook hat es vorgemacht, dein Blog könnte es auch. Wer den Usern ein Blättern der Seiten ersparen möchte, kann <a href=\"http://wordpress.org/plugins/infinite-scroll/\" target=\"_blank\" rel=\"external noopener noreferrer\">Infinite-Scroll</a> installieren, so dass per Ajax die zusätzlichen Seiten beim Erreichen des Seitenendes von alleine geladen werden.</p>\n<hr>\n<p>Weiter geht es mit <a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></p>\n<h3>Alle Teile dieser Serie</h3>\n<ul>\n<li><a href=\"/wordpress-unleashed-konzept/\" title=\"Wordpress unleashed: Konzept\">WordPress unleashed: Konzept</a></li>\n<li><a href=\"/wordpress-unleashed-testsystem/\" title=\"Wordpress unleashed: Testsystem\">WordPress unleashed: Testsystem</a></li>\n<li><a href=\"/wordpress-unleashed-lemp-stack/\" title=\"Wordpress unleashed: LEMP Stack\">WordPress unleashed: LEMP Stack</a></li>\n<li><a href=\"/wordpress-unleashed-datenbank-wordpress/\" title=\"Wordpress unleashed: Datenbank + WordPress\">WordPress unleashed: Datenbank + WordPress</a></li>\n<li><a href=\"/wordpress-unleashed-memcached-cachify/\" title=\"Wordpress unleashed: Memcached + Cachify\">WordPress unleashed: Memcached + Cachify</a></li>\n<li><a href=\"/wordpress-unleashed-autoptimize-js-css/\" title=\"Wordpress unleashed: WordPress unleashed: Autoptimize JS + CSS\">WordPress unleashed: WordPress unleashed: Autoptimize JS + CSS</a></li>\n<li><a href=\"/wordpress-unleashed-elasticsearch/\" title=\"Wordpress unleashed: Elasticsearch\">WordPress unleashed: Elasticsearch</a></li>\n<li><a href=\"/wordpress-unleashed-wordpress-plugins/\" title=\"Wordpress unleashed: WordPress Plugins\">WordPress unleashed: WordPress Plugins</a></li>\n<li><a href=\"/wordpress-unleashed-performance-tests/\" title=\"Wordpress unleashed: Performance Tests\">WordPress unleashed: Performance Tests</a></li>\n<li><a href=\"/wordpress-unleashed-nginx-absichern/\" title=\"Wordpress unleashed: Nginx absichern\">WordPress unleashed: Nginx absichern</a></li>\n</ul>","id":"3313f3fb-7d0c-5c03-a9c6-64d65588a6b1","frontmatter":{"title":"WordPress unleashed: WordPress Plugins","date":"2014-09-09","tags":["wordpress"]},"fields":{"slug":"/wordpress-unleashed-wordpress-plugins/"},"timeToRead":2}},{"node":{"excerpt":"Beim Kontrollieren meiner Logs musste ich heute feststellen, dass ein Botnetz versucht hat und immer noch dabei war, das XML-RPC Feature meiner WordPress Installation für Angriffe auf andere Server…","html":"<p>Beim Kontrollieren meiner Logs musste ich heute feststellen, dass ein Botnetz versucht hat und immer noch dabei war, das XML-RPC Feature meiner WordPress Installation für Angriffe auf andere Server auszunutzen.</p>\n<p>Die Versuche wurden zwar von der Nginx WAF NAXSI geblockt, die Logs sind dennoch explodiert. Das wird wohl auch damit zusammenhängen, dass hier fast 3500 Bots am Werke sind:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">grep</span> <span class=\"token string\">'xmlrpc.\nphp'</span> error.log error.log.1 <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'{print $7}'</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F <span class=\"token string\">'&amp;'</span> <span class=\"token string\">'{print $1}'</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F <span class=\"token string\">'='</span> <span class=\"token string\">'{print $2}'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> -u <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> -l\n<span class=\"token operator\">></span> <span class=\"token number\">3462</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Die Gesamtanzahl der Aufrufe je IP ist relativ gering. Die Angreifer versuchen dadurch wohl unter dem Radar von etwaigen Rate Limiting durchzufliegen:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">grep</span> <span class=\"token string\">'xmlrpc.php'</span> error.log error.log.1 <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> -l\n<span class=\"token operator\">></span> <span class=\"token number\">22853</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Ich benutze das XML-RPC Feature bei diesem Blog nicht. Deswegen hatte ich die xmlrpc.php auch vor einiger Zeit gelöscht. Durch ein Update wurde sie aber wieder eingespielt und ich hatte vergessen sie abermals zu entfernen.</p>\n<p>Ich hatte nun zwei Ziele. Zum einen, will ich den Zugriff auf die xmlrpc.php sperren, egal, ob sie existiert, oder nicht. Die CPU Leistung, die die WAF zum Blocken braucht, muss man ja nicht unnötig aufwenden. Zum zweiten, sollen die Zugriffe nicht mehr geloggt werden. Falls es den Bedarf einer genaueren Analyse geben sollte, kann man das Logging ja nachträglich wieder aktivieren.</p>\n<p>Um die Ziele zu erreichen habe ich eine neue Location in den Vhost an erster Stelle, noch vor dem Block \"location /\", eingetragen:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">location ~ xmlrpc.php {\n    access_log off;\n    error_log /dev/null crit;\n    deny all;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>","id":"58a6734a-a229-5a6e-9321-44bac8523955","frontmatter":{"title":"WordPress XML-RPC Angriff","date":"2014-07-20","tags":["wordpress","security"]},"fields":{"slug":"/wordpress-xml-rpc-angriff/"},"timeToRead":1}},{"node":{"excerpt":"Ab sofort muss man bei aktiviertem Javascript nicht mehr durch die einzelnen Übersichtsseiten scrollen. Ich habe das Plugin Infinite Scroll installiert. Es erlaubt bis zum ersten Post des Blogs zu…","html":"<p>Ab sofort muss man bei aktiviertem Javascript nicht mehr durch die einzelnen Übersichtsseiten scrollen.</p>\n<p>Ich habe das Plugin Infinite Scroll installiert. Es erlaubt bis zum ersten Post des Blogs zu scrollen, ohne auch nur einmal klicken zu müssen.</p>","id":"cc108606-ad16-5ffb-b605-7da5d712a294","frontmatter":{"title":"Infinite Scroll für den Blog","date":"2013-10-29","tags":["wordpress"]},"fields":{"slug":"/infinite-scroll-fuer-den-blog/"},"timeToRead":1}},{"node":{"excerpt":"Wie man sehen kann, hat sich so einiges am Blog geändert. Ich habe das mittlerweile in die Jahre gekommene Traction Theme gegen das modernere Expound mit Responsive Webdesign ausgetauscht. Sämtliche…","html":"<p>Wie man sehen kann, hat sich so einiges am Blog geändert.</p>\n<p>Ich habe das mittlerweile in die Jahre gekommene <strong>Traction Theme</strong> gegen das modernere <strong>Expound</strong> mit <strong>Responsive Webdesign</strong> ausgetauscht. Sämtliche Custom Seiten, wie der Config Generator sind bereits auf das neue Theme angepasst.</p>\n<p>Ich habe die Theme Umstellung gleich auch dafür genutzt, die Linksektion aufzuräumen. Des Weiteren ist nun mein Github Account mit all seinen Repositorys verlinkt.</p>","id":"0247dd9a-3aba-594b-a5b0-699767357875","frontmatter":{"title":"Generalüberholung des Blogs","date":"2013-09-14","tags":["wordpress"]},"fields":{"slug":"/generalueberholung-blogs/"},"timeToRead":1}},{"node":{"excerpt":"Warum es aus SEO und Marketinggründen so wichtig ist, eine schnelle Webseite zu haben kann man bei folgenden Links nachlesen: Using site speed in web search ranking Interview mit Matt Cutts Speed…","html":"<p>Warum es aus SEO und Marketinggründen so wichtig ist, eine schnelle Webseite zu haben kann man bei folgenden Links nachlesen:</p>\n<ul>\n<li><a href=\"http://googlewebmastercentral.blogspot.de/2010/04/using-site-speed-in-web-search-ranking.html\" title=\"Using site speed in web search ranking\" target=\"_blank\" rel=\"external noopener noreferrer\">Using site speed in web search ranking</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=dQkPhw5n4ZE\" title=\"Interview mit Matt Cutts\" target=\"_blank\" rel=\"external noopener noreferrer\">Interview mit Matt Cutts</a></li>\n<li><a href=\"http://www.getelastic.com/site-speed-infographic/\" target=\"_blank\" rel=\"external noopener noreferrer\">Speed Kills Conversion Rates</a></li>\n</ul>\n<p>Wie Goolge deinen Pagespeed bewertet kann man unter <a href=\"http://developers.google.com/speed/pagespeed/insights/\" target=\"_blank\" rel=\"external noopener noreferrer\">developers.google.com</a> überprüfen.</p>\n<p>In dem früheren Beitrag <a href=\"/wordpress-beschleunigen-mit-wp-redis-cache/\">WordPress beschleunigen mit Wp Redis Cache</a> habe ich beschrieben, wie man Fullpage Caching des WordPress Blogs mit der In-Memory Datenbank bzw. Key Value Store <strong>Redis</strong> betreiben kann. Alternativ zu <strong>Redis</strong> wird oft auch <strong>Memcached</strong>, oder die Festplatte genutzt. Das Ziel ist immer das gleiche. Der ansonsten nicht sehr schnelle Aufruf einer WordPress Seite soll beschleunigt werden. Erreicht wird das Ziel dadurch, dass beim Ausliefern der gecachten Inhalte der WordPress Core und damit auch MYSQL nicht mehr angefragt werden.</p>\n<p>Je nach Server und Belastung ist dabei die Festplatten oder die In-Memory Lösung besser geeignet. Letztere ist leider nur möglich, wenn man selber Herr über den Server ist. Insbesondere bei fertigem Webspace kommt nur HDD Caching in Frage.<br>\nWird eine In-Memory Datenbank genutzt, schaltet man den Flaschenhals Festplatte ab. Vorausgesetzt wird natürlich ein ausreichend großer Ram.</p>\n<p>Bei diesem Cache Konzept werden nach wie vor zahlreiche Verbindungen, File Handler und Sockets geöffnet. Im Schaubild nicht inbegriffen sind Ausführungen über Nameserver und TCP Connections:<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 488px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fb5a7bd10ac41287865d113fe819d494/bd48c/cache1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 142.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAD40lEQVRIx41ViXLaShD0/39DPuClKq6KU4md8BLHiY2NwY6NwUJcQidIoGN1rW76lRZDxOGXTNXWwiL19MxON0fYieVyyVYZXpRC9yIkWb757U9xdAiwDCeIcDOe42ps4kl1kOfFX4G+CijOCU4azzhr8fjWEUGTbOv313BfBYzSDJwRoqW4UEjMzoqiqAAu/w4Q+N3DOI4xmojwXAJCyF7Sg4C7WdnnysXkWQZRFHDbaEAYC6DRNttdxkf/lzVJUsZwPjdg6AaiKNpczqE2MUBZlmBZzopNniPLMhR5jjCK0dYI6hMLo0XAztaMXNeFaS6gaSpCGm0zvLm6RPupw3rk+z7CMEREQ/QnCmotHqcX97gezKCoKmNIKWXlPz48wrYtRHGyDfjz4jsefj1gYVqM4TriNENXI7iTHIwXPpbLYlNFj+thNBxClmTQXYa2ZcKxbUwEAa5LUB2yLM9Bk3QFth542wZx7J2ZrPSwlNbAjMDpPp6nLvh5AI8mO4O0ijQvwM8IejOyJ8cNw54R4N+OhHcX9zht8biRXMxcujVG64clO8SX9gSf2xOIVvgKoO7i830fb96d4Z9aHeecwgzhEOCMUNQFk60poXtmwgAf5QVqXQXnnIqvXYllrz68Ee3LPtYMCJqxOdtjaAUxJCeCQiKm2XJfG8E6Sl2XHTMdAklWkKQZkrxAsQNW7iulsFt8Wdi2KctxULvr4bTJ4aTexoebLs5uO/jU4iEb1ss7FYarHqwqWqK6L6GpCiRFxfVIxyWv4aR2jeOzS5x3JFyLNvqiiqmqMHVtGFYbX22w7vhocCKSfAk/TkFoApv4ID5l5muXu+fjlhMgz52dkg8IfaQY+Pjj12Ymsyxl0rQsE4HvI08TDMcCPny7RWeo/BmwVImoqL+lGMegNATP8xj0ecRJys6VqY44SfYBWbmVUShXyWSdIEkS9r3f74PrPOGp20WWFwh9F/3BAK7nH3Ls7SH1PLfijQnCMECn08Fds4n2Y5s5Uxh4EIQxZjN932A35WY53IBiIIjMF8vzsuTSvnRdh2HoUFUVxAswkTUQP9xMxp5jp2mGkeFiOA8gmBTDRYgZCZFnKQNdx9yLwBs+xosAA8NHf+awgT/av4wCN8Mpjq8emMbfNzj2cOB7DPBFExBNHw3Rwe3ERFMmeNQ8REl6ALBY4rI9wNuTr3j7vobjL3Xc9SbMB1d/TCtAxaH43lPxsdFFrS3gSQ8OA5a0n/UAP3kNnxoc6qMFZCfa67NkBWiqAe6nIZqqjwfNZS6/cymr7C6NMfNi6EEKw4tYZuwoqXxZdyk0J2TuRMLV5f0HhQ6zZ7zXcMgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cache1\"\n        title=\"cache1\"\n        src=\"/static/fb5a7bd10ac41287865d113fe819d494/bd48c/cache1.png\"\n        srcset=\"/static/fb5a7bd10ac41287865d113fe819d494/772e8/cache1.png 200w,\n/static/fb5a7bd10ac41287865d113fe819d494/e17e5/cache1.png 400w,\n/static/fb5a7bd10ac41287865d113fe819d494/bd48c/cache1.png 488w\"\n        sizes=\"(max-width: 488px) 100vw, 488px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Bei diesem Konzept fragt der Webserver bei PHP an, welches dann nach gecachten Inhalten sucht bzw. diese anlegt. Dabei geht natürlich Zeit verloren, wenn der Webserver bei PHP und PHP dann bei dem Cache anfragt.</p>\n<p>Ziel sollte es deswegen sein, den Zwischenschritt PHP auszulassen, wenn es bereits gecachte Inhalte gibt. Bei Nginx ist das Memcached Modul im Standard dabei, eine Redis Connector müsste erst als Third Party Modul in den Nginx kompiliert werden. Die Stabilität im Live Betrieb ist dabei dabei ungewiss. Aus diesem Grund sollte man lieber auf die In-Memory Datenbank Memcached setzen.</p>\n<p>Nun ist folgendes Konzept möglich:<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 494px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/925e4a313446b7d7afa2ec4514b50357/d72d4/cache2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 136%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAD1ElEQVRIx52VWW/bVhCF/f//Q5/71ARom6UNartOZCeOZcukREnWZi3cRHGRxH37Cl5Zi624QDvA1SWI0eGZe+bMPeGVKMtS7FmeEyVp9eLVnMM4qV5u1zZp+xynGYrpU1fXzLyILEtptZpYlkWSJAf5B4CHIIegVUwsj7c1md8uJc6VKWEUI0v39Hp9AfpDwGPae+BVmHAz9fg2XdM1V+RZxtLz/r3k6mc0HCDLMmEYHrFd+gHNbv/Zn187oh1gU5a4urxE142jL7pBgjyYEGfFD0V5SUAA9rsd7up1hv0+aRLvlmZa/N1ROe/o3I0tPNcVYkRRRJ7nR2VXzyfViS6DGC8ukLoDppaLtfTJ0gTNsvnrtsfHLxL1oYnjOGRZThhFqKpGKU4cAb5jWBQFDXXJqTLjvK1y0Ztzq66I0w0DfRUzsEPWcU5bXXAuDfisjPl090CtPeas0UOeLii2gFXjyobPr5cSP/3ykd+/tmhoa4I42daxUdxzOb3v86k1483pd37+9ZQ3F3f8IU+4HlnkRfHEsITLB4339R5vLm55W5M4a02InhhWEcUxcRyjugETL2GgOVxLXUbzFdNViuqGz/vwwVwhaSvhCllf0zFXpFlGlIOqGwLsZWi6JvYiS8V5V0JtRHlSJy82pRUHtvtw1eS2O94pWDzlmI7Hn9cK6tymrbQYDEfohk6lx84p3sJCublBHY9xXRfbcai3+rh+fNTAc9vj40Ud1VyIduu0u8xNc8Nwm+RYc75+ueRx9EgQBMI1r1msYqLpuniu8qIw2rlsB2gvFtw37ul0uwRPYOUW7IUb4iSlP55R/mDsPRsOjm0TBsGrtqoiSVLkmcNZR6djLAXbwzwhih/GOH7Mw6OK4awItz14EMJyYchoMqPWM3hXf6A+9cjL58dyUpYFvaptdJ/uIkIyfIbWWhScpinL5ZKFvRCAwr9libaMUOYhreEUf70Sdtx7Gbjrq7w9u+FDrcG7mkRN7rOw5mRZhmXNaTZl4ePDmUlZkKUpw0GPltLeA1Y/bdXlW8+k3jfF3tFcKuZVWHMTRVGQpQZza/GsV8V4c2wxdPfjqyyZOAH3xn5trPTUc6bJ1dUVd7e39B96O4aVGGGcMnicsI5isrzYl1yBJmkqbrdq50DZSnXDMMSybXvHTHfWKPqKgRPTMdZ0NWfvlONb5fndcnx1lkzdkNrQ5nNnxtXIFrMgz4vjW2/Xdy/ujP3afExdRpx3Nd5fK5y2pjQNX3TBCf8hDpt85vh8V30aZkRdC5A1b1Py/wWsBqoXxFirEHsdielUqfwPSBAWt/ZLlYkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cache2\"\n        title=\"cache2\"\n        src=\"/static/925e4a313446b7d7afa2ec4514b50357/d72d4/cache2.png\"\n        srcset=\"/static/925e4a313446b7d7afa2ec4514b50357/772e8/cache2.png 200w,\n/static/925e4a313446b7d7afa2ec4514b50357/e17e5/cache2.png 400w,\n/static/925e4a313446b7d7afa2ec4514b50357/d72d4/cache2.png 494w\"\n        sizes=\"(max-width: 494px) 100vw, 494px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Der Nginx öffnet bei der Useranfrage einen Socket zum Memcached Server und liefert gecachte Inhalte direkt aus dem Ram aus. Langsamere Festplattenzugriffe sind nicht mehr nötig. Ebenso wenig ist PHP bei bereits gecachten Inhalten involviert.<br>\nFalls eine Datei nicht im Cache gefunden werden kann, wird der normale PHP + MYSQL Prozess von WordPress durchlaufen und zusätzlich zur Ausgabe an den User das Ergebnis in die Memcached Datenbank geschrieben.</p>\n<p>Bei meinem Blog konnte ich die Ladenzeiten im Vergleich zu Konzept 1 dadurch im Optimum fast halbieren. Im Mittel wurde die Ladezeit um 1/3 gesenkt.</p>","id":"7c4de8a2-40ee-5422-991d-de64e6f04a1c","frontmatter":{"title":"Mehr Speed für WordPress mittels Fullpage Caching mit Nginx und Memcached","date":"2013-09-14","tags":["wordpress","nginx"]},"fields":{"slug":"/mehr-speed-fuer-wordpress-mittels-fullpage-caching-mit-nginx-und-memcached/"},"timeToRead":2}},{"node":{"excerpt":"Es war mal wieder Bastelzeit. Diesmal bin ich über die WordPress Erweiterung Wp Redis Cache gestolpert. Das Plugin Wp Redis Cache nutzt den Key Value Store Redis als Cache. Das Prinzip ist simpel…","html":"<p>Es war mal wieder Bastelzeit. Diesmal bin ich über die WordPress Erweiterung <a href=\"https://github.com/BenjaminAdams/wp-redis-cache\" target=\"_blank\" rel=\"external noopener noreferrer\">Wp Redis Cache</a> gestolpert. Das Plugin Wp Redis Cache nutzt den Key Value Store <a href=\"http://redis.io/\" target=\"_blank\" rel=\"external noopener noreferrer\">Redis</a> als Cache.</p>\n<p>Das Prinzip ist simpel. Ruft man eine Seite auf, wird sie in den Cache geschrieben. Dieser wird bei Redis im Ram vorgehalten, wodurch langsame Festplattenzugriffe entfallen. Rufe ich die Seite nun ein zweites Mal auf, wird der WordPress Core und die MYSQL/MariaDB im Hintergrund gar nicht erst angefragt, sondern gleich der Redis.</p>\n<p>Die Vorher Nachher Werte sind recht eindeutig.</p>\n<p>Vorher:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;!-- Cache system by Benjamin Adams. Page generated in 0.43773 seconds. --></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Nachher:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;!-- Cache system by Benjamin Adams. Page generated in 0.00935 seconds. --></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Das sind die Werte, die ich mit meinem kleinen Server4You Vserver erreichen konnte. Ein Bekannter war von der Idee recht angetan. So konnte ich wir gleich mal erforschen, was ein dedizierter Server an Vorsprung herausholen kann.</p>\n<p>Vorher:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;!-- Cache system by Benjamin Adams. Page generated in 0.57966 seconds. --></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Nachher:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;!-- Cache system by Benjamin Adams. Page generated in 0.0019 seconds. --></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Die Installation ist nicht so ganz straight forward. Zum einen muss man etwas in den PHP Dateien schreiben, zum anderen muss in der Lage sein, Redis auf den Server zu installieren.</p>\n<p>Bei Linux Debian bzw. Ubuntu geschieht das Installieren des Redis ganz normal über apt. Der Server sollte nach der Installation von selber gestartet werde.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> redis-server</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Im zweiten Schritt laden wir die PHP Dateien hoch. Die index-wp-redis.php kommt in das Hauptverzeichnis, der Ordner wp-redis-cache samt Inhalt wandert nach /htdocs/wp-content/plugins.</p>\n<p>Nun bearbeitet man die index-wp-redis.php. Die Werte müssen natürlich auf eure Bedingen angepasst werden.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token variable\">$seconds_cache_redis</span> <span class=\"token operator\">=</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">12</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 12 hours by default, you can change in this in wp-admin options page</span>\n<span class=\"token variable\">$ip_of_your_website</span>  <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'127.0.0.1'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//You must set this to the IP of your website</span>\n<span class=\"token variable\">$secret_string</span>       <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"ALSKdjgaklsgkhasdjhwASD\"</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Jetzt noch die index.php bearbeiten.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;?php\nrequire('index-wp-redis.php');\n//define('WP_USE_THEMES', true);\n//require('./wp-blog-header.php');\n?></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Im letzten Schritt logt man sich als Admin ein und aktiviert das Plugin in der Pluginübersicht.</p>","id":"9bcd22f6-cbf8-5013-91ad-34154198e7fc","frontmatter":{"title":"WordPress beschleunigen mit Wp Redis Cache","date":"2013-09-08","tags":["wordpress"]},"fields":{"slug":"/wordpress-beschleunigen-mit-wp-redis-cache/"},"timeToRead":2}},{"node":{"excerpt":"So wie es scheint gehen die Angriffe auf WordPress Blogs in die nächste Runde. Ich musste eben das Wordfence Plugin umstellen, damit es mich nicht mehr mit E-Mails zuspammt. Bisher wurde ich über…","html":"<p>So wie es scheint gehen die Angriffe auf WordPress Blogs in die nächste Runde. Ich musste eben das Wordfence Plugin umstellen, damit es mich nicht mehr mit E-Mails zuspammt. Bisher wurde ich über jeden fehlgeschlagenen Versuch ein Passwort zurückzusetzen, oder einen fehlgeschlagenen Loginversuch informiert. Innerhalb weniger Minuten hatte ich auf einmal über 600 Mails im Posteingang. Jede war für einen eigene Bot bzw. IP.</p>\n<p>Per Brutforce wird versucht die hier nicht mehr vorhandenen Accounts <strong>admin</strong>, <strong>adminadmin</strong> und <strong>administrator</strong> zu knacken.</p>\n<p>Der Angriff geht weiter, wenigstens werde ich nicht mehr mit Warnungen bombardiert. Den aktuellen Stand kann ich mit diesem Query nachvollziehen:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sql line-numbers\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>IP<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token punctuation\">`</span>attackerCount<span class=\"token punctuation\">`</span><span class=\"token punctuation\">,</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>IP<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>blockedHits<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> <span class=\"token punctuation\">`</span>totalAttacks<span class=\"token punctuation\">`</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">`</span>wp_wfLockedOut<span class=\"token punctuation\">`</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Nur 10 Minuten, nachdem ich das Mail Versenden ausgestellt hatte, ist das Ergebnis:</p>\n<blockquote>\n<p>attackerCount: 1573<br>\ntotalAttacks: 4927</p>\n</blockquote>","id":"9455e924-b257-599d-aea9-b34020cb55e7","frontmatter":{"title":"Grüße von einem Botnetz","date":"2013-05-30","tags":["wordpress","security"]},"fields":{"slug":"/gruse-von-einem-botnetz/"},"timeToRead":1}},{"node":{"excerpt":"WordPress hat eine Standardeigenschaft, die man erst im Log des Webservers sieht. Alle X Seitenaufrufe wir die Datei wp-cron.php aufgerufen. Im Log des Webservers sieht es dann so aus: 1.1.1.1 - - [1…","html":"<p>WordPress hat eine Standardeigenschaft, die man erst im Log des Webservers sieht. Alle X Seitenaufrufe wir die Datei <em>wp-cron.php</em> aufgerufen. Im Log des Webservers sieht es dann so aus:</p>\n<blockquote>\n<p>1.1.1.1 - - [15/Apr/2012:01:08:05 +0200] \"POST /wp-cron.php?doing_wp_cron=1334444885 HTTP/1.0\" 200 - \"-\" \"WordPress/3.3.1;\"</p>\n</blockquote>\n<p>Da das Intervall zwischen den einzelnen Zugriffen recht kurz ist, sind die Einträge im Log sehr zahlreich.</p>\n<p>Die Datei ist meines Wissens für Dinge wie das versenden von E-Mails bei neuen Kommentaren zuständig.</p>\n<p>Bei einem Blog der nur ein paar hundert Aufrufe in der Stunde hat und bei dem nur ab und zu Kommentare gepostet werden ist diese Funktion demnach eine Recourcenverschwendung.</p>\n<p>Eine Alternative musste demnach her.</p>\n<p>Als erstes habe ich die Funktion ganz deaktiviert, indem ich folgendes in die wp-config.php eingetragen habe:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'DISABLE_WP_CRON'</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Im nächsten Schritt habe ich einen Cronjob angelegt, der die Datei auf der Console ausführt:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">0 */1 * * * cd /homepages/domain.tld/httpd &amp;&amp; timeout=120 php ./wp-cron.php</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Der Cronjob ruft die Datei stündlich auf und ich kann weiterhin alle Funktionen wahrnehmen. Der wesentliche Unterschied liegt da drin, das der Webserver nicht alle X Aufrufe die Datei aufruft.</p>","id":"e34f6dc5-b6d7-5324-8f61-7608386577b6","frontmatter":{"title":"wp-cron.php?doing_wp_cron=1334444885","date":"2012-04-20","tags":["wordpress"]},"fields":{"slug":"/wp-cron-phpdoing_wp_cron1334444885/"},"timeToRead":1}},{"node":{"excerpt":"Wie so ziemlich jede andere Webseite auch kämpft mein Blog mit Spamern. Vertreten ist dabei so ziemlich alles. Angefangen von Referrer Spam, der bei Statistikseiten auftreten würde, über Spam in den…","html":"<p>Wie so ziemlich jede andere Webseite auch kämpft mein Blog mit Spamern. Vertreten ist dabei so ziemlich alles.<br>\nAngefangen von Referrer Spam, der bei Statistikseiten auftreten würde, über Spam in den Kommentar Feldern, bis hin zu Versuchen durch Fake Postings meinen ohnehin niedrigen Pagerank zu senken ist alles dabei.</p>\n<p>Damit die automatisierten und gezielten Versuche keinen Erfolg haben, ergreife ich verschiedenen Maßnahmen.</p>\n<p>Seiten mit Statistiken führe ich nicht. Deswegen erreicht man mit Referrer Spam nichts, außer die Logdatei etwas zu füllen.</p>\n<p>Die Spambots werden zuverlässig von dem WordPress Plugin <a href=\"http://wordpress.org/extend/plugins/antispam-bee/\" target=\"_blank\" rel=\"external noopener noreferrer\">Antispam Bee</a> aufgehalten. Alle paar Tage schaue ich dann einmal in den Spam Ordner, um zu sehen, ob nicht doch einmal ein Beitrag fälschlicherweise als Spam eingeordnet wurde. Dies kommt zum Glück nur alle paar Monate einmal vor.</p>\n<p>Da Kommentare freigegeben werden müssen, sind Versuche, den Pagerank zu senken, ebenfalls nicht von Erfolg gekrönt.</p>","id":"92b4aac1-ac0b-5e9f-94a2-1a78d4d7601f","frontmatter":{"title":"Wordpress und der Spam","date":"2011-12-05","tags":["wordpress","spam"]},"fields":{"slug":"/wordpress-und-der-spam/"},"timeToRead":1}},{"node":{"excerpt":"Ich bin ja schon einiges an Spam gewöhnt und kann auch in aller Regel die Ziele anhand des Spams nachvollziehen. Jedoch wird in letzter Zeit mein Blog mit Spam erfolglos zugebombt, den ich nicht…","html":"<p>Ich bin ja schon einiges an Spam gewöhnt und kann auch in aller Regel die Ziele anhand des Spams nachvollziehen.</p>\n<p>Jedoch wird in letzter Zeit mein Blog mit Spam erfolglos zugebombt, den ich nicht zuordnen kann. Erfolglos deswegen, weil die Filter ihn aussondern.</p>\n<p>Als Domain wird bei dem Kommentar immer eine bekannte Suchmaschine, oder Social Network angegeben. Dies sind zum Beispiel bing, google, facebook und so weiter.</p>\n<p>Die eingegebenen Email Adressen sind in etwas \"<a href=\"mailto:rabus@users.sourceforge.net\" target=\"_blank\" rel=\"external noopener noreferrer\">rabus@users.sourceforge.net</a>\" und dergleichen.</p>\n<p>Die Spam Kommentare dazu sind dann in etwas so:</p>\n<ul>\n<li>That’s a mold-beraekr. Great thinking!</li>\n<li>Whoeevr wrote this, you know how to make a good article.</li>\n</ul>\n<p>In diesem Fall wird also in keiner Weise Werbung gemacht, Backlinks gesetzt, oder dergleichen.</p>\n<p>Eine Google Suche förderte nur zahlreiche Seiten zur Tage, die erfolgreich bespamt wurden, nicht aber was diese Art von Spam bezweckt.</p>\n<p>Falls mich jemand darüber aufklären kann, wäre ich sehr dankbar.</p>","id":"e939d581-dd86-5903-916a-ebf0c12406c2","frontmatter":{"title":"Merkwürdiger Spam","date":"2011-08-19","tags":["wordpress","spam"]},"fields":{"slug":"/merkwurdiger-spam/"},"timeToRead":1}},{"node":{"excerpt":"Eins vorne weg, ich habe leider vergessen, die Benchmarks zu speichern, weswegen ich hier keine Zahlen zum Vergleich anführen kann. Mir viel in letzter Zeit auf, dass der Seitenaufruf oft sehr langsam…","html":"<p>Eins vorne weg, ich habe leider vergessen, die Benchmarks zu speichern, weswegen ich hier keine Zahlen zum Vergleich anführen kann.</p>\n<p>Mir viel in letzter Zeit auf, dass der Seitenaufruf oft sehr langsam von Statten ging, obwohl der Webserver mehr oder minder im Idle Zustand war. Es ging deswegen davon aus, dass das Problem an WordPress selber liegt.</p>\n<p>Ich hatte zwar Plugins im nur einstelligen Bereich installiert, dennoch waren zu dem Zeitpunkt bereits 2 Plugins am laufen, die weder die User, noch ich wirklich einsetzen. Beide brachten einige *.js Dateien mit sich.<br>\nIm ersten Schritt habe ich deswegen alles deaktiviert, was nicht gebraucht wird.<br>\nSchon diese einfache Maßnahme beschleunigte die Seite spürbar. Die ab Benchmark bestätigte dann auch diesen subjektiven Eindruck.</p>\n<p>Man hätte nun an dieser Stelle stoppen können. Einmal angefangen, wollte ich aber alles einfach umsetzbare machen, und begann mich genauer zu informieren.</p>\n<p>Schnell wurde mir klar, dass ich cachen muss, wenn ich den Seitenaufbau weiter beschleunigen möchte. Ich begann mich deswegen nach vorgefertigten Lösungen umzusehen.</p>\n<p>Das erste Cache Plugin beschleunigte die Page zwar etwas, hatte aber so seine Schwächen. Z.B. musste man den Cache per Hand löschen, wenn man einen neuen Artikel geschrieben hatte. Des Weiteren cachte es die SQL Queries nicht.</p>\n<p>In einem Forum habe ich dann den Vorschlag gelesen, die beiden Plugins <a href=\"http://www.ivankristianto.com/web-development/programming/db-cache-reloaded-fix-for-wordpress-3-1/1784/\" target=\"_blank\" rel=\"external noopener noreferrer\">DB Cache Reloaded Fix</a> und <a href=\"http://www.satollo.net/plugins/hyper-cache\" target=\"_blank\" rel=\"external noopener noreferrer\">Hyper Cache</a> zusammen einzusetzen. Ich entfernte das alte cache Plugin und installierte die beiden neuen.</p>\n<p>Im Anschluss lies ich abermals die ab Benchmark laufen und war positiv überrascht. Im Vergleich zum Zeitpunkt, an dem mir die Seite viel zu langsam vorgekommen ist, waren die Seitenaufrufe um ca. 1/3 schneller geworden. Mit diesem Ergebnis kann ich gut leben.</p>\n<p>Es gibt also keinen einzelnen Trick, mit dem man WordPress Beine machen kann. Vielmehr bringt erst die Summe an Maßnahmen einen spür- und messbaren Erfolg.</p>","id":"eec0892d-fd54-5efa-aaa0-5c0e6dbae820","frontmatter":{"title":"Den Seitenaufruf bei WordPress beschleunigen","date":"2011-08-14","tags":["wordpress"]},"fields":{"slug":"/den-seitenaufruf-bei-wordpress-beschleunigen/"},"timeToRead":1}},{"node":{"excerpt":"Gibt ein Kommentator bei WordPress eine Homepage an, bindet sie Worpress standardmäßig mit folgendem Attribut ein:  Suchmaschinen sehen den Link zwar, jedoch wird er nicht als Backlink gewertet…","html":"<p>Gibt ein Kommentator bei WordPress eine Homepage an, bindet sie Worpress standardmäßig mit folgendem Attribut ein:<br>\n<code class=\"language-text\">rel='external nofollow'</code></p>\n<p>Suchmaschinen sehen den Link zwar, jedoch wird er nicht als Backlink gewertet. Grundsätzlich steigt die eigene Wertigkeit, mit der Anzahl und der Qualität der Backlinks bei Suchmaschinen an. Von daher ist es für den ein oder anderen Kommentator interessant, wenn nofollow nicht gesetzt wird.</p>\n<p>Wenn es nicht gewertet wird, sollte man eigentlich für Spammer uninteressant sein. Deswegen störte mich diese Einstellung nicht weiter. Nun ist es aber so, dass bei meinem Blog täglich dutzende Spammeinträge geblockt werden, obwohl nofollow gesetzt ist. Die Spammer und Spambots scheint es demnach nicht wirklich zu interessieren, ob nofollow gesetzt ist, oder nicht.</p>\n<p>Wenn jemand einen Sinnvollen Kommentar abgibt, hat er es eigentlich auch verdient, dass er dafür einen Backlink bekommt. Da nofollow ja offensichtlich nichts gegen Spam bringt, habe ich mich dazu entschlossen, bei Kommentaren nofollow zu deaktivieren.<br>\nDies ist recht einfach zu bewerkstelligen, indem man in seinem wp-includes, oder wie immer auch man ihn halt so umbenannt hat, Ordner die Datei comment-template.php öffnet und in der Zeile 155 folgenden Eintrag abändert:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token variable\">$return</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"&lt;a class=\"</span>url<span class=\"token string double-quoted-string\">\" href=\"</span><span class=\"token operator\">%</span><span class=\"token number\">24</span>url<span class=\"token string double-quoted-string\">\" rel=\"</span>external nofollow<span class=\"token string double-quoted-string\">\"><span class=\"token interpolation\"><span class=\"token variable\">$author</span></span>&lt;/a>\"</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Wird zu:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token operator\">&lt;</span>pre <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"brush:php\"</span><span class=\"token operator\">></span><span class=\"token variable\">$return</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"&lt;a class=\"</span>url<span class=\"token string double-quoted-string\">\" href=\"</span><span class=\"token operator\">%</span><span class=\"token number\">24</span>url<span class=\"token string double-quoted-string\">\"><span class=\"token interpolation\"><span class=\"token variable\">$author</span></span>&lt;/a>\"</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>","id":"9ac212c2-604a-50f4-aff6-b23eb30a3d58","frontmatter":{"title":"NoFollow, DoFollow und der Spam","date":"2011-02-11","tags":["wordpress","spam"]},"fields":{"slug":"/nofollow-dofollow-und-der-spam/"},"timeToRead":1}},{"node":{"excerpt":"Ich habe eben in der Adminoberfläche gesehen, dass Worpress in einer neuen Version vorliegt. Die neue Versionsnummer ist 3.05. Da ich aus Sicherheitsgründen PGP Funktionen wie exec() und fopen() auf…","html":"<p>Ich habe eben in der Adminoberfläche gesehen, dass <a href=\"http://wordpress.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">Worpress</a> in einer neuen Version vorliegt. Die neue Versionsnummer ist <a href=\"http://wordpress-deutschland.org/\" target=\"_blank\" rel=\"external noopener noreferrer\">3.05</a>.<br>\nDa ich aus Sicherheitsgründen PGP Funktionen wie exec() und fopen() auf meinem Webspace deaktiviert habe, kann ich nicht den Updater im Menu benutzen und muss die Updates manuell einspielen.<br>\nWährend ich da Update von der Worpress Seite herunter geladen habe, hab ich wie immer in solchen Fällen, erst einmal von allem ein Backup gemacht.</p>\n<p>Nachdem der Download und das Back erfolgreich abgeschlossen waren, ging es an das Hochladen der neuen Dateien.<br>\nNach dem Upload habe ich dann noch kurz überprüft, ob alles läuft.<br>\nDa das Backup zum Glück nicht benötigt wurde, wanderte es in das Archiv. In Zeiten billigen Speicherplatzes ist ein großes Archiv ja kein Problem mehr. Außerdem habe ich lieber ein Backup zu viel, als eines zu wenig.</p>","id":"4eb47ccf-2175-5ece-a0d3-c76c8b58e894","frontmatter":{"title":"WordPress 3.05 erschienen","date":"2011-02-11","tags":["wordpress"]},"fields":{"slug":"/wordpress-3-05-erschienen/"},"timeToRead":1}}]}},"pageContext":{"tag":"wordpress"}},"staticQueryHashes":["1134651766","2457448410","258428790","551055924"]}